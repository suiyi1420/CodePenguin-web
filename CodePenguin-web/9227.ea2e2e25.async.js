var ji=Object.defineProperty;var En=Math.pow,xn=Object.assign;var Dt=(we,c,te)=>(typeof c!="symbol"&&(c+=""),c in we?ji(we,c,{enumerable:!0,configurable:!0,writable:!0,value:te}):we[c]=te),Jn=(we,c,te)=>{if(!c.has(we))throw TypeError("Cannot "+te)},G=(we,c,te)=>(Jn(we,c,"read from private field"),te?te.call(we):c.get(we)),ze=(we,c,te,r)=>(Jn(we,c,"write to private field"),r?r.call(we,te):c.set(we,te),te),Re=(we,c,te)=>(Jn(we,c,"access private method"),te),Xt=(we,c,te)=>new Promise((r,H)=>{var i=q=>{try{d(te.next(q))}catch(m){H(m)}},k=q=>{try{d(te.throw(q))}catch(m){H(m)}},d=q=>q.done?r(q.value):Promise.resolve(q.value).then(i,k);d((te=te.apply(we,c)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9227],{38601:function(we,c,te){"use strict";var r=te(54141);function H(m){var U=Object.create(null);return m&&Object.keys(m).forEach(function(W){if(W!=="default"){var F=Object.getOwnPropertyDescriptor(m,W);Object.defineProperty(U,W,F.get?F:{enumerable:!0,get:function(){return m[W]}})}}),U.default=m,Object.freeze(U)}var i=H(te(67294)),k=function(m){var U=m.files,W=i.useRef(),F=i.useContext(r.LocalizationContext).l10n,T=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,E=i.useRef([]),f=F&&F.attachment?F.attachment.clickToDownload:"Click to download",o=function(s){var n=W.current,a=[].slice.call(n.getElementsByClassName("rpv-attachment__item"));if(a.length!==0){a.forEach(function(u){return u.setAttribute("tabindex","-1")});var t=document.activeElement,e=a[Math.min(a.length-1,Math.max(0,s(a,t)))];e.setAttribute("tabindex","0"),e.focus()}};return r.useIsomorphicLayoutEffect(function(){var s=W.current;if(s){var n=[].slice.call(s.getElementsByClassName("rpv-attachment__item"));if(E.current=n,n.length>0){var a=n[0];a.focus(),a.setAttribute("tabindex","0")}}},[]),i.createElement("div",{"data-testid":"attachment__list",className:r.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":T}),ref:W,tabIndex:-1,onKeyDown:function(s){switch(s.key){case"ArrowDown":s.preventDefault(),o(function(n,a){return n.indexOf(a)+1});break;case"ArrowUp":s.preventDefault(),o(function(n,a){return n.indexOf(a)-1});break;case"End":s.preventDefault(),o(function(n,a){return n.length-1});break;case"Home":s.preventDefault(),o(function(n,a){return 0})}}},U.map(function(s){return i.createElement("button",{className:"rpv-attachment__item",key:s.fileName,tabIndex:-1,title:f,type:"button",onClick:function(){return n=s.fileName,a=s.data,t=typeof a=="string"?"":URL.createObjectURL(new Blob([a],{type:""})),(e=document.createElement("a")).style.display="none",e.href=t||n,e.setAttribute("download",function(u){var p=u.split("/").pop();return p?p.split("#")[0].split("?")[0]:u}(n)),document.body.appendChild(e),e.click(),document.body.removeChild(e),void(t&&URL.revokeObjectURL(t));var n,a,t,e}},s.fileName)}))},d=function(m){var U=m.doc,W=i.useContext(r.LocalizationContext).l10n,F=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,T=W&&W.attachment?W.attachment.noAttachment:"There is no attachment",E=i.useState({files:[],isLoaded:!1}),f=E[0],o=E[1];return i.useEffect(function(){U.getAttachments().then(function(s){var n=s?Object.keys(s).map(function(a){return{data:s[a].content,fileName:s[a].filename}}):[];o({files:n,isLoaded:!0})})},[U]),f.isLoaded?f.files.length===0?i.createElement("div",{"data-testid":"attachment__empty",className:r.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":F})},T):i.createElement(k,{files:f.files}):i.createElement(r.Spinner,null)},q=function(m){var U=m.store,W=i.useState(U.get("doc")),F=W[0],T=W[1],E=function(f){T(f)};return i.useEffect(function(){return U.subscribe("doc",E),function(){U.unsubscribe("doc",E)}},[]),F?i.createElement(d,{doc:F}):i.createElement("div",{className:"rpv-attachment__loader"},i.createElement(r.Spinner,null))};c.attachmentPlugin=function(){var m=i.useMemo(function(){return r.createStore({})},[]);return{onDocumentLoad:function(U){m.update("doc",U.doc)},Attachments:function(){return i.createElement(q,{store:m})}}}},27504:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(38601)},38200:function(we,c,te){"use strict";var r=te(54141);function H(f){var o=Object.create(null);return f&&Object.keys(f).forEach(function(s){if(s!=="default"){var n=Object.getOwnPropertyDescriptor(f,s);Object.defineProperty(o,s,n.get?n:{enumerable:!0,get:function(){return f[s]}})}}),o.default=f,Object.freeze(o)}var i,k=H(te(67294)),d=function(){return d=Object.assign||function(f){for(var o,s=1,n=arguments.length;s<n;s++)for(var a in o=arguments[s])Object.prototype.hasOwnProperty.call(o,a)&&(f[a]=o[a]);return f},d.apply(this,arguments)},q=function(){return k.createElement(r.Icon,{size:16},k.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},m=function(){return k.createElement(r.Icon,{size:16},k.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},U=function(f){var o=f.bookmark,s=f.depth,n=f.doc,a=f.index,t=f.isBookmarkExpanded,e=f.numberOfSiblings,u=f.pathFromRoot,p=f.renderBookmarkItem,C=f.store,L=u?"".concat(u,".").concat(a):"".concat(a),x=k.useMemo(function(){return function(R){var D=R.count,V=R.items;if(D>=0)return!1;var Y=V.length;if(Y===0)return!1;for(var ee=V.concat([]);ee.length>0;){var fe=ee.shift(),de=fe.items;fe.count&&de&&fe.count>0&&de.length>0&&(Y+=de.length,ee=ee.concat(de))}return Math.abs(D)===Y}(o)},[o]),g=C.get("bookmarkExpandedMap"),z=t?t({bookmark:o,doc:n,depth:s,index:a}):g.has(L)?g.get(L):!x,Q=k.useState(z),w=Q[0],B=Q[1],P=o.items&&o.items.length>0,O=function(){var R=!w;C.updateCurrentValue("bookmarkExpandedMap",function(D){return D.set(L,R)}),B(R)},I=function(){var R=o.dest,D=C.get("jumpToDestination");r.getDestination(n,R).then(function(V){D&&D(d({label:o.title},V))})},$=function(){P&&o.dest&&I()},K=function(){!P&&o.dest&&I()},M=function(R,D){return k.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*s,"rem")},onClick:R},D)},b=function(R,D){return P?k.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(s,"-").concat(a),onClick:O},w?R:D):k.createElement("span",{className:"rpv-bookmark__toggle"})},_=function(R){return o.url?k.createElement("a",{className:"rpv-bookmark__title",href:o.url,rel:"noopener noreferrer nofollow",target:o.newWindow?"_blank":""},o.title):k.createElement("div",{className:"rpv-bookmark__title","aria-label":o.title,onClick:R},o.title)};return k.createElement("li",{"aria-expanded":w?"true":"false","aria-label":o.title,"aria-level":s+1,"aria-posinset":a+1,"aria-setsize":e,role:"treeitem",tabIndex:-1},p?p({bookmark:o,depth:s,hasSubItems:P,index:a,isExpanded:w,path:L,defaultRenderItem:M,defaultRenderTitle:_,defaultRenderToggle:b,onClickItem:K,onClickTitle:$,onToggleSubItems:O}):M(K,k.createElement(k.Fragment,null,b(k.createElement(q,null),k.createElement(m,null)),_($))),P&&w&&k.createElement(W,{bookmarks:o.items,depth:s+1,doc:n,isBookmarkExpanded:t,isRoot:!1,pathFromRoot:L,renderBookmarkItem:p,store:C}))},W=function(f){var o=f.bookmarks,s=f.depth,n=s===void 0?0:s,a=f.doc,t=f.isBookmarkExpanded,e=f.isRoot,u=f.pathFromRoot,p=f.renderBookmarkItem,C=f.store;return k.createElement("ul",{className:"rpv-bookmark__list",role:e?"tree":"group",tabIndex:-1},o.map(function(L,x){return k.createElement(U,{bookmark:L,depth:n,doc:a,index:x,isBookmarkExpanded:t,key:x,numberOfSiblings:o.length,pathFromRoot:u,renderBookmarkItem:p,store:C})}))};(function(f){f[f.Collapse=0]="Collapse",f[f.Expand=1]="Expand"})(i||(i={}));var F=function(f){var o=f.bookmarks,s=f.doc,n=f.isBookmarkExpanded,a=f.renderBookmarkItem,t=f.store,e=k.useRef(),u=function(x){var g=e.current;if(g&&x.target instanceof HTMLElement&&g.contains(x.target))switch(x.key){case"ArrowDown":x.preventDefault(),C(function(z,Q){return z.indexOf(Q)+1});break;case"ArrowLeft":x.preventDefault(),L(i.Collapse);break;case"ArrowRight":x.preventDefault(),L(i.Expand);break;case"ArrowUp":x.preventDefault,C(function(z,Q){return z.indexOf(Q)-1});break;case"End":x.preventDefault(),C(function(z,Q){return z.length-1});break;case" ":case"Enter":case"Space":x.preventDefault(),p();break;case"Home":x.preventDefault(),C(function(z,Q){return 0})}},p=function(){var x=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");x&&x.click()},C=function(x){var g=e.current,z=[].slice.call(g.getElementsByClassName("rpv-bookmark__item"));if(z.length!==0){var Q=document.activeElement,w=z[Math.min(z.length-1,Math.max(0,x(z,Q)))];Q.setAttribute("tabindex","-1"),w.setAttribute("tabindex","0"),w.focus()}},L=function(x){var g=e.current;if([].slice.call(g.getElementsByClassName("rpv-bookmark__item")).length!==0){var z=document.activeElement.closest(".rpv-bookmark__item"),Q=x===i.Collapse?"true":"false";if(z&&z.parentElement.getAttribute("aria-expanded")===Q){var w=z.querySelector(".rpv-bookmark__toggle");w&&w.click()}}};return k.useEffect(function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}},[]),k.useEffect(function(){var x=e.current;if(x){var g=[].slice.call(x.getElementsByClassName("rpv-bookmark__item"));g.length>0&&(g[0].focus(),g[0].setAttribute("tabindex","0"))}},[]),k.createElement("div",{ref:e},k.createElement(W,{bookmarks:o,depth:0,doc:s,isBookmarkExpanded:n,isRoot:!0,pathFromRoot:"",renderBookmarkItem:a,store:t}))},T=function(f){var o=f.doc,s=f.isBookmarkExpanded,n=f.renderBookmarkItem,a=f.store,t=k.useContext(r.LocalizationContext).l10n,e=k.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,u=k.useState({isLoaded:!1,items:[]}),p=u[0],C=u[1];return k.useEffect(function(){C({isLoaded:!1,items:[]}),o.getOutline().then(function(L){C({isLoaded:!0,items:L||[]})})},[o]),p.isLoaded?p.items.length===0?k.createElement("div",{"data-testid":"bookmark__empty",className:r.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":e})},t&&t.bookmark?t.bookmark.noBookmark:"There is no bookmark"):k.createElement("div",{"data-testid":"bookmark__container",className:r.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":e})},k.createElement(F,{bookmarks:p.items,doc:o,isBookmarkExpanded:s,renderBookmarkItem:n,store:a})):k.createElement("div",{className:"rpv-bookmark__loader"},k.createElement(r.Spinner,null))},E=function(f){var o=f.isBookmarkExpanded,s=f.renderBookmarkItem,n=f.store,a=k.useState(n.get("doc")),t=a[0],e=a[1],u=function(p){e(p)};return k.useEffect(function(){return n.subscribe("doc",u),function(){n.unsubscribe("doc",u)}},[]),t?k.createElement(T,{doc:t,isBookmarkExpanded:o,renderBookmarkItem:s,store:n}):k.createElement("div",{className:"rpv-bookmark__loader"},k.createElement(r.Spinner,null))};c.DownArrowIcon=q,c.RightArrowIcon=m,c.bookmarkPlugin=function(){var f=k.useMemo(function(){return r.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(o){f.update("jumpToDestination",o.jumpToDestination)},onDocumentLoad:function(o){f.update("doc",o.doc)},Bookmarks:function(o){return k.createElement(E,{isBookmarkExpanded:o==null?void 0:o.isBookmarkExpanded,renderBookmarkItem:o==null?void 0:o.renderBookmarkItem,store:f})}}}},42227:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(38200)},89469:function(we,c,te){"use strict";var r=te(67294),H=te(99299);function i(y){var j=Object.create(null);return y&&Object.keys(y).forEach(function(ie){if(ie!=="default"){var se=Object.getOwnPropertyDescriptor(y,ie);Object.defineProperty(j,ie,se.get?se:{enumerable:!0,get:function(){return y[ie]}})}}),j.default=y,Object.freeze(j)}var k,d=i(r),q=i(H);c.AnnotationType=void 0,(k=c.AnnotationType||(c.AnnotationType={}))[k.Text=1]="Text",k[k.Link=2]="Link",k[k.FreeText=3]="FreeText",k[k.Line=4]="Line",k[k.Square=5]="Square",k[k.Circle=6]="Circle",k[k.Polygon=7]="Polygon",k[k.Polyline=8]="Polyline",k[k.Highlight=9]="Highlight",k[k.Underline=10]="Underline",k[k.Squiggly=11]="Squiggly",k[k.StrikeOut=12]="StrikeOut",k[k.Stamp=13]="Stamp",k[k.Caret=14]="Caret",k[k.Ink=15]="Ink",k[k.Popup=16]="Popup",k[k.FileAttachment=17]="FileAttachment";var m=function(y,j){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,se){ie.__proto__=se}||function(ie,se){for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&(ie[ue]=se[ue])},m(y,j)};function U(y,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");function ie(){this.constructor=y}m(y,j),y.prototype=j===null?Object.create(j):(ie.prototype=j.prototype,new ie)}var W,F=function(){return F=Object.assign||function(y){for(var j,ie=1,se=arguments.length;ie<se;ie++)for(var ue in j=arguments[ie])Object.prototype.hasOwnProperty.call(j,ue)&&(y[ue]=j[ue]);return y},F.apply(this,arguments)};c.TextDirection=void 0,(W=c.TextDirection||(c.TextDirection={})).RightToLeft="RTL",W.LeftToRight="LTR";var T,E=d.createContext({currentTheme:"light",direction:c.TextDirection.LeftToRight,setCurrentTheme:function(){}}),f=function(y){var j=[];return Object.keys(y).forEach(function(ie){ie&&y[ie]&&j.push(ie)}),j.join(" ")},o=typeof window!="undefined"?d.useLayoutEffect:d.useEffect,s=function(y){var j=d.useRef(null),ie=y.once,se=y.threshold,ue=y.onVisibilityChanged;return o(function(){var he=j.current;if(he){var _e=new IntersectionObserver(function(me){me.forEach(function(ce){var be=ce.isIntersecting,ge=ce.intersectionRatio;ue({isVisible:be,ratio:ge}),be&&ie&&(_e.unobserve(he),_e.disconnect())})},{threshold:se||0});return _e.observe(he),function(){_e.unobserve(he),_e.disconnect()}}},[]),j},n=function(y){var j=y.children,ie=y.ignoreDirection,se=ie!==void 0&&ie,ue=y.size,he=ue===void 0?24:ue,_e=d.useContext(E).direction,me=!se&&_e===c.TextDirection.RightToLeft,ce="".concat(he||24,"px");return d.createElement("svg",{"aria-hidden":"true",className:f({"rpv-core__icon":!0,"rpv-core__icon--rtl":me}),focusable:"false",height:ce,viewBox:"0 0 24 24",width:ce},j)},a=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},t=function(y){var j=y.children,ie=y.testId,se=y.onClick,ue=d.useContext(E).direction===c.TextDirection.RightToLeft,he=ie?{"data-testid":ie}:{};return d.createElement("button",F({className:f({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":ue}),type:"button",onClick:se},he),j)},e=function(y){var j=y.size,ie=j===void 0?"4rem":j,se=y.testId,ue=d.useState(!1),he=ue[0],_e=ue[1],me=se?{"data-testid":se}:{},ce=s({onVisibilityChanged:function(be){_e(be.isVisible)}});return d.createElement("div",F({},me,{className:f({"rpv-core__spinner":!0,"rpv-core__spinner--animating":he}),ref:ce,style:{height:ie,width:ie}}))},u=function(y){var j=y.ariaLabel,ie=j===void 0?"":j,se=y.autoFocus,ue=se!==void 0&&se,he=y.placeholder,_e=he===void 0?"":he,me=y.testId,ce=y.type,be=ce===void 0?"text":ce,ge=y.value,Te=ge===void 0?"":ge,Me=y.onChange,Pe=y.onKeyDown,Ne=Pe===void 0?function(){}:Pe,Le=d.useContext(E).direction,Ie=d.useRef(),dt=Le===c.TextDirection.RightToLeft,Ze={ref:Ie,"data-testid":"","aria-label":ie,className:f({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":dt}),placeholder:_e,value:Te,onChange:function(Je){return Me(Je.target.value)},onKeyDown:Ne};return me&&(Ze["data-testid"]=me),o(function(){if(ue){var Je=Ie.current;if(Je){var nt=window.scrollX,We=window.scrollY;Je.focus(),window.scrollTo(nt,We)}}},[]),be==="text"?d.createElement("input",F({type:"text"},Ze)):d.createElement("input",F({type:"password"},Ze))};(function(y){y[y.ExitFullScreen=0]="ExitFullScreen",y[y.FullScreenChange=1]="FullScreenChange",y[y.FullScreenElement=2]="FullScreenElement",y[y.FullScreenEnabled=3]="FullScreenEnabled",y[y.RequestFullScreen=4]="RequestFullScreen"})(T||(T={}));var p,C={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},L={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},x={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},g=typeof window!="undefined",z=g&&(T.FullScreenEnabled in document&&C||L.FullScreenEnabled in document&&L||x.FullScreenEnabled in document&&x)||C,Q=function(){return g&&z.FullScreenEnabled in document&&document[z.FullScreenEnabled]===!0},w=function(y){return g?y[z.ExitFullScreen]():Promise.resolve({})},B=function(){return g?document[z.FullScreenElement]:null},P=function(y,j){var ie=d.useRef(),se=function(){ie.current&&clearTimeout(ie.current)};return d.useEffect(function(){return function(){return se()}},[]),d.useCallback(function(){for(var ue=[],he=0;he<arguments.length;he++)ue[he]=arguments[he];se(),ie.current=setTimeout(function(){y.apply(void 0,ue)},j)},[y,j])},O=function(){var y=d.useRef(!1);return d.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]),y},I=function(y){var j=d.useRef(y);return d.useEffect(function(){j.current=y},[y]),j.current};(function(y){y.NotRenderedYet="NotRenderedYet",y.Rendering="Rendering",y.Rendered="Rendered"})(p||(p={}));var $,K=-9999,M=function(y){var j=y.doc,ie=j.numPages,se=j.loadingTask.docId,ue=d.useMemo(function(){return Array(ie).fill(null).map(function(me,ce){return{pageIndex:ce,renderStatus:p.NotRenderedYet,visibility:K}})},[se]),he=d.useRef({currentRenderingPage:-1,startRange:0,endRange:ie-1,visibilities:ue}),_e=function(me,ce){he.current.visibilities[me].visibility=ce};return{getHighestPriorityPage:function(){var me=he.current.visibilities.slice(he.current.startRange,he.current.endRange+1).filter(function(Me){return Me.visibility>K});if(!me.length)return-1;for(var ce=me[0].pageIndex,be=me[me.length-1].pageIndex,ge=me.length,Te=0;Te<ge;Te++){if(me[Te].renderStatus===p.Rendering)return-1;if(me[Te].renderStatus===p.NotRenderedYet)return me[Te].pageIndex}return be+1<ie&&he.current.visibilities[be+1].renderStatus!==p.Rendered?be+1:ce-1>=0&&he.current.visibilities[ce-1].renderStatus!==p.Rendered?ce-1:-1},isInRange:function(me){return me>=he.current.startRange&&me<=he.current.endRange},markNotRendered:function(){for(var me=0;me<ie;me++)he.current.visibilities[me].renderStatus=p.NotRenderedYet},markRendered:function(me){he.current.visibilities[me].renderStatus=p.Rendered},markRendering:function(me){he.current.currentRenderingPage!==-1&&he.current.currentRenderingPage!==me&&he.current.visibilities[he.current.currentRenderingPage].renderStatus===p.Rendering&&(he.current.visibilities[he.current.currentRenderingPage].renderStatus=p.NotRenderedYet),he.current.visibilities[me].renderStatus=p.Rendering,he.current.currentRenderingPage=me},setOutOfRange:function(me){_e(me,K)},setRange:function(me,ce){he.current.startRange=me,he.current.endRange=ce;for(var be=0;be<ie;be++)(be<me||be>ce)&&(he.current.visibilities[be].visibility=K,he.current.visibilities[be].renderStatus=p.NotRenderedYet)},setVisibility:_e}},b={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},_=d.createContext({l10n:b,setL10n:function(){}}),R=0,D=function(){return R++},V=function(y,j,ie){var se=function(ue){var he=j.current;if(he){var _e=ue.target;if(_e instanceof Element&&_e.shadowRoot){var me=ue.composedPath();me.length>0&&!he.contains(me[0])&&ie()}else he.contains(_e)||ie()}};d.useEffect(function(){if(y){var ue={capture:!0};return document.addEventListener("click",se,ue),function(){document.removeEventListener("click",se,ue)}}},[])},Y=function(y){var j=function(ie){ie.key==="Escape"&&y()};d.useEffect(function(){return document.addEventListener("keyup",j),function(){document.removeEventListener("keyup",j)}},[])},ee=function(y){var j=y.ariaControlsSuffix,ie=y.children,se=y.closeOnClickOutside,ue=y.closeOnEscape,he=y.onToggle,_e=d.useRef(),me=d.useContext(E).direction===c.TextDirection.RightToLeft;return d.useEffect(function(){var ce=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=ce}},[]),Y(function(){_e.current&&ue&&he()}),V(se,_e,he),o(function(){var ce=_e.current;if(ce){var be=.75*document.body.clientHeight;ce.getBoundingClientRect().height>=be&&(ce.style.overflow="auto",ce.style.maxHeight="".concat(be,"px"))}},[]),d.createElement("div",{"aria-modal":"true",className:f({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":me}),id:"rpv-core__modal-body-".concat(j),ref:_e,role:"dialog",tabIndex:-1},ie)},fe=function(y){var j=y.children;return d.createElement("div",{className:"rpv-core__modal-overlay"},j)};c.ToggleStatus=void 0,($=c.ToggleStatus||(c.ToggleStatus={})).Close="Close",$.Open="Open",$.Toggle="Toggle";var de,pe=function(y){var j=d.useState(y),ie=j[0],se=j[1];return{opened:ie,toggle:function(ue){switch(ue){case c.ToggleStatus.Close:se(!1);break;case c.ToggleStatus.Open:se(!0);break;case c.ToggleStatus.Toggle:default:se(function(he){return!he})}}}},Ee=function(y){var j=y.content,ie=y.isOpened,se=ie!==void 0&&ie,ue=y.target,he=pe(se),_e=he.opened,me=he.toggle;return d.createElement(d.Fragment,null,ue&&ue(me,_e),_e&&j(me))};c.Position=void 0,(de=c.Position||(c.Position={})).TopLeft="TOP_LEFT",de.TopCenter="TOP_CENTER",de.TopRight="TOP_RIGHT",de.RightTop="RIGHT_TOP",de.RightCenter="RIGHT_CENTER",de.RightBottom="RIGHT_BOTTOM",de.BottomLeft="BOTTOM_LEFT",de.BottomCenter="BOTTOM_CENTER",de.BottomRight="BOTTOM_RIGHT",de.LeftTop="LEFT_TOP",de.LeftCenter="LEFT_CENTER",de.LeftBottom="LEFT_BOTTOM";var ve,S,N,X,oe,v,l,h,A=function(y,j,ie,se,ue){o(function(){var he=j.current,_e=y.current,me=ie.current;if(_e&&he&&me){var ce=me.getBoundingClientRect(),be=function(Me,Pe,Ne,Le){var Ie=Pe.getBoundingClientRect(),dt=Me.getBoundingClientRect(),Ze=dt.height,Je=dt.width,nt=0,We=0;switch(Ne){case c.Position.TopLeft:nt=Ie.top-Ze,We=Ie.left;break;case c.Position.TopCenter:nt=Ie.top-Ze,We=Ie.left+Ie.width/2-Je/2;break;case c.Position.TopRight:nt=Ie.top-Ze,We=Ie.left+Ie.width-Je;break;case c.Position.RightTop:nt=Ie.top,We=Ie.left+Ie.width;break;case c.Position.RightCenter:nt=Ie.top+Ie.height/2-Ze/2,We=Ie.left+Ie.width;break;case c.Position.RightBottom:nt=Ie.top+Ie.height-Ze,We=Ie.left+Ie.width;break;case c.Position.BottomLeft:nt=Ie.top+Ie.height,We=Ie.left;break;case c.Position.BottomCenter:nt=Ie.top+Ie.height,We=Ie.left+Ie.width/2-Je/2;break;case c.Position.BottomRight:nt=Ie.top+Ie.height,We=Ie.left+Ie.width-Je;break;case c.Position.LeftTop:nt=Ie.top,We=Ie.left-Je;break;case c.Position.LeftCenter:nt=Ie.top+Ie.height/2-Ze/2,We=Ie.left-Je;break;case c.Position.LeftBottom:nt=Ie.top+Ie.height-Ze,We=Ie.left-Je}return{left:We+(Le.left||0),top:nt+(Le.top||0)}}(_e,he,se,ue),ge=be.top,Te=be.left;_e.style.top="".concat(ge-ce.top,"px"),_e.style.left="".concat(Te-ce.left,"px")}},[])},Z=function(y){var j,ie=y.customClassName,se=y.position;return d.createElement("div",{className:f((j={"rpv-core__arrow":!0,"rpv-core__arrow--tl":se===c.Position.TopLeft,"rpv-core__arrow--tc":se===c.Position.TopCenter,"rpv-core__arrow--tr":se===c.Position.TopRight,"rpv-core__arrow--rt":se===c.Position.RightTop,"rpv-core__arrow--rc":se===c.Position.RightCenter,"rpv-core__arrow--rb":se===c.Position.RightBottom,"rpv-core__arrow--bl":se===c.Position.BottomLeft,"rpv-core__arrow--bc":se===c.Position.BottomCenter,"rpv-core__arrow--br":se===c.Position.BottomRight,"rpv-core__arrow--lt":se===c.Position.LeftTop,"rpv-core__arrow--lc":se===c.Position.LeftCenter,"rpv-core__arrow--lb":se===c.Position.LeftBottom},j["".concat(ie)]=ie!=="",j))})},J=function(y){var j=y.ariaControlsSuffix,ie=y.children,se=y.closeOnClickOutside,ue=y.offset,he=y.position,_e=y.targetRef,me=y.onClose,ce=d.useRef(),be=d.useRef(),ge=d.useRef(),Te=d.useContext(E).direction===c.TextDirection.RightToLeft;V(se,ce,me),A(ce,_e,ge,he,ue),o(function(){var Pe=be.current;if(Pe){var Ne=.75*document.body.clientHeight;Pe.getBoundingClientRect().height>=Ne&&(Pe.style.overflow="auto",Pe.style.maxHeight="".concat(Ne,"px"))}},[]);var Me="rpv-core__popover-body-inner-".concat(j);return d.createElement(d.Fragment,null,d.createElement("div",{ref:ge,style:{left:0,position:"absolute",top:0}}),d.createElement("div",{"aria-describedby":Me,className:f({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Te}),id:"rpv-core__popover-body-".concat(j),ref:ce,role:"dialog",tabIndex:-1},d.createElement(Z,{customClassName:"rpv-core__popover-body-arrow",position:he}),d.createElement("div",{id:Me,ref:be},ie)))},re=function(y){var j=y.closeOnEscape,ie=y.onClose,se=d.useRef();return Y(function(){se.current&&j&&ie()}),d.createElement("div",{className:"rpv-core__popover-overlay",ref:se})},Se=function(y){var j=y.ariaControlsSuffix,ie=y.children,se=y.contentRef,ue=y.offset,he=y.position,_e=y.targetRef,me=d.useRef(),ce=d.useContext(E).direction===c.TextDirection.RightToLeft;return A(se,_e,me,he,ue),d.createElement(d.Fragment,null,d.createElement("div",{ref:me,style:{left:0,position:"absolute",top:0}}),d.createElement("div",{className:f({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":ce}),id:"rpv-core__tooltip-body-".concat(j),ref:se,role:"tooltip"},d.createElement(Z,{customClassName:"rpv-core__tooltip-body-arrow",position:he}),d.createElement("div",{className:"rpv-core__tooltip-body-content"},ie)))};c.FullScreenMode=void 0,(ve=c.FullScreenMode||(c.FullScreenMode={})).Normal="Normal",ve.Entering="Entering",ve.Entered="Entered",ve.EnteredCompletely="EnteredCompletely",ve.Exitting="Exitting",ve.Exited="Exited",c.LayerRenderStatus=void 0,(S=c.LayerRenderStatus||(c.LayerRenderStatus={}))[S.PreRender=0]="PreRender",S[S.DidRender=1]="DidRender",c.PageMode=void 0,(N=c.PageMode||(c.PageMode={})).Attachments="UseAttachments",N.Bookmarks="UseOutlines",N.ContentGroup="UseOC",N.Default="UserNone",N.FullScreen="FullScreen",N.Thumbnails="UseThumbs",c.PasswordStatus=void 0,(X=c.PasswordStatus||(c.PasswordStatus={})).RequiredPassword="RequiredPassword",X.WrongPassword="WrongPassword",c.RotateDirection=void 0,(oe=c.RotateDirection||(c.RotateDirection={})).Backward="Backward",oe.Forward="Forward",c.ScrollMode=void 0,(v=c.ScrollMode||(c.ScrollMode={})).Page="Page",v.Horizontal="Horizontal",v.Vertical="Vertical",v.Wrapped="Wrapped",c.SpecialZoomLevel=void 0,(l=c.SpecialZoomLevel||(c.SpecialZoomLevel={})).ActualSize="ActualSize",l.PageFit="PageFit",l.PageWidth="PageWidth",c.ViewMode=void 0,(h=c.ViewMode||(c.ViewMode={})).DualPage="DualPage",h.DualPageWithCover="DualPageWithCover",h.SinglePage="SinglePage";var Ce,xe=function(y,j){return y.reduce(function(ie,se,ue){return ue%j?ie[ie.length-1].push(se):ie.push([se]),ie},[])},He=function(y,j){switch(j[1].name){case"XYZ":return{bottomOffset:function(ie,se){return j[3]===null?se:j[3]},leftOffset:function(ie,se){return j[2]===null?0:j[2]},pageIndex:y,scaleTo:j[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:y,scaleTo:c.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:j[2],leftOffset:0,pageIndex:y,scaleTo:c.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:y,scaleTo:1}}},De=new Map,je=new Map,ne=function(y,j){return"".concat(y.loadingTask.docId,"___").concat(j.num,"R").concat(j.gen===0?"":j.gen)},ae=function(y,j,ie){De.set(ne(y,j),ie)},le=function(y,j){if(!y)return Promise.reject("The document is not loaded yet");var ie="".concat(y.loadingTask.docId,"___").concat(j),se=je.get(ie);return se?Promise.resolve(se):new Promise(function(ue,he){y.getPage(j+1).then(function(_e){je.set(ie,_e),_e.ref&&ae(y,_e.ref,j),ue(_e)})})},Ae=function(y,j){return new Promise(function(ie){new Promise(function(se){typeof j=="string"?y.getDestination(j).then(function(ue){se(ue)}):se(j)}).then(function(se){if(typeof se[0]=="object"&&se[0]!==null){var ue=se[0],he=function(me,ce){var be=ne(me,ce);return De.has(be)?De.get(be):null}(y,ue);he===null?y.getPageIndex(ue).then(function(me){ae(y,ue,me),Ae(y,j).then(function(ce){return ie(ce)})}):ie(He(he,se))}else{var _e=He(se[0],se);ie(_e)}})})};(function(y){y[y.Solid=1]="Solid",y[y.Dashed=2]="Dashed",y[y.Beveled=3]="Beveled",y[y.Inset=4]="Inset",y[y.Underline=5]="Underline"})(Ce||(Ce={}));var Xe,ye=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ke=function(y,j,ie,se){var ue=parseInt(y,10);return ue>=j&&ue<=ie?ue:se},Oe=function(y){return y.contentsObj?y.contentsObj.str:y.contents||""},Be=function(y){return y.titleObj?y.titleObj.str:y.title||""},ht=function(y){var j=y.annotation,ie=d.useContext(E).direction,se=Be(j),ue=Oe(j),he=ie===c.TextDirection.RightToLeft,_e=d.useRef(),me="";if(j.modificationDate){var ce=function(be){var ge=ye.exec(be);if(!ge)return null;var Te=parseInt(ge[1],10),Me=ke(ge[2],1,12,1)-1,Pe=ke(ge[3],1,31,1),Ne=ke(ge[4],0,23,0),Le=ke(ge[5],0,59,0),Ie=ke(ge[6],0,59,0),dt=ge[7]||"Z",Ze=ke(ge[8],0,23,0),Je=ke(ge[9],0,59,0);switch(dt){case"-":Ne+=Ze,Le+=Je;break;case"+":Ne-=Ze,Le-=Je}return new Date(Date.UTC(Te,Me,Pe,Ne,Le,Ie))}(j.modificationDate);me=ce?"".concat(ce.toLocaleDateString(),", ").concat(ce.toLocaleTimeString()):""}return d.useLayoutEffect(function(){if(_e.current){var be=document.querySelector('[data-annotation-id="'.concat(j.id,'"]'));if(be){var ge=be;return ge.style.zIndex+=1,function(){ge.style.zIndex="".concat(parseInt(ge.style.zIndex,10)-1)}}}},[]),d.createElement("div",{ref:_e,className:f({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":he}),style:{top:j.annotationType===c.AnnotationType.Popup?"":"100%"}},se&&d.createElement(d.Fragment,null,d.createElement("div",{className:f({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!he,"rpv-core__annotation-popup-title--rtl":he})},se),d.createElement("div",{className:"rpv-core__annotation-popup-date"},me)),ue&&d.createElement("div",{className:"rpv-core__annotation-popup-content"},ue.split(`
`).map(function(be,ge){return d.createElement(d.Fragment,{key:ge},be,d.createElement("br",null))})))};(function(y){y.Click="Click",y.Hover="Hover"})(Xe||(Xe={}));var Ve,Ye=function(y){var j,ie=y.annotation,se=y.children,ue=y.ignoreBorder,he=y.hasPopup,_e=y.isRenderable,me=y.page,ce=y.viewport,be=ie.rect,ge=function(){var et=pe(!1),_t=et.opened,bt=et.toggle,yt=d.useState(Xe.Hover),Et=yt[0],wt=yt[1];return{opened:_t,closeOnHover:function(){Et===Xe.Hover&&bt(c.ToggleStatus.Close)},openOnHover:function(){Et===Xe.Hover&&bt(c.ToggleStatus.Open)},toggleOnClick:function(){switch(Et){case Xe.Click:_t&&wt(Xe.Hover),bt(c.ToggleStatus.Toggle);break;case Xe.Hover:wt(Xe.Click),bt(c.ToggleStatus.Open)}}}}(),Te=ge.closeOnHover,Me=ge.opened,Pe=ge.openOnHover,Ne=ge.toggleOnClick,Le=(j=[be[0],me.view[3]+me.view[1]-be[1],be[2],me.view[3]+me.view[1]-be[3]],[Math.min(j[0],j[2]),Math.min(j[1],j[3]),Math.max(j[0],j[2]),Math.max(j[1],j[3])]),Ie=be[2]-be[0],dt=be[3]-be[1],Ze={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!ue&&ie.borderStyle.width>0){switch(ie.borderStyle.style){case Ce.Dashed:Ze.borderStyle="dashed";break;case Ce.Solid:Ze.borderStyle="solid";break;case Ce.Underline:Ze=Object.assign({borderBottomStyle:"solid"},Ze);case Ce.Beveled:case Ce.Inset:}var Je=ie.borderStyle.width;Ze.borderWidth="".concat(Je,"px"),ie.borderStyle.style!==Ce.Underline&&(Ie-=2*Je,dt-=2*Je);var nt=ie.borderStyle,We=nt.horizontalCornerRadius,at=nt.verticalCornerRadius;(We>0||at>0)&&(Ze.borderRadius="".concat(We,"px / ").concat(at,"px")),ie.color?Ze.borderColor="rgb(".concat(0|ie.color[0],", ").concat(0|ie.color[1],", ").concat(0|ie.color[2],")"):Ze.borderWidth="0"}return d.createElement(d.Fragment,null,_e&&se({popup:{opened:Me,closeOnHover:Te,openOnHover:Pe,toggleOnClick:Ne},slot:{attrs:{style:Object.assign({height:"".concat(dt,"px"),left:"".concat(Le[0],"px"),top:"".concat(Le[1],"px"),transform:"matrix(".concat(ce.transform.join(","),")"),transformOrigin:"-".concat(Le[0],"px -").concat(Le[1],"px"),width:"".concat(Ie,"px")},Ze)},children:d.createElement(d.Fragment,null,he&&Me&&d.createElement(ht,{annotation:ie}))}}))},rt=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},pt=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},d.createElement("circle",{cy:ge/2,fill:"none",rx:be/2-Te/2,ry:ge/2-Te/2,stroke:"transparent",strokeWidth:Te||1})),Me.slot.children)})},it=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=Be(j),he=Oe(j),_e=!(j.hasPopup!==!1||!ue&&!he),me=function(){var ce,be,ge,Te,Me=j.file;Me&&(ce=Me.filename,be=Me.content,ge=typeof be=="string"?"":URL.createObjectURL(new Blob([be],{type:""})),(Te=document.createElement("a")).style.display="none",Te.href=ge||ce,Te.setAttribute("download",function(Pe){var Ne=Pe.split("/").pop();return Ne?Ne.split("#")[0].split("?")[0]:Pe}(ce)),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),ge&&URL.revokeObjectURL(ge))};return d.createElement(Ye,{annotation:j,hasPopup:_e,ignoreBorder:!0,isRenderable:!0,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onDoubleClick:me,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},It=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},mt=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=Be(j),he=Oe(j),_e=!(!ue&&!he),me=!j.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(j.parentType)!==-1;return o(function(){if(j.parentId){var ce=document.querySelector('[data-annotation-id="'.concat(j.parentId,'"]')),be=document.querySelector('[data-annotation-id="'.concat(j.id,'"]'));if(ce&&be){var ge=parseFloat(ce.style.left),Te=parseFloat(ce.style.top)+parseFloat(ce.style.height);be.style.left="".concat(ge,"px"),be.style.top="".concat(Te,"px"),be.style.transformOrigin="-".concat(ge,"px -").concat(Te,"px")}}},[]),d.createElement(Ye,{annotation:j,hasPopup:me,ignoreBorder:!1,isRenderable:_e,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":j.id}),d.createElement(ht,{annotation:j}))})},At=function(y){var j=y.annotation,ie=y.childAnnotation,se=y.page,ue=y.viewport,he=j.hasPopup===!1,_e=Be(j),me=Oe(j),ce=!!(j.hasPopup||_e||me);if(j.quadPoints&&j.quadPoints.length>0){var be=j.quadPoints.map(function(ge){return Object.assign({},j,{rect:[ge[2].x,ge[2].y,ge[1].x,ge[1].y],quadPoints:[]})});return d.createElement(d.Fragment,null,be.map(function(ge,Te){return d.createElement(At,{key:Te,annotation:ge,childAnnotation:ie,page:se,viewport:ue})}))}return d.createElement(Ye,{annotation:j,hasPopup:he,ignoreBorder:!0,isRenderable:ce,page:se,viewport:ue},function(ge){return d.createElement(d.Fragment,null,d.createElement("div",F({},ge.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":j.id,onClick:ge.popup.toggleOnClick,onMouseEnter:ge.popup.openOnHover,onMouseLeave:ge.popup.closeOnHover}),ge.slot.children),ie&&ie.annotationType===c.AnnotationType.Popup&&ge.popup.opened&&d.createElement(mt,{annotation:ie,page:se,viewport:ue}))})},Ht=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),j.inkLists&&j.inkLists.length&&d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},j.inkLists.map(function(Pe,Ne){return d.createElement("polyline",{key:Ne,fill:"none",stroke:"transparent",strokeWidth:Te||1,points:Pe.map(function(Le){return"".concat(Le.x-ce[0],",").concat(ce[3]-Le.y)}).join(" ")})})),Me.slot.children)})},Nt=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},d.createElement("line",{stroke:"transparent",strokeWidth:Te||1,x1:ce[2]-j.lineCoordinates[0],x2:ce[2]-j.lineCoordinates[2],y1:ce[3]-j.lineCoordinates[1],y2:ce[3]-j.lineCoordinates[3]})),Me.slot.children)})},Pt=/^([^\w]*)(javascript|data|vbscript)/im,Mt=/&#(\w+)(^\w|;)?/g,Zt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,an=/^([^:]+):/gm,ln=function(y,j){j===void 0&&(j="about:blank");var ie,se=(ie=y||"",ie.replace(Mt,function(me,ce){return String.fromCharCode(ce)})).replace(Zt,"").trim();if(!se)return j;var ue=se[0];if(ue==="."||ue==="/")return se;var he=se.match(an);if(!he)return se;var _e=he[0];return Pt.test(_e)?j:se},un=function(y){var j,ie=y.annotation,se=y.annotationContainerRef,ue=y.doc,he=y.outlines,_e=y.page,me=y.pageIndex,ce=y.scale,be=y.viewport,ge=y.onExecuteNamedAction,Te=y.onJumpFromLinkAnnotation,Me=y.onJumpToDest,Pe=d.useRef(),Ne=he&&he.length&&ie.dest&&typeof ie.dest=="string"?(j=he.find(function(Ze){return Ze.dest===ie.dest}))===null||j===void 0?void 0:j.title:"",Le=!!(ie.url||ie.dest||ie.action||ie.unsafeUrl),Ie={};if(ie.url||ie.unsafeUrl){var dt=ln(ie.url||ie.unsafeUrl,"");dt?Ie={"data-target":"external",href:dt,rel:"noopener noreferrer nofollow",target:ie.newWindow?"_blank":"",title:dt}:Le=!1}else Ie={href:"","data-annotation-link":ie.id,onClick:function(Ze){Ze.preventDefault(),ie.action?ge(ie.action):Ae(ue,ie.dest).then(function(Je){var nt=Pe.current,We=se.current;if(nt&&We){var at=nt.getBoundingClientRect();We.style.setProperty("height","100%"),We.style.setProperty("width","100%");var et=We.getBoundingClientRect();We.style.removeProperty("height"),We.style.removeProperty("width");var _t=(at.left-et.left)/ce,bt=(et.bottom-at.bottom+at.height)/ce;Te({bottomOffset:bt,label:Ne,leftOffset:_t,pageIndex:me})}Me(Je)})}};return Ne&&(Ie=Object.assign({},Ie,{title:Ne,"aria-label":Ne})),d.createElement(Ye,{annotation:ie,hasPopup:!1,ignoreBorder:!1,isRenderable:Le,page:_e,viewport:be},function(Ze){return d.createElement("div",F({},Ze.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":ie.id,"data-testid":"core__annotation--link-".concat(ie.id)}),d.createElement("a",F({ref:Pe},Ie)))})},dn=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),j.vertices&&j.vertices.length&&d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},d.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Te||1,points:j.vertices.map(function(Pe){return"".concat(Pe.x-ce[0],",").concat(ce[3]-Pe.y)}).join(" ")})),Me.slot.children)})},vn=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),j.vertices&&j.vertices.length&&d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},d.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Te||1,points:j.vertices.map(function(Pe){return"".concat(Pe.x-ce[0],",").concat(ce[3]-Pe.y)}).join(" ")})),Me.slot.children)})},bn=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e),ce=j.rect,be=ce[2]-ce[0],ge=ce[3]-ce[1],Te=j.borderStyle.width;return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(Me){return d.createElement("div",F({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":j.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),d.createElement("svg",{height:"".concat(ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ge),width:"".concat(be,"px")},d.createElement("rect",{height:ge-Te,fill:"none",stroke:"transparent",strokeWidth:Te||1,x:Te/2,y:Te/2,width:be-Te})),Me.slot.children)})},zr=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},Ur=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},Vr=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},Hr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),d.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),d.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),d.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Wr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),d.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),d.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),d.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),d.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),d.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),d.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),d.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),d.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),d.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Gr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),d.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},qr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),d.createElement("path",{d:"M6 4.5L6 0.5"}),d.createElement("path",{d:"M18 4.5L18 0.5"}),d.createElement("path",{d:"M10 4.5L10 0.5"}),d.createElement("path",{d:"M14 4.5L14 0.5"}))},Xr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),d.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),d.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Kr=function(){return d.createElement(n,{size:16},d.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},$r=function(y){var j=y.annotation,ie=y.childAnnotation,se=y.page,ue=y.viewport,he=j.hasPopup===!1,_e=Be(j),me=Oe(j),ce=!!(j.hasPopup||_e||me),be=j.name?j.name.toLowerCase():"";return d.createElement(Ye,{annotation:j,hasPopup:he,ignoreBorder:!1,isRenderable:ce,page:se,viewport:ue},function(ge){return d.createElement(d.Fragment,null,d.createElement("div",F({},ge.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":j.id,onClick:ge.popup.toggleOnClick,onMouseEnter:ge.popup.openOnHover,onMouseLeave:ge.popup.closeOnHover}),be&&d.createElement("div",{className:"rpv-core__annotation-text-icon"},be==="check"&&d.createElement(a,null),be==="comment"&&d.createElement(Hr,null),be==="help"&&d.createElement(Wr,null),be==="insert"&&d.createElement(Kr,null),be==="key"&&d.createElement(Gr,null),be==="note"&&d.createElement(qr,null),(be==="newparagraph"||be==="paragraph")&&d.createElement(Xr,null)),ge.slot.children),ie&&ie.annotationType===c.AnnotationType.Popup&&ge.popup.opened&&d.createElement(mt,{annotation:ie,page:se,viewport:ue}))})},Yr=function(y){var j=y.annotation,ie=y.page,se=y.viewport,ue=j.hasPopup===!1,he=Be(j),_e=Oe(j),me=!!(j.hasPopup||he||_e);return d.createElement(Ye,{annotation:j,hasPopup:ue,ignoreBorder:!0,isRenderable:me,page:ie,viewport:se},function(ce){return d.createElement("div",F({},ce.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":j.id,onClick:ce.popup.toggleOnClick,onMouseEnter:ce.popup.openOnHover,onMouseLeave:ce.popup.closeOnHover}),ce.slot.children)})},Zr=function(y){var j=y.annotations,ie=y.doc,se=y.outlines,ue=y.page,he=y.pageIndex,_e=y.plugins,me=y.rotation,ce=y.scale,be=y.onExecuteNamedAction,ge=y.onJumpFromLinkAnnotation,Te=y.onJumpToDest,Me=d.useRef(),Pe=ue.getViewport({rotation:me,scale:ce}).clone({dontFlip:!0}),Ne=j.filter(function(Le){return!Le.parentId});return o(function(){var Le=Me.current;Le&&_e.forEach(function(Ie){Ie.onAnnotationLayerRender&&Ie.onAnnotationLayerRender({annotations:Ne,container:Le,pageIndex:he,rotation:me,scale:ce})})},[]),d.createElement("div",{ref:Me,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(he)},Ne.map(function(Le){var Ie=j.find(function(dt){return dt.parentId===Le.id});switch(Le.annotationType){case c.AnnotationType.Caret:return d.createElement(rt,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Circle:return d.createElement(pt,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.FileAttachment:return d.createElement(it,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.FreeText:return d.createElement(It,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Highlight:return d.createElement(At,{key:Le.id,annotation:Le,childAnnotation:Ie,page:ue,viewport:Pe});case c.AnnotationType.Ink:return d.createElement(Ht,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Line:return d.createElement(Nt,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Link:return d.createElement(un,{key:Le.id,annotation:Le,annotationContainerRef:Me,doc:ie,outlines:se,page:ue,pageIndex:he,scale:ce,viewport:Pe,onExecuteNamedAction:be,onJumpFromLinkAnnotation:ge,onJumpToDest:Te});case c.AnnotationType.Polygon:return d.createElement(dn,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Polyline:return d.createElement(vn,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Popup:return d.createElement(mt,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Square:return d.createElement(bn,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Squiggly:return d.createElement(zr,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Stamp:return d.createElement(Ur,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.StrikeOut:return d.createElement(Vr,{key:Le.id,annotation:Le,page:ue,viewport:Pe});case c.AnnotationType.Text:return d.createElement($r,{key:Le.id,annotation:Le,childAnnotation:Ie,page:ue,viewport:Pe});case c.AnnotationType.Underline:return d.createElement(Yr,{key:Le.id,annotation:Le,page:ue,viewport:Pe});default:return d.createElement(d.Fragment,{key:Le.id})}}))},Jr=function(y){var j=y.page,ie=y.renderAnnotations,se=O(),ue=d.useState({loading:!0,annotations:[]}),he=ue[0],_e=ue[1];return d.useEffect(function(){j.getAnnotations({intent:"display"}).then(function(me){se.current&&_e({loading:!1,annotations:me})})},[]),he.loading?d.createElement(d.Fragment,null):ie(he.annotations)},Qr=function(y){var j=y.doc,ie=y.outlines,se=y.page,ue=y.pageIndex,he=y.plugins,_e=y.rotation,me=y.scale,ce=y.onExecuteNamedAction,be=y.onJumpFromLinkAnnotation,ge=y.onJumpToDest;return d.createElement(Jr,{page:se,renderAnnotations:function(Te){return d.createElement(Zr,{annotations:Te,doc:j,outlines:ie,page:se,pageIndex:ue,plugins:he,rotation:_e,scale:me,onExecuteNamedAction:ce,onJumpFromLinkAnnotation:be,onJumpToDest:ge})}})},Rn=function(y,j){var ie=y%j;return ie===0?y:Math.floor(y-ie)},ei=function(y){var j=y.canvasLayerRef,ie=y.height,se=y.page,ue=y.pageIndex,he=y.plugins,_e=y.rotation,me=y.scale,ce=y.width,be=y.onRenderCanvasCompleted,ge=d.useRef();return o(function(){var Te=ge.current;Te&&Te.cancel();var Me=j.current;Me.removeAttribute("data-testid"),he.forEach(function(et){et.onCanvasLayerRender&&et.onCanvasLayerRender({ele:Me,pageIndex:ue,rotation:_e,scale:me,status:c.LayerRenderStatus.PreRender})});var Pe=se.getViewport({rotation:_e,scale:me}),Ne=window.devicePixelRatio||1,Le=Math.sqrt(16777216/(Pe.width*Pe.height)),Ie=Ne>Le;Ie?Me.style.transform="scale(1, 1)":Me.style.removeProperty("transform");var dt=Math.min(Le,Ne),Ze=function(et,_t){var bt,yt;if(Math.floor(et)===et)return[et,1];var Et=1/et;if(Et>_t)return[1,_t];if(Math.floor(Et)===Et)return[1,Et];for(var wt=et>1?Et:et,Vt=0,Lt=1,Wt=1,Bt=1;;){var zt=Vt+Wt,Ut=Lt+Bt;if(Ut>_t)break;wt<=zt/Ut?(Wt=(bt=[zt,Ut])[0],Bt=bt[1]):(Vt=(yt=[zt,Ut])[0],Lt=yt[1])}return wt<(Vt/Lt+Wt/Bt)/2?wt===et?[Vt,Lt]:[Lt,Vt]:wt===et?[Wt,Bt]:[Bt,Wt]}(dt,8),Je=Ze[0],nt=Ze[1];Me.width=Rn(Pe.width*dt,Je),Me.height=Rn(Pe.height*dt,Je),Me.style.width="".concat(Rn(Pe.width,nt),"px"),Me.style.height="".concat(Rn(Pe.height,nt),"px"),Me.hidden=!0;var We=Me.getContext("2d",{alpha:!1}),at=Ie||Ne!==1?[dt,0,0,dt,0,0]:null;return ge.current=se.render({canvasContext:We,transform:at,viewport:Pe}),ge.current.promise.then(function(){Me.hidden=!1,Me.setAttribute("data-testid","core__canvas-layer-".concat(ue)),he.forEach(function(et){et.onCanvasLayerRender&&et.onCanvasLayerRender({ele:Me,pageIndex:ue,rotation:_e,scale:me,status:c.LayerRenderStatus.DidRender})}),be()},function(){be()}),function(){Me&&(Me.width=0,Me.height=0)}},[]),d.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(ie,"px"),width:"".concat(ce,"px")}},d.createElement("canvas",{ref:j}))},ti=function(y){var j=y.height,ie=y.page,se=y.rotation,ue=y.scale,he=y.width,_e=d.useRef();return o(function(){var me=_e.current,ce=ie.getViewport({rotation:se,scale:ue});ie.getOperatorList().then(function(be){(function(){var ge=_e.current;ge&&(ge.innerHTML="")})(),new q.SVGGraphics(ie.commonObjs,ie.objs).getSVG(be,ce).then(function(ge){ge.style.height="".concat(j,"px"),ge.style.width="".concat(he,"px"),me.appendChild(ge)})})},[]),d.createElement("div",{className:"rpv-core__svg-layer",ref:_e})},ni=function(y){var j=y.containerRef,ie=y.page,se=y.pageIndex,ue=y.plugins,he=y.rotation,_e=y.scale,me=y.onRenderTextCompleted,ce=d.useRef(),be=function(){var ge=j.current;ge&&([].slice.call(ge.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Te){return ge.removeChild(Te)}),[].slice.call(ge.querySelectorAll('br[role="presentation"]')).forEach(function(Te){return ge.removeChild(Te)}))};return o(function(){var ge=ce.current;ge&&ge.cancel();var Te=j.current;if(Te){Te.removeAttribute("data-testid");var Me=ie.getViewport({rotation:he,scale:_e});return ue.forEach(function(Pe){Pe.onTextLayerRender&&Pe.onTextLayerRender({ele:Te,pageIndex:se,scale:_e,status:c.LayerRenderStatus.PreRender})}),ie.getTextContent().then(function(Pe){be(),ce.current=q.renderTextLayer({container:Te,textContent:Pe,textContentSource:Pe,viewport:Me}),ce.current.promise.then(function(){Te.setAttribute("data-testid","core__text-layer-".concat(se)),[].slice.call(Te.children).forEach(function(Ne){Ne.classList.contains("rpv-core__text-layer-text--not")||Ne.classList.add("rpv-core__text-layer-text")}),ue.forEach(function(Ne){Ne.onTextLayerRender&&Ne.onTextLayerRender({ele:Te,pageIndex:se,scale:_e,status:c.LayerRenderStatus.DidRender})}),me()},function(){Te.removeAttribute("data-testid"),me()})}),function(){var Pe;be(),(Pe=ce.current)===null||Pe===void 0||Pe.cancel()}}},[]),d.createElement("div",{className:"rpv-core__text-layer",ref:j})},ri=function(y){var j=y.doc,ie=y.measureRef,se=y.outlines,ue=y.pageIndex,he=y.pageRotation,_e=y.pageSize,me=y.plugins,ce=y.renderPage,be=y.renderQueueKey,ge=y.rotation,Te=y.scale,Me=y.shouldRender,Pe=y.viewMode,Ne=y.onExecuteNamedAction,Le=y.onJumpFromLinkAnnotation,Ie=y.onJumpToDest,dt=y.onRenderCompleted,Ze=y.onRotatePage,Je=O(),nt=d.useState(null),We=nt[0],at=nt[1],et=d.useState(!1),_t=et[0],bt=et[1],yt=d.useState(!1),Et=yt[0],wt=yt[1],Vt=d.useRef(),Lt=d.useRef(),Wt=Math.abs(ge+he)%180==0,Bt=_e.pageWidth*Te,zt=_e.pageHeight*Te,Ut=Wt?Bt:zt,jt=Wt?zt:Bt,Jt=(_e.rotation+ge+he)%360,on=d.useRef(0),nn=ce||function(Kt){return d.createElement(d.Fragment,null,Kt.canvasLayer.children,Kt.textLayer.children,Kt.annotationLayer.children)};return d.useEffect(function(){at(null),bt(!1),wt(!1)},[he,ge,Te]),d.useEffect(function(){Me&&Je.current&&!We&&le(j,ue).then(function(Kt){Je.current&&(on.current=be,at(Kt))})},[Me,We]),d.useEffect(function(){_t&&Et&&(be!==on.current?(at(null),bt(!1),wt(!1)):dt(ue))},[_t,Et]),d.createElement("div",{className:f({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Pe===c.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Pe===c.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Pe===c.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(ue),ref:ie,style:{height:"".concat(jt,"px"),width:"".concat(Ut,"px")}},We?d.createElement(d.Fragment,null,nn({annotationLayer:{attrs:{},children:d.createElement(Qr,{doc:j,outlines:se,page:We,pageIndex:ue,plugins:me,rotation:Jt,scale:Te,onExecuteNamedAction:Ne,onJumpFromLinkAnnotation:Le,onJumpToDest:Ie})},canvasLayer:{attrs:{},children:d.createElement(ei,{canvasLayerRef:Vt,height:jt,page:We,pageIndex:ue,plugins:me,rotation:Jt,scale:Te,width:Ut,onRenderCanvasCompleted:function(){Je.current&&bt(!0)}})},canvasLayerRendered:_t,doc:j,height:jt,pageIndex:ue,rotation:Jt,scale:Te,svgLayer:{attrs:{},children:d.createElement(ti,{height:jt,page:We,rotation:Jt,scale:Te,width:Ut})},textLayer:{attrs:{},children:d.createElement(ni,{containerRef:Lt,page:We,pageIndex:ue,plugins:me,rotation:Jt,scale:Te,onRenderTextCompleted:function(){Je.current&&wt(!0)}})},textLayerRendered:Et,width:Ut,markRendered:dt,onRotatePage:function(Kt){return Ze(ue,Kt)}}),me.map(function(Kt,Qt){return Kt.renderPageLayer?d.createElement(d.Fragment,{key:Qt},Kt.renderPageLayer({canvasLayerRef:Vt,canvasLayerRendered:_t,doc:j,height:jt,pageIndex:ue,rotation:Jt,scale:Te,textLayerRef:Lt,textLayerRendered:Et,width:Ut})):d.createElement(d.Fragment,{key:Qt})})):d.createElement(e,{testId:"core__page-layer-loading-".concat(ue)}))},ii=function(y,j){var ie=j.rect;return y.height!==ie.height||y.width!==ie.width?ie:y};(function(y){y.Horizontal="Horizontal",y.Vertical="Vertical",y.Both="Both"})(Ve||(Ve={}));var ai=function(y){return 1-Math.pow(1-y,4)},Fn=1e-4,rr={left:0,top:0},ir={capture:!1,passive:!0},oi=function(y){var j=y.elementRef,ie=y.enableSmoothScroll,se=y.isRtl,ue=y.scrollDirection,he=y.onSmoothScroll,_e=d.useState(rr),me=_e[0],ce=_e[1],be=d.useState(j.current),ge=be[0],Te=be[1],Me=se?-1:1,Pe=d.useRef(ue);Pe.current=ue;var Ne=d.useRef(rr),Le=d.useRef(!0),Ie=d.useCallback(function(){Le.current=!0,ie&&ce(Ne.current),he(!1)},[]),dt=d.useCallback(function(){if(ge){switch(Pe.current){case Ve.Horizontal:Ne.current={left:Me*ge.scrollLeft,top:0};break;case Ve.Both:Ne.current={left:Me*ge.scrollLeft,top:ge.scrollTop};break;case Ve.Vertical:default:Ne.current={left:0,top:ge.scrollTop}}ie&&!Le.current||ce(Ne.current)}},[ge]);o(function(){Te(j.current)}),o(function(){if(ge)return ge.addEventListener("scroll",dt,ir),function(){ge.removeEventListener("scroll",dt,ir)}},[ge]);var Ze=d.useCallback(function(Je,nt){var We=j.current;if(!We)return Promise.resolve();var at={left:0,top:0};switch(Pe.current){case Ve.Horizontal:at.left=Me*Je.left;break;case Ve.Both:at.left=Me*Je.left,at.top=Je.top;break;case Ve.Vertical:default:at.top=Je.top}return nt?(Le.current=!1,he(!0),new Promise(function(et,_t){(function(bt,yt,Et,wt,Vt,Lt){Vt===void 0&&(Vt=function(Qt){return Qt}),Lt===void 0&&(Lt=function(){});var Wt=0,Bt=0,zt=!1;switch(yt){case Ve.Horizontal:Bt=bt.scrollLeft,Wt=0;case Ve.Both:Bt=bt.scrollLeft,Wt=bt.scrollTop;break;case Ve.Vertical:default:Bt=0,Wt=bt.scrollTop}var Ut=function(){zt||(zt=!0,bt.scrollLeft=Et.left,bt.scrollTop=Et.top,Lt())};if(Math.abs(Wt-Et.top)<=Fn&&yt===Ve.Vertical)Ut();else if(Math.abs(Bt-Et.left)<=Fn&&yt===Ve.Horizontal)Ut();else{var jt,Jt=-1,on=Bt-Et.left,nn=Wt-Et.top,Kt=function(Qt){Jt===-1&&(Jt=Qt);var sn=Qt-Jt,tt=Math.min(sn/wt,1),Qe=Vt(tt),Ge={left:Bt-on*Qe,top:Wt-nn*Qe};switch(yt){case Ve.Horizontal:bt.scrollLeft=Ge.left;break;case Ve.Both:bt.scrollLeft=Ge.left,bt.scrollTop=Ge.top;break;case Ve.Vertical:default:bt.scrollTop=Ge.top}Math.abs(Ge.top-Et.top)<=Fn&&Math.abs(Ge.left-Et.left)<=Fn&&!zt&&(window.cancelAnimationFrame(jt),Ut()),sn<wt?jt=window.requestAnimationFrame(Kt):window.cancelAnimationFrame(jt)};jt=window.requestAnimationFrame(Kt)}})(We,Pe.current,at,400,ai,function(){Ie(),et()})})):new Promise(function(et,_t){switch(Pe.current){case Ve.Horizontal:We.scrollLeft=at.left;break;case Ve.Both:We.scrollLeft=at.left,We.scrollTop=at.top;break;case Ve.Vertical:default:We.scrollTop=at.top}et()})},[j]);return{scrollOffset:me,scrollTo:Ze}},kn=function(y,j,ie){return Math.max(y,Math.min(ie,j))},si=function(y,j){if(j!==c.ViewMode.DualPageWithCover)return 0;if(!function(ue){var he=ue.length;if(he===1)return!1;for(var _e=1;_e<he;_e++)if(ue[_e].height!==ue[0].height||ue[_e].width!==ue[0].width)return!0;return!1}(y))return 2*y[0].width;var ie=xe(y.slice(1),2).map(function(ue){return ue.length===2?ue[0].width+ue[1].width:ue[0].width}),se=[y[0].width].concat(ie);return Math.max.apply(Math,se)},ci={left:0,top:0},li={left:0,top:0},zn={left:0,top:0},ui={left:0,top:0},di={height:0,width:0},ar={left:0,top:0},or="data-virtual-index",hi=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],fi=function(y){var j=y.enableSmoothScroll,ie=y.isRtl,se=y.numberOfItems,ue=y.parentRef,he=y.setRenderRange,_e=y.sizes,me=y.scrollMode,ce=y.viewMode,be=d.useState(!1),ge=be[0],Te=be[1],Me=d.useCallback(function(tt){return Te(tt)},[]),Pe=d.useRef(me);Pe.current=me;var Ne=d.useRef(ce);Ne.current=ce;var Le=me===c.ScrollMode.Wrapped||ce===c.ViewMode.DualPageWithCover||ce===c.ViewMode.DualPage?Ve.Both:me===c.ScrollMode.Horizontal?Ve.Horizontal:Ve.Vertical,Ie=oi({elementRef:ue,enableSmoothScroll:j,isRtl:ie,scrollDirection:Le,onSmoothScroll:Me}),dt=Ie.scrollOffset,Ze=Ie.scrollTo,Je=function(tt){var Qe=tt.elementRef,Ge=d.useState(Qe.current),Ke=Ge[0],qe=Ge[1],ot=d.useRef(!1),st=d.useReducer(ii,{height:0,width:0}),$e=st[0],Ue=st[1];return o(function(){Qe.current!==Ke&&qe(Qe.current)}),o(function(){if(Ke&&!ot.current){ot.current=!0;var ct=Ke.getBoundingClientRect(),ft=ct.height,Rt=ct.width;Ue({rect:{height:ft,width:Rt}})}},[Ke]),d.useEffect(function(){if(Ke){var ct=new ResizeObserver(function(ft,Rt){ft.forEach(function(xt){if(xt.target===Ke){var $t=xt.contentRect,en=$t.height,ut=$t.width;Ue({rect:{height:en,width:ut}})}})});return ct.observe(Ke),function(){ct.unobserve(Ke)}}},[Ke]),$e}({elementRef:ue}),nt=d.useRef({scrollOffset:ar,measurements:[]});nt.current.scrollOffset=dt;var We=d.useMemo(function(){return Array(se).fill(-1)},[]),at=d.useState(We),et=at[0],_t=at[1],bt=d.useMemo(function(){var tt=new IntersectionObserver(function(Qe){Qe.forEach(function(Ge){var Ke=Ge.isIntersecting?Ge.intersectionRatio:-1,qe=Ge.target.getAttribute(or);if(qe){var ot=parseInt(qe,10);0<=ot&&ot<se&&_t(function(st){return st[ot]=Ke,function($e,Ue,ct){if(ct||arguments.length===2)for(var ft,Rt=0,xt=Ue.length;Rt<xt;Rt++)!ft&&Rt in Ue||(ft||(ft=Array.prototype.slice.call(Ue,0,Rt)),ft[Rt]=Ue[Rt]);return $e.concat(ft||Array.prototype.slice.call(Ue))}([],st,!0)})}})},{threshold:hi});return tt},[]),yt=d.useMemo(function(){return me===c.ScrollMode.Page&&ce===c.ViewMode.SinglePage?function(tt,Qe,Ge){for(var Ke=[],qe=0;qe<tt;qe++){var ot={height:Math.max(Qe.height,Ge[qe].height),width:Math.max(Qe.width,Ge[qe].width)},st=qe===0?ui:Ke[qe-1].end,$e={left:st.left+ot.width,top:st.top+ot.height};Ke[qe]={index:qe,start:st,size:ot,end:$e,visibility:-1}}return Ke}(se,Je,_e):ce===c.ViewMode.DualPageWithCover?function(tt,Qe,Ge,Ke){for(var qe=[],ot=0,st=0,$e=zn,Ue=0;Ue<tt;Ue++){var ct=Ue===0?{height:Ke===c.ScrollMode.Page?Math.max(Qe.height,Ge[Ue].height):Ge[Ue].height,width:Ke===c.ScrollMode.Page?Math.max(Qe.width,Ge[Ue].width):Ge[Ue].width}:{height:Ke===c.ScrollMode.Page?Math.max(Qe.height,Ge[Ue].height):Ge[Ue].height,width:Math.max(Qe.width/2,Ge[Ue].width)};Ke===c.ScrollMode.Page?$e=Ue===0?zn:{left:Ue%2==0?ct.width:0,top:Math.floor((Ue-1)/2)*ct.height+qe[0].end.top}:Ue===0?($e=zn,ot=Ge[0].height,st=0):Ue%2==1?($e={left:0,top:ot+=st},st=Ue===tt-1?Ge[Ue].height:Math.max(Ge[Ue].height,Ge[Ue+1].height)):$e={left:qe[Ue-1].end.left,top:ot};var ft={left:$e.left+ct.width,top:$e.top+ct.height};qe[Ue]={index:Ue,start:$e,size:ct,end:ft,visibility:-1}}return qe}(se,Je,_e,me):ce===c.ViewMode.DualPage?function(tt,Qe,Ge,Ke){for(var qe=[],ot=0,st=0,$e=li,Ue=0;Ue<tt;Ue++){var ct={height:Ke===c.ScrollMode.Page?Math.max(Qe.height,Ge[Ue].height):Ge[Ue].height,width:Math.max(Qe.width/2,Ge[Ue].width)};Ke===c.ScrollMode.Page?$e={left:Ue%2==0?0:ct.width,top:Math.floor(Ue/2)*ct.height}:Ue%2==0?($e={left:0,top:ot+=st},st=Ue===tt-1?Ge[Ue].height:Math.max(Ge[Ue].height,Ge[Ue+1].height)):$e={left:qe[Ue-1].end.left,top:ot};var ft={left:$e.left+ct.width,top:$e.top+ct.height};qe[Ue]={index:Ue,start:$e,size:ct,end:ft,visibility:-1}}return qe}(se,Je,_e,me):function(tt,Qe,Ge,Ke){for(var qe=[],ot=0,st={left:0,top:0},$e=0,Ue=ci,ct=0;ct<tt;ct++){var ft=Ge[ct];if(ct===0)ot=ft.width,st={left:0,top:0},$e=ft.height;else switch(Ke){case c.ScrollMode.Wrapped:(ot+=ft.width)<Qe.width?(Ue={left:qe[ct-1].end.left,top:st.top},$e=Math.max($e,ft.height)):(ot=ft.width,st={left:(Ue={left:st.left,top:st.top+$e}).left,top:Ue.top},$e=ft.height);break;case c.ScrollMode.Horizontal:case c.ScrollMode.Vertical:default:Ue=qe[ct-1].end}var Rt={left:Ue.left+ft.width,top:Ue.top+ft.height};qe[ct]={index:ct,start:Ue,size:ft,end:Rt,visibility:-1}}return qe}(se,Je,_e,me)},[me,_e,ce,Je]),Et=yt[se-1]?{height:yt[se-1].end.top,width:yt[se-1].end.left}:di;nt.current.measurements=yt;var wt=d.useMemo(function(){var tt=function(ct,ft,Rt,xt){var $t=0;switch(ct){case Ve.Horizontal:$t=xt.left;break;case Ve.Vertical:default:$t=xt.top}var en=ft.length-1,ut=function(kt,hn,wn,Ln){for(;kt<=hn;){var _n=(kt+hn)/2|0,Pn=Ln(_n);if(Pn<wn)kt=_n+1;else{if(!(Pn>wn))return _n;hn=_n-1}}return kt>0?kt-1:0}(0,en,$t,function(kt){switch(ct){case Ve.Horizontal:return ft[kt].start.left;case Ve.Both:case Ve.Vertical:default:return ft[kt].start.top}});if(ct===Ve.Both)for(var Yt=ft[ut].start.top;ut-1>=0&&ft[ut-1].start.top===Yt&&ft[ut-1].start.left>=xt.left;)ut--;for(var Ft=ut;Ft<=en;){var Ot={top:ft[Ft].start.top-xt.top,left:ft[Ft].start.left-xt.left},Gt={height:Rt.height-Ot.top,width:Rt.width-Ot.left};if(ct===Ve.Horizontal&&Gt.width<0||ct===Ve.Vertical&&Gt.height<0||ct===Ve.Both&&(Gt.width<0||Gt.height<0))break;Ft++}return{start:ut,end:Ft}}(Le,yt,Je,dt),Qe=tt.start,Ge=tt.end,Ke=et.slice(kn(0,se,Qe),kn(0,se,Ge)),qe=Qe+Ke.reduce(function(ct,ft,Rt,xt){return ft>xt[ct]?Rt:ct},0),ot=qe=kn(0,se-1,qe),st=he({endPage:Ge,numPages:se,startPage:Qe}),$e=st.startPage,Ue=st.endPage;switch($e=Math.max($e,0),Ue=Math.min(Ue,se-1),ce){case c.ViewMode.DualPageWithCover:qe>0&&(ot=qe%2==1?qe:qe-1),$e=$e===0?0:$e%2==1?$e:$e-1,se-(Ue=Ue%2==1?Ue-1:Ue)<=2&&(Ue=se-1);break;case c.ViewMode.DualPage:ot=qe%2==0?qe:qe-1,$e=$e%2==0?$e:$e-1,Ue=Ue%2==1?Ue:Ue-1;break;case c.ViewMode.SinglePage:default:ot=qe}return{startPage:$e,endPage:Ue,maxVisbilityIndex:ot}},[yt,Je,dt,ce,et]),Vt=wt.startPage,Lt=wt.endPage,Wt=wt.maxVisbilityIndex,Bt=d.useMemo(function(){for(var tt=[],Qe=function(Ke){var qe=yt[Ke],ot=F(F({},qe),{visibility:et[Ke]!==void 0?et[Ke]:-1,measureRef:function(st){st&&(st.setAttribute(or,"".concat(Ke)),bt.observe(st))}});tt.push(ot)},Ge=Vt;Ge<=Lt;Ge++)Qe(Ge);return tt},[Vt,Lt,et,yt]),zt=d.useCallback(function(tt,Qe){var Ge=nt.current.measurements[kn(0,se-1,tt)],Ke=Pe.current===c.ScrollMode.Page?ar:Qe;return Ge?Ze({left:Ke.left+Ge.start.left,top:Ke.top+Ge.start.top},j):Promise.resolve()},[Ze,j]),Ut=d.useCallback(function(tt,Qe){var Ge=nt.current.measurements,Ke=Ge[tt].start,qe=Ge.find(function(st){return st.start.top-Ke.top>1e-12});if(!qe)return Promise.resolve();var ot=qe.index;switch(Ne.current){case c.ViewMode.DualPage:ot=ot%2==0?ot:ot+1;break;case c.ViewMode.DualPageWithCover:ot=ot%2==1?ot:ot+1}return zt(ot,Qe)},[]),jt=d.useCallback(function(tt,Qe){for(var Ge=nt.current.measurements,Ke=Ge[tt].start,qe=tt,ot=!1,st=se-1;st>=0;st--)if(Ke.top-Ge[st].start.top>1e-12){ot=!0,qe=Ge[st].index;break}if(!ot)return Promise.resolve();switch(Ne.current){case c.ViewMode.DualPage:qe=qe%2==0?qe:qe-1;break;case c.ViewMode.DualPageWithCover:qe=qe%2==0?qe-1:qe}return qe===tt&&(qe=tt-1),zt(qe,Qe)},[]),Jt=d.useCallback(function(tt,Qe){if(Ne.current===c.ViewMode.DualPageWithCover||Ne.current===c.ViewMode.DualPage)return Ut(tt,Qe);switch(Pe.current){case c.ScrollMode.Wrapped:return Ut(tt,Qe);case c.ScrollMode.Horizontal:case c.ScrollMode.Vertical:default:return zt(tt+1,Qe)}},[]),on=d.useCallback(function(tt,Qe){if(Ne.current===c.ViewMode.DualPageWithCover||Ne.current===c.ViewMode.DualPage)return jt(tt,Qe);switch(Pe.current){case c.ScrollMode.Wrapped:return jt(tt,Qe);case c.ScrollMode.Horizontal:case c.ScrollMode.Vertical:default:return zt(tt-1,Qe)}},[]),nn=d.useCallback(function(){return function(tt,Qe){switch(Qe){case c.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(tt.width,"px")};case c.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(tt.height,"px"),width:"100%"}}}(Et,Pe.current)},[Et]),Kt=d.useCallback(function(tt){return function(Qe,Ge,Ke){return Ke!==c.ScrollMode.Page?{}:{height:"".concat(Ge.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Qe.start.top,"px)")}}(tt,Je,Pe.current)},[Je]),Qt=d.useCallback(function(tt){return function(Qe,Ge,Ke,qe,ot){var st,$e,Ue,ct,ft,Rt,xt,$t=Ge?"right":"left",en=Ge?-1:1,ut=Ke.length,Yt=Qe.start.left*en,Ft=Qe.size,Ot=Ft.height,Gt=Ft.width;if(qe===c.ViewMode.DualPageWithCover){var kt=ot===c.ScrollMode.Page?0:Qe.start.top;return Qe.index===0||ut%2==0&&Qe.index===ut-1?((st={height:"".concat(Ot,"px"),minWidth:"".concat(si(Ke,qe),"px"),width:"100%"})[$t]=0,st.position="absolute",st.top=0,st.transform="translate(".concat(Yt,"px, ").concat(kt,"px)"),st):(($e={height:"".concat(Ot,"px"),width:"".concat(Gt,"px")})[$t]=0,$e.position="absolute",$e.top=0,$e.transform="translate(".concat(Yt,"px, ").concat(kt,"px)"),$e)}if(qe===c.ViewMode.DualPage)return(Ue={height:"".concat(Ot,"px"),width:"".concat(Gt,"px")})[$t]=0,Ue.position="absolute",Ue.top=0,Ue.transform="translate(".concat(Yt,"px, ").concat(ot===c.ScrollMode.Page?0:Qe.start.top,"px)"),Ue;switch(ot){case c.ScrollMode.Horizontal:return(ct={height:"100%",width:"".concat(Gt,"px")})[$t]=0,ct.position="absolute",ct.top=0,ct.transform="translateX(".concat(Yt,"px)"),ct;case c.ScrollMode.Page:return(ft={height:"".concat(Ot,"px"),width:"".concat(Gt,"px")})[$t]=0,ft.position="absolute",ft.top=0,ft;case c.ScrollMode.Wrapped:return(Rt={height:"".concat(Ot,"px"),width:"".concat(Gt,"px")})[$t]=0,Rt.position="absolute",Rt.top=0,Rt.transform="translate(".concat(Yt,"px, ").concat(Qe.start.top,"px)"),Rt;case c.ScrollMode.Vertical:default:return(xt={height:"".concat(Ot,"px"),width:"100%"})[$t]=0,xt.position="absolute",xt.top=0,xt.transform="translateY(".concat(Qe.start.top,"px)"),xt}}(tt,ie,_e,Ne.current,Pe.current)},[ie,_e]),sn=d.useCallback(function(tt,Qe){var Ge=nt.current,Ke=Ge.measurements,qe=Ge.scrollOffset,ot=Ke[kn(0,se-1,Qe)];if(ot){var st=Pe.current===c.ScrollMode.Page?{left:ot.start.left,top:ot.start.top}:{left:qe.left*tt,top:qe.top*tt};return Ze(st,!1)}return Promise.resolve()},[]);return d.useEffect(function(){return function(){bt.disconnect()}},[]),{boundingClientRect:Je,isSmoothScrolling:ge,startPage:Vt,endPage:Lt,maxVisbilityIndex:Wt,virtualItems:Bt,getContainerStyles:nn,getItemContainerStyles:Kt,getItemStyles:Qt,scrollToItem:zt,scrollToNextItem:Jt,scrollToPreviousItem:on,zoom:sn}},Un=function(y,j,ie,se,ue,he){var _e=ie;switch(!0){case(ue===c.ViewMode.DualPageWithCover&&he>=3):case(ue===c.ViewMode.DualPage&&he>=3):_e=2*ie;break;default:_e=ie}switch(se){case c.SpecialZoomLevel.ActualSize:return 1;case c.SpecialZoomLevel.PageFit:return Math.min((y.clientWidth-17)/_e,(y.clientHeight-16)/j);case c.SpecialZoomLevel.PageWidth:return(y.clientWidth-17)/_e}},pi=function(y){var j,ie,se=y.getCurrentPage,ue=(j=50,ie=d.useRef([]),d.useEffect(function(){return function(){ie.current=[]}},[]),{push:function(be){var ge=ie.current;ge.length+1>j&&ge.shift(),ge.push(be),ie.current=ge},map:function(be){return ie.current.map(function(ge){return be(ge)})},pop:function(){var be=ie.current;if(be.length===0)return null;var ge=be.pop();return ie.current=be,ge}}),he=function(be){var ge=d.useRef([]);return d.useEffect(function(){return function(){ge.current=[]}},[]),{dequeue:function(){var Te=ge.current;if(Te.length===0)return null;var Me=Te.shift();return ge.current=Te,Me||null},enqueue:function(Te){var Me=ge.current;Me.length+1>be&&Me.pop(),ge.current=[Te].concat(Me)},map:function(Te){return ge.current.map(function(Me){return Te(Me)})}}}(50),_e=function(){var be=he.dequeue();return be&&ue.push(be),be&&be.pageIndex===se()?_e():be},me=function(){var be=ue.pop();return be&&he.enqueue(be),be&&be.pageIndex===se()?me():be},ce=d.useCallback(function(be){ue.push(be)},[]);return{getNextDestination:_e,getPreviousDestination:me,markVisitedDestination:ce}},sr=function(y){var j=[];return y.map(function(ie){j=j.concat(ie).concat(function(se){var ue=[];return se.items&&se.items.length>0&&(ue=ue.concat(sr(se.items))),ue}(ie))}),j},cr={capture:!1,passive:!0},mi={height:0,width:0},Vn={height:0,width:0},gi=function(y){var j=y.getCurrentPage,ie=y.getCurrentScrollMode,se=y.jumpToPage,ue=y.targetRef,he=d.useState(c.FullScreenMode.Normal),_e=he[0],me=he[1],ce=function(){var et=d.useState(mi),_t=et[0],bt=et[1],yt=P(function(){bt({height:window.innerHeight,width:window.innerWidth})},100);return o(function(){return window.addEventListener("resize",yt,cr),function(){window.removeEventListener("resize",yt,cr)}},[]),_t}(),be=d.useState(Vn),ge=be[0],Te=be[1],Me=d.useRef(Vn),Pe=d.useRef(j()),Ne=d.useRef(Vn),Le=d.useState(ue.current),Ie=Le[0],dt=Le[1],Ze=d.useRef();o(function(){ue.current!==Ie&&dt(ue.current)},[]),o(function(){if(Ie){var et=new ResizeObserver(function(_t){_t.forEach(function(bt){var yt=bt.target.getBoundingClientRect(),Et=yt.height,wt=yt.width;Te({height:Et,width:wt})})});return et.observe(Ie),function(){et.unobserve(Ie),et.disconnect()}}},[Ie]);var Je=d.useCallback(function(et){var _t=B();return _t&&_t!==et?(me(c.FullScreenMode.Normal),w(_t)):Promise.resolve()},[]),nt=d.useCallback(function(et){et&&Q()&&(dt(et),Je(et).then(function(){Ze.current=et,me(c.FullScreenMode.Entering),function(_t){g&&_t[z.RequestFullScreen]()}(et)}))},[]),We=d.useCallback(function(){B()&&(me(c.FullScreenMode.Exitting),w(document))},[]),at=d.useCallback(function(){Ie&&B()!==Ie&&me(c.FullScreenMode.Exitting)},[Ie]);return d.useEffect(function(){switch(_e){case c.FullScreenMode.Entering:Ze.current&&(Ze.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Pe.current=j(),Me.current={height:window.innerHeight,width:window.innerWidth};break;case c.FullScreenMode.Entered:ie()===c.ScrollMode.Page?se(Pe.current).then(function(){me(c.FullScreenMode.EnteredCompletely)}):me(c.FullScreenMode.EnteredCompletely);break;case c.FullScreenMode.Exitting:Ze.current&&(Ze.current.style.backgroundColor="",Ze.current=null),Pe.current=j();break;case c.FullScreenMode.Exited:me(c.FullScreenMode.Normal),ie()===c.ScrollMode.Page&&se(Pe.current)}},[_e]),d.useEffect(function(){if(_e!==c.FullScreenMode.Normal)return _e===c.FullScreenMode.Entering&&ce.height===ge.height&&ce.width===ge.width&&ce.height>0&&ce.width>0&&(Ne.current.height===0||ce.height==Ne.current.height)?(Ne.current={height:window.innerHeight,width:window.innerWidth},void me(c.FullScreenMode.Entered)):void(_e===c.FullScreenMode.Exitting&&Me.current.height===ce.height&&Me.current.width===ce.width&&ce.height>0&&ce.width>0&&me(c.FullScreenMode.Exited))},[_e,ce,ge]),d.useEffect(function(){var et;return et=at,g&&document.addEventListener(z.FullScreenChange,et),function(){(function(_t){g&&document.removeEventListener(z.FullScreenChange,_t)})(at)}},[Ie]),{enterFullScreenMode:nt,exitFullScreenMode:We,fullScreenMode:_e}},vi={buildPageStyles:function(){return{}},transformSize:function(y){return y.size}},Sn={left:0,top:0},bi=function(y){var j=y.currentFile,ie=y.defaultScale,se=y.doc,ue=y.enableSmoothScroll,he=y.initialPage,_e=y.initialRotation,me=y.initialScale,ce=y.pageLayout,be=y.pageSizes,ge=y.plugins,Te=y.renderPage,Me=y.scrollMode,Pe=y.setRenderRange,Ne=y.viewMode,Le=y.viewerState,Ie=y.onDocumentLoad,dt=y.onOpenFile,Ze=y.onPageChange,Je=y.onRotate,nt=y.onRotatePage,We=y.onZoom,at=se.numPages,et=se.loadingTask.docId,_t=d.useContext(_).l10n,bt=d.useContext(E),yt=bt.direction===c.TextDirection.RightToLeft,Et=d.useRef(),wt=d.useRef(),Vt=d.useState(he),Lt=Vt[0],Wt=Vt[1],Bt=d.useRef(null),zt=pi({getCurrentPage:function(){return ut.current.pageIndex}}),Ut=d.useState(_e),jt=Ut[0],Jt=Ut[1],on=I(jt),nn=d.useState(!1),Kt=nn[0],Qt=nn[1],sn=d.useState(new Map),tt=sn[0],Qe=sn[1],Ge=d.useState(Me),Ke=Ge[0],qe=Ge[1],ot=I(Ke),st=d.useState(Ne),$e=st[0],Ue=st[1],ct=I($e),ft=function(Fe){var lt=O(),gt=d.useState([]),Ct=gt[0],St=gt[1];return d.useEffect(function(){Fe.getOutline().then(function(vt){if(lt.current&&vt!==null){var qt=sr(vt);St(qt)}})},[]),Ct}(se),Rt=d.useState(me),xt=Rt[0],$t=Rt[1],en=I(xt),ut=d.useRef(Le),Yt=d.useRef(typeof ie=="string"?ie:null),Ft=d.useRef(-1),Ot=d.useRef(-1),Gt=d.useRef(he),kt=gi({getCurrentPage:function(){return ut.current.pageIndex},getCurrentScrollMode:function(){return ut.current.scrollMode},jumpToPage:function(Fe){return pn(Fe)},targetRef:wt}),hn=d.useState(-1),wn=hn[0],Ln=hn[1],_n=d.useState(0),Pn=_n[0],Ci=_n[1],tn=M({doc:se});d.useEffect(function(){return function(){De.clear(),je.clear()}},[et]);var hr=d.useMemo(function(){return Object.assign({},vi,ce)},[]),Ai=d.useMemo(function(){return Array(at).fill(0).map(function(Fe,lt){var gt=[be[lt].pageHeight,be[lt].pageWidth],Ct=Math.abs(jt)%180==0?{height:gt[0],width:gt[1]}:{height:gt[1],width:gt[0]},St={height:Ct.height*xt,width:Ct.width*xt};return hr.transformSize({numPages:at,pageIndex:lt,size:St})})},[jt,xt]),Tt=fi({enableSmoothScroll:ue,isRtl:yt,numberOfItems:at,parentRef:wt,scrollMode:Ke,setRenderRange:Pe,sizes:Ai,viewMode:$e}),ki=P(function(){!Yt.current||ut.current.fullScreenMode!==c.FullScreenMode.Normal||he>0&&Gt.current===he||yn(Yt.current)},200);(function(Fe){var lt=Fe.targetRef,gt=Fe.onResize;o(function(){var Ct=new ResizeObserver(function(vt){vt.forEach(function(qt){gt(qt.target)})}),St=lt.current;if(St)return Ct.observe(St),function(){Ct.unobserve(St)}},[])})({targetRef:wt,onResize:ki});var fn=function(Fe){var lt=Fe;ge.forEach(function(gt){gt.onViewerStateChange&&(lt=gt.onViewerStateChange(lt))}),ut.current=lt},Pi=function(){return wt.current},xi=function(){return ut.current},Mi=d.useCallback(function(Fe){zt.markVisitedDestination(Fe)},[]),Gn=d.useCallback(function(Fe){var lt=Fe.pageIndex,gt=Fe.bottomOffset,Ct=Fe.leftOffset,St=Fe.scaleTo,vt=wt.current,qt=ut.current;return vt&&qt?new Promise(function(mn,Zn){le(se,lt).then(function(On){var gn=On.getViewport({scale:1}),Dn=0,yr=(typeof gt=="function"?gt(gn.width,gn.height):gt)||0,Nn=(typeof Ct=="function"?Ct(gn.width,gn.height):Ct)||0,Cn=qt.scale;switch(St){case c.SpecialZoomLevel.PageFit:Dn=0,Nn=0,yn(c.SpecialZoomLevel.PageFit);break;case c.SpecialZoomLevel.PageWidth:Cn=Un(vt,be[lt].pageHeight,be[lt].pageWidth,c.SpecialZoomLevel.PageWidth,Ne,at),Dn=(gn.height-yr)*Cn,Nn*=Cn,yn(Cn);break;default:Dn=(gn.height-yr)*Cn,Nn*=Cn}switch(qt.scrollMode){case c.ScrollMode.Horizontal:Tt.scrollToItem(lt,{left:Nn,top:0}).then(function(){mn()});break;case c.ScrollMode.Vertical:default:Tt.scrollToItem(lt,{left:0,top:Dn}).then(function(){mn()})}})}):Promise.resolve()},[]),fr=d.useCallback(function(Fe){return zt.markVisitedDestination(Fe),Gn(Fe)},[]),Ti=d.useCallback(function(){var Fe=zt.getNextDestination();return Fe?Gn(Fe):Promise.resolve()},[]),Ri=d.useCallback(function(){var Fe=zt.getPreviousDestination();return Fe?Gn(Fe):Promise.resolve()},[]),Fi=d.useCallback(function(){return Tt.scrollToNextItem(ut.current.pageIndex,Sn)},[]),pn=d.useCallback(function(Fe){return 0<=Fe&&Fe<at?Tt.scrollToItem(Fe,Sn):Promise.resolve()},[]),Ii=d.useCallback(function(){return Tt.scrollToPreviousItem(ut.current.pageIndex,Sn)},[]),pr=d.useCallback(function(Fe){var lt,gt;(lt=Fe.name,gt=lt.split(/\./).pop(),gt?gt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Ct){var St=new FileReader;St.readAsArrayBuffer(Fe),St.onload=function(){var vt=new Uint8Array(St.result);Ct(vt)}}).then(function(Ct){dt(Fe.name,Ct)})},[dt]),mr=d.useCallback(function(Fe){var lt=Fe===c.RotateDirection.Backward?-90:90,gt=ut.current.rotation,Ct=gt===360||gt===-360?lt:gt+lt;tn.markNotRendered(),Jt(Ct),fn(F(F({},ut.current),{rotation:Ct})),Je({direction:Fe,doc:se,rotation:Ct})},[]),qn=d.useCallback(function(Fe,lt){var gt=lt===c.RotateDirection.Backward?-90:90,Ct=ut.current.pagesRotation,St=(Ct.has(Fe)?Ct.get(Fe):_e)+gt,vt=Ct.set(Fe,St);Qe(vt),Qt(function(qt){return!qt}),fn(F(F({},ut.current),{pagesRotation:vt,rotatedPage:Fe})),nt({direction:lt,doc:se,pageIndex:Fe,rotation:St}),tn.markRendering(Fe),Ln(Fe)},[]),gr=d.useCallback(function(Fe){fn(F(F({},ut.current),{scrollMode:Fe})),qe(Fe)},[]),vr=d.useCallback(function(Fe){fn(F(F({},ut.current),{viewMode:Fe})),Ue(Fe)},[]),yn=d.useCallback(function(Fe){var lt=wt.current,gt=ut.current.pageIndex;if(!(gt<0||gt>=at)){var Ct=be[gt].pageHeight,St=be[gt].pageWidth,vt=lt?typeof Fe=="string"?Un(lt,Ct,St,Fe,ut.current.viewMode,at):Fe:1;Yt.current=typeof Fe=="string"?Fe:null,vt!==ut.current.scale&&(Ci(function(qt){return qt+1}),tn.markNotRendered(),$t(vt),We({doc:se,scale:vt}),fn(F(F({},ut.current),{scale:vt})))}},[]),Li=d.useCallback(function(Fe){kt.enterFullScreenMode(Fe)},[]),Oi=d.useCallback(function(){kt.exitFullScreenMode()},[]);d.useEffect(function(){fn(F(F({},ut.current),{fullScreenMode:kt.fullScreenMode}))},[kt.fullScreenMode]),d.useEffect(function(){var Fe={enterFullScreenMode:Li,exitFullScreenMode:Oi,getPagesContainer:Pi,getViewerState:xi,jumpToDestination:fr,jumpToNextDestination:Ti,jumpToPreviousDestination:Ri,jumpToNextPage:Fi,jumpToPreviousPage:Ii,jumpToPage:pn,openFile:pr,rotate:mr,rotatePage:qn,setViewerState:fn,switchScrollMode:gr,switchViewMode:vr,zoom:yn};return ge.forEach(function(lt){lt.install&&lt.install(Fe)}),function(){ge.forEach(function(lt){lt.uninstall&&lt.uninstall(Fe)})}},[et]),d.useEffect(function(){Ie({doc:se,file:j}),ge.forEach(function(Fe){Fe.onDocumentLoad&&Fe.onDocumentLoad({doc:se,file:j})})},[et]);var Xn,Kn,$n,br=Tt.boundingClientRect;Xn=function(){he&&pn(he)},Kn=br.height>0&&br.width>0,$n=d.useRef(!1),o(function(){Kn&&!$n.current&&($n.current=!0,Xn())},[Xn,Kn]),o(function(){var Fe=ut.current.pageIndex;Fe>-1&&ot!==Ke&&Tt.scrollToItem(Fe,Sn).then(function(){kt.fullScreenMode===c.FullScreenMode.EnteredCompletely&&(ue||tn.markNotRendered(),Ft.current=-1)})},[Ke]),o(function(){var Fe=ut.current.pageIndex;Fe>-1&&on!==jt&&Tt.scrollToItem(Fe,Sn)},[jt]),o(function(){en!=0&&en!=ut.current.scale&&Tt.zoom(ut.current.scale/en,ut.current.pageIndex).then(function(){kt.fullScreenMode===c.FullScreenMode.EnteredCompletely&&(Ot.current=-1)})},[xt]),o(function(){if(ct!==ut.current.viewMode){var Fe=Tt.startPage,lt=Tt.endPage,gt=Tt.virtualItems;tn.markNotRendered(),tn.setRange(Fe,lt);for(var Ct=function(vt){var qt=gt.find(function(mn){return mn.index===vt});qt&&tn.setVisibility(vt,qt.visibility)},St=Fe;St<=lt;St++)Ct(St);Yn()}},[$e]),o(function(){var Fe=ut.current.pageIndex;Fe>-1&&ct!==$e&&Tt.scrollToItem(Fe,Sn)},[$e]),o(function(){var Fe=ut.current.pageIndex;Fe>0&&Fe===he&&Gt.current===he&&Yt.current&&(Gt.current=-1,yn(Yt.current))},[Lt]),d.useEffect(function(){Tt.isSmoothScrolling||Bt.current!==null&&Bt.current===Lt||(Bt.current=Lt,Ze({currentPage:Lt,doc:se}))},[Lt,Tt.isSmoothScrolling]),d.useEffect(function(){kt.fullScreenMode===c.FullScreenMode.Entering&&ut.current.scrollMode===c.ScrollMode.Page&&(Ft.current=ut.current.pageIndex),kt.fullScreenMode===c.FullScreenMode.EnteredCompletely&&ut.current.scrollMode===c.ScrollMode.Page&&ue&&(Ft.current=-1),kt.fullScreenMode===c.FullScreenMode.EnteredCompletely&&Yt.current&&(Ot.current=ut.current.pageIndex,yn(Yt.current))},[kt.fullScreenMode]),d.useEffect(function(){if(kt.fullScreenMode!==c.FullScreenMode.Entering&&kt.fullScreenMode!==c.FullScreenMode.Exitting&&!Tt.isSmoothScrolling){var Fe=Tt.startPage,lt=Tt.endPage,gt=Tt.maxVisbilityIndex,Ct=Tt.virtualItems,St=gt,vt=kt.fullScreenMode===c.FullScreenMode.Entered||kt.fullScreenMode===c.FullScreenMode.EnteredCompletely;if(!(vt&&St!==Ft.current&&Ft.current>-1||vt&&St!==Ot.current&&Ot.current>-1)){Wt(St),fn(F(F({},ut.current),{pageIndex:St})),tn.setRange(Fe,lt);for(var qt=function(Zn){var On=Ct.find(function(gn){return gn.index===Zn});On&&tn.setVisibility(Zn,On.visibility)},mn=Fe;mn<=lt;mn++)qt(mn);Yn()}}},[Tt.startPage,Tt.endPage,Tt.isSmoothScrolling,Tt.maxVisbilityIndex,kt.fullScreenMode,Kt,jt,xt]);var Di=d.useCallback(function(Fe){tn.markRendered(Fe),Yn()},[Pn]),Yn=function(){var Fe=tn.getHighestPriorityPage();Fe>-1&&tn.isInRange(Fe)&&(tn.markRendering(Fe),Ln(Fe))},Ni=function(Fe){var lt=Lt-1,gt=Lt+1;switch(Fe){case"FirstPage":pn(0);break;case"LastPage":pn(at-1);break;case"NextPage":gt<at&&pn(gt);break;case"PrevPage":lt>=0&&pn(lt)}},Bi=d.useCallback(function(){var Fe=Tt.virtualItems,lt=[];switch($e){case c.ViewMode.DualPage:lt=xe(Fe,2);break;case c.ViewMode.DualPageWithCover:Fe.length&&(lt=Fe[0].index===0?[[Fe[0]]].concat(xe(Fe.slice(1),2)):xe(Fe,2));break;case c.ViewMode.SinglePage:default:lt=xe(Fe,1)}var gt=_t&&_t.core?_t.core.pageLabel:"Page {{pageIndex}}",Ct={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Et,style:{height:"100%"}},children:d.createElement(d.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:f({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Ke===c.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":yt,"rpv-core__inner-pages--single":Ke===c.ScrollMode.Page,"rpv-core__inner-pages--vertical":Ke===c.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Ke===c.ScrollMode.Wrapped}),ref:wt,style:{height:"100%",position:"relative"}},children:d.createElement("div",{"data-testid":"core__inner-current-page-".concat(Lt),style:Object.assign({"--scale-factor":xt},Tt.getContainerStyles())},lt.map(function(St){return d.createElement("div",{className:f({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Ke===c.ScrollMode.Page}),style:Tt.getItemContainerStyles(St[0]),key:"".concat(St[0].index,"-").concat($e)},St.map(function(vt){var qt=$e===c.ViewMode.DualPageWithCover&&(vt.index===0||at%2==0&&vt.index===at-1);return d.createElement("div",{"aria-label":gt.replace("{{pageIndex}}","".concat(vt.index+1)),className:f({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":$e===c.ViewMode.DualPage&&vt.index%2==0,"rpv-core__inner-page--dual-odd":$e===c.ViewMode.DualPage&&vt.index%2==1,"rpv-core__inner-page--dual-cover":qt,"rpv-core__inner-page--dual-cover-even":$e===c.ViewMode.DualPageWithCover&&!qt&&vt.index%2==0,"rpv-core__inner-page--dual-cover-odd":$e===c.ViewMode.DualPageWithCover&&!qt&&vt.index%2==1,"rpv-core__inner-page--single":$e===c.ViewMode.SinglePage&&Ke===c.ScrollMode.Page}),role:"region",key:"".concat(vt.index,"-").concat($e),style:Object.assign({},Tt.getItemStyles(vt),hr.buildPageStyles({numPages:at,pageIndex:vt.index,scrollMode:Ke,viewMode:$e}))},d.createElement(ri,{doc:se,measureRef:vt.measureRef,outlines:ft,pageIndex:vt.index,pageRotation:tt.has(vt.index)?tt.get(vt.index):0,pageSize:be[vt.index],plugins:ge,renderPage:Te,renderQueueKey:Pn,rotation:jt,scale:xt,shouldRender:wn===vt.index,viewMode:$e,onExecuteNamedAction:Ni,onJumpFromLinkAnnotation:Mi,onJumpToDest:fr,onRenderCompleted:Di,onRotatePage:qn}))}))}))}};return ge.forEach(function(St){St.renderViewer&&(Ct=St.renderViewer({containerRef:Et,doc:se,pagesContainerRef:wt,pagesRotation:tt,pageSizes:be,rotation:jt,slot:Ct,themeContext:bt,jumpToPage:pn,openFile:pr,rotate:mr,rotatePage:qn,switchScrollMode:gr,switchViewMode:vr,zoom:yn}))}),Ct},[ge,Tt]),_r=d.useCallback(function(Fe){return d.createElement("div",F({},Fe.attrs,{style:Fe.attrs&&Fe.attrs.style?Fe.attrs.style:{}}),Fe.children,Fe.subSlot&&_r(Fe.subSlot))},[]);return _r(Bi())},lr=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],_i=function(y){var j=y.defaultScale,ie=y.doc,se=y.render,ue=y.scrollMode,he=y.viewMode,_e=d.useRef(),me=d.useState({pageSizes:[],scale:0}),ce=me[0],be=me[1];return d.useLayoutEffect(function(){var ge=Array(ie.numPages).fill(0).map(function(Te,Me){return new Promise(function(Pe,Ne){le(ie,Me).then(function(Le){var Ie=Le.getViewport({scale:1});Pe({pageHeight:Ie.height,pageWidth:Ie.width,rotation:Ie.rotation})})})});Promise.all(ge).then(function(Te){var Me=_e.current;if(Me&&Te.length!==0){var Pe=Te[0].pageWidth,Ne=Te[0].pageHeight,Le=Me.parentElement,Ie=(Le.clientWidth-45)/Pe,dt=(Le.clientHeight-45)/Ne,Ze=Ie;switch(ue){case c.ScrollMode.Horizontal:Ze=Math.min(Ie,dt);break;case c.ScrollMode.Vertical:default:Ze=Ie}var Je,nt,We=j?typeof j=="string"?Un(Le,Ne,Pe,j,he,ie.numPages):j:(Je=Ze,(nt=lr.findIndex(function(at){return at>=Je}))===-1||nt===0?Je:lr[nt-1]);be({pageSizes:Te,scale:We})}})},[ie.loadingTask.docId]),ce.pageSizes.length===0||ce.scale===0?d.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:_e},d.createElement(e,null)):se(ce.pageSizes,ce.scale)},In=function(){},Hn=function(y){function j(ie,se){var ue=y.call(this)||this;return ue.verifyPassword=ie,ue.passwordStatus=se,ue}return U(j,y),j}(In),yi=function(y){var j=y.passwordStatus,ie=y.renderProtectedView,se=y.verifyPassword,ue=y.onDocumentAskPassword,he=d.useContext(_).l10n,_e=d.useState(""),me=_e[0],ce=_e[1],be=d.useContext(E).direction===c.TextDirection.RightToLeft,ge=function(){return se(me)};return d.useEffect(function(){ue&&ue({verifyPassword:se})},[]),ie?ie({passwordStatus:j,verifyPassword:se}):d.createElement("div",{className:"rpv-core__asking-password-wrapper"},d.createElement("div",{className:f({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":be})},d.createElement("div",{className:"rpv-core__asking-password-message"},j===c.PasswordStatus.RequiredPassword&&he.core.askingPassword.requirePasswordToOpen,j===c.PasswordStatus.WrongPassword&&he.core.wrongPassword.tryAgain),d.createElement("div",{className:"rpv-core__asking-password-body"},d.createElement("div",{className:f({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!be,"rpv-core__asking-password-input--rtl":be})},d.createElement(u,{testId:"core__asking-password-input",type:"password",value:me,onChange:ce,onKeyDown:function(Te){Te.key==="Enter"&&ge()}})),d.createElement(t,{onClick:ge},he.core.askingPassword.submit))))},ur=function(y){function j(ie){var se=y.call(this)||this;return se.doc=ie,se}return U(j,y),j}(In),dr=function(y){function j(ie){var se=y.call(this)||this;return se.error=ie,se}return U(j,y),j}(In),Wn=function(y){function j(ie){var se=y.call(this)||this;return se.percentages=ie,se}return U(j,y),j}(In),Ei=function(y){var j=y.characterMap,ie=y.file,se=y.httpHeaders,ue=y.render,he=y.renderError,_e=y.renderLoader,me=y.renderProtectedView,ce=y.transformGetDocumentParams,be=y.withCredentials,ge=y.onDocumentAskPassword,Te=d.useContext(E).direction===c.TextDirection.RightToLeft,Me=d.useState(new Wn(0)),Pe=Me[0],Ne=Me[1],Le=d.useRef(""),Ie=O();return d.useEffect(function(){Le.current="",Ne(new Wn(0));var dt=new q.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Ze=Object.assign({httpHeaders:se,withCredentials:be,worker:dt},typeof ie=="string"?{url:ie}:{data:ie},j?{cMapUrl:j.url,cMapPacked:j.isCompressed}:{}),Je=ce?ce(Ze):Ze,nt=q.getDocument(Je);return nt.onPassword=function(We,at){switch(at){case q.PasswordResponses.NEED_PASSWORD:Ie.current&&Ne(new Hn(We,c.PasswordStatus.RequiredPassword));break;case q.PasswordResponses.INCORRECT_PASSWORD:Ie.current&&Ne(new Hn(We,c.PasswordStatus.WrongPassword))}},nt.onProgress=function(We){var at=We.total>0?Math.min(100,100*We.loaded/We.total):100;Ie.current&&Le.current===""&&Ne(new Wn(at))},nt.promise.then(function(We){Le.current=We.loadingTask.docId,Ie.current&&Ne(new ur(We))},function(We){return Ie.current&&!dt.destroyed&&Ne(new dr({message:We.message||"Cannot load document",name:We.name}))}),function(){nt.destroy(),dt.destroy()}},[ie]),Pe instanceof Hn?d.createElement(yi,{passwordStatus:Pe.passwordStatus,renderProtectedView:me,verifyPassword:Pe.verifyPassword,onDocumentAskPassword:ge}):Pe instanceof ur?ue(Pe.doc):Pe instanceof dr?he?he(Pe.error):d.createElement("div",{className:f({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Te})},d.createElement("div",{className:"rpv-core__doc-error-text"},Pe.error.message)):d.createElement("div",{"data-testid":"core__doc-loading",className:f({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Te})},_e?_e(Pe.percentages):d.createElement(e,null))},Si=function(y,j){var ie=d.useMemo(function(){return y==="auto"?typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":y},[]),se=d.useState(ie),ue=se[0],he=se[1],_e=I(ue);return d.useEffect(function(){if(y==="auto"){var me=window.matchMedia("(prefers-color-scheme: dark)"),ce=function(be){he(be.matches?"dark":"light")};return me.addEventListener("change",ce),function(){return me.removeEventListener("change",ce)}}},[]),d.useEffect(function(){ue!==_e&&j&&j(ue)},[ue]),d.useEffect(function(){y!==ue&&he(y)},[y]),{currentTheme:ue,setCurrentTheme:he}},wi=function(y){return{startPage:y.startPage-3,endPage:y.endPage+3}};c.Button=function(y){var j=y.children,ie=y.testId,se=y.onClick,ue=d.useContext(E).direction===c.TextDirection.RightToLeft,he=ie?{"data-testid":ie}:{};return d.createElement("button",F({className:f({"rpv-core__button":!0,"rpv-core__button--rtl":ue}),type:"button",onClick:se},he),j)},c.Icon=n,c.LazyRender=function(y){var j=y.attrs,ie=y.children,se=y.testId,ue=d.useState(!1),he=ue[0],_e=ue[1],me=se?F(F({},j),{"data-testid":se}):j,ce=s({once:!0,onVisibilityChanged:function(be){be.isVisible&&_e(!0)}});return d.createElement("div",F({ref:ce},me),he&&ie)},c.LocalizationContext=_,c.Menu=function(y){var j=y.children,ie=d.useRef(),se=d.useRef([]),ue=d.useContext(E).direction===c.TextDirection.RightToLeft,he=function(me){if(ie.current)switch(me.key){case"Tab":me.preventDefault();break;case"ArrowDown":me.preventDefault(),_e(function(ce,be){return be+1});break;case"ArrowUp":me.preventDefault(),_e(function(ce,be){return be-1});break;case"End":me.preventDefault(),_e(function(ce,be){return ce.length-1});break;case"Home":me.preventDefault(),_e(function(ce,be){return 0})}},_e=function(me){if(ie.current){var ce=se.current,be=ce.findIndex(function(Te){return Te.getAttribute("tabindex")==="0"}),ge=Math.min(ce.length-1,Math.max(0,me(ce,be)));be>=0&&be<=ce.length-1&&ce[be].setAttribute("tabindex","-1"),ce[ge].setAttribute("tabindex","0"),ce[ge].focus()}};return o(function(){var me=ie.current;if(me){var ce=function(be){var ge=[];return be.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Te){if(Te instanceof HTMLElement){var Me=Te.parentElement;(Me===be||window.getComputedStyle(Me).display!=="none")&&ge.push(Te)}}),ge}(me);se.current=ce}},[]),o(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),d.createElement("div",{ref:ie,"aria-orientation":"vertical",className:f({"rpv-core__menu":!0,"rpv-core__menu--rtl":ue}),role:"menu",tabIndex:0},j)},c.MenuDivider=function(){return d.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},c.MenuItem=function(y){var j=y.checked,ie=j!==void 0&&j,se=y.children,ue=y.icon,he=ue===void 0?null:ue,_e=y.isDisabled,me=_e!==void 0&&_e,ce=y.testId,be=y.onClick,ge=d.useContext(E).direction===c.TextDirection.RightToLeft,Te=ce?{"data-testid":ce}:{};return d.createElement("button",F({className:f({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":me,"rpv-core__menu-item--ltr":!ge,"rpv-core__menu-item--rtl":ge}),role:"menuitem",tabIndex:-1,type:"button",onClick:be},Te),d.createElement("div",{className:f({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ge,"rpv-core__menu-item-icon--rtl":ge})},he),d.createElement("div",{className:f({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ge,"rpv-core__menu-item-label--rtl":ge})},se),d.createElement("div",{className:f({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ge,"rpv-core__menu-item-check--rtl":ge})},ie&&d.createElement(a,null)))},c.MinimalButton=function(y){var j=y.ariaLabel,ie=j===void 0?"":j,se=y.ariaKeyShortcuts,ue=se===void 0?"":se,he=y.children,_e=y.isDisabled,me=_e!==void 0&&_e,ce=y.isSelected,be=ce!==void 0&&ce,ge=y.testId,Te=y.onClick,Me=d.useContext(E).direction===c.TextDirection.RightToLeft,Pe=ge?{"data-testid":ge}:{};return d.createElement("button",F({"aria-label":ie},ue&&{"aria-keyshortcuts":ue},me&&{"aria-disabled":!0},{className:f({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":me,"rpv-core__minimal-button--rtl":Me,"rpv-core__minimal-button--selected":be}),type:"button",onClick:Te},Pe),he)},c.Modal=function(y){var j=y.ariaControlsSuffix,ie=y.closeOnClickOutside,se=y.closeOnEscape,ue=y.content,he=y.isOpened,_e=he!==void 0&&he,me=y.target,ce=j||"".concat(D());return d.createElement(Ee,{target:me?function(be,ge){return d.createElement("div",{"aria-expanded":ge?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(ce)},me(be,ge))}:null,content:function(be){return d.createElement(fe,null,d.createElement(ee,{ariaControlsSuffix:ce,closeOnClickOutside:ie,closeOnEscape:se,onToggle:be},ue(be)))},isOpened:_e})},c.Popover=function(y){var j=y.ariaHasPopup,ie=j===void 0?"dialog":j,se=y.ariaControlsSuffix,ue=y.closeOnClickOutside,he=y.closeOnEscape,_e=y.content,me=y.lockScroll,ce=me===void 0||me,be=y.offset,ge=y.position,Te=y.target,Me=pe(!1),Pe=Me.opened,Ne=Me.toggle,Le=d.useRef(),Ie=d.useMemo(function(){return se||"".concat(D())},[]);return d.createElement("div",{ref:Le,"aria-expanded":Pe?"true":"false","aria-haspopup":ie,"aria-controls":"rpv-core__popver-body-".concat(Ie)},Te(Ne,Pe),Pe&&d.createElement(d.Fragment,null,ce&&d.createElement(re,{closeOnEscape:he,onClose:Ne}),d.createElement(J,{ariaControlsSuffix:Ie,closeOnClickOutside:ue,offset:be,position:ge,targetRef:Le,onClose:Ne},_e(Ne))))},c.PrimaryButton=t,c.ProgressBar=function(y){var j=y.progress,ie=d.useContext(E).direction===c.TextDirection.RightToLeft;return d.createElement("div",{className:f({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":ie})},d.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(j,"%")}},j,"%"))},c.Separator=function(){return d.createElement("div",{className:"rpv-core__separator"})},c.Spinner=e,c.Splitter=function(y){var j=y.constrain,ie=d.useContext(E).direction===c.TextDirection.RightToLeft,se=d.useRef(),ue=d.useRef(),he=d.useRef(),_e=d.useRef(0),me=d.useRef(0),ce=d.useRef(0),be=d.useRef(0),ge={capture:!0},Te=function(Pe){var Ne=se.current,Le=ue.current,Ie=he.current;if(Ne&&Le&&Ie){var dt=be.current,Ze=Pe.clientX-_e.current,Je=ce.current+(ie?-Ze:Ze),nt=Ne.parentElement.getBoundingClientRect().width,We=100*Je/nt;if(Ne.classList.add("rpv-core__splitter--resizing"),j){var at=nt-Je-dt;if(!j({firstHalfPercentage:We,firstHalfSize:Je,secondHalfPercentage:100*at/nt,secondHalfSize:at}))return}Le.style.width="".concat(We,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Le.classList.add("rpv-core__splitter-sibling--resizing"),Ie.classList.add("rpv-core__splitter-sibling--resizing")}},Me=function(Pe){var Ne=se.current,Le=ue.current,Ie=he.current;Ne&&Le&&Ie&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ne.classList.remove("rpv-core__splitter--resizing"),Le.classList.remove("rpv-core__splitter-sibling--resizing"),Ie.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Te,ge),document.removeEventListener("mouseup",Me,ge))};return d.useEffect(function(){var Pe=se.current;Pe&&(be.current=Pe.getBoundingClientRect().width,ue.current=Pe.previousElementSibling,he.current=Pe.nextElementSibling)},[]),d.createElement("div",{ref:se,className:"rpv-core__splitter",onMouseDown:function(Pe){var Ne=ue.current;Ne&&(_e.current=Pe.clientX,me.current=Pe.clientY,ce.current=Ne.getBoundingClientRect().width,document.addEventListener("mousemove",Te,ge),document.addEventListener("mouseup",Me,ge))}})},c.TextBox=u,c.ThemeContext=E,c.Tooltip=function(y){var j=y.ariaControlsSuffix,ie=y.content,se=y.offset,ue=y.position,he=y.target,_e=pe(!1),me=_e.opened,ce=_e.toggle,be=d.useRef(),ge=d.useRef(),Te=d.useMemo(function(){return j||"".concat(D())},[]);Y(function(){be.current&&document.activeElement&&be.current.contains(document.activeElement)&&Pe()});var Me=function(){ce(c.ToggleStatus.Open)},Pe=function(){ce(c.ToggleStatus.Close)};return d.createElement(d.Fragment,null,d.createElement("div",{ref:be,"aria-describedby":"rpv-core__tooltip-body-".concat(Te),onBlur:function(Ne){Ne.relatedTarget instanceof HTMLElement&&Ne.currentTarget.parentElement&&Ne.currentTarget.parentElement.contains(Ne.relatedTarget)?ge.current&&(ge.current.style.display="none"):Pe()},onFocus:Me,onMouseEnter:Me,onMouseLeave:Pe},he),me&&d.createElement(Se,{ariaControlsSuffix:Te,contentRef:ge,offset:se,position:ue,targetRef:be},ie()))},c.Viewer=function(y){var j=y.characterMap,ie=y.defaultScale,se=y.enableSmoothScroll,ue=se===void 0||se,he=y.fileUrl,_e=y.httpHeaders,me=_e===void 0?{}:_e,ce=y.initialPage,be=ce===void 0?0:ce,ge=y.pageLayout,Te=y.initialRotation,Me=Te===void 0?0:Te,Pe=y.localization,Ne=y.plugins,Le=Ne===void 0?[]:Ne,Ie=y.renderError,dt=y.renderLoader,Ze=y.renderPage,Je=y.renderProtectedView,nt=y.scrollMode,We=nt===void 0?c.ScrollMode.Vertical:nt,at=y.setRenderRange,et=at===void 0?wi:at,_t=y.transformGetDocumentParams,bt=y.theme,yt=bt===void 0?{direction:c.TextDirection.LeftToRight,theme:"light"}:bt,Et=y.viewMode,wt=Et===void 0?c.ViewMode.SinglePage:Et,Vt=y.withCredentials,Lt=Vt!==void 0&&Vt,Wt=y.onDocumentAskPassword,Bt=y.onDocumentLoad,zt=Bt===void 0?function(){}:Bt,Ut=y.onPageChange,jt=Ut===void 0?function(){}:Ut,Jt=y.onRotate,on=Jt===void 0?function(){}:Jt,nn=y.onRotatePage,Kt=nn===void 0?function(){}:nn,Qt=y.onSwitchTheme,sn=Qt===void 0?function(){}:Qt,tt=y.onZoom,Qe=tt===void 0?function(){}:tt,Ge=d.useState({data:he,name:typeof he=="string"?he:"",shouldLoad:!1}),Ke=Ge[0],qe=Ge[1],ot=function(Ft,Ot){qe({data:Ot,name:Ft,shouldLoad:!0})},st=d.useState(!1),$e=st[0],Ue=st[1],ct=I(Ke);d.useEffect(function(){var Ft,Ot,Gt,kt;Ft=ct.data,kt=typeof(Ot=he),(Gt=typeof Ft)==="string"&&kt==="string"&&Ft===Ot||Gt==="object"&&kt==="object"&&Ft.length===Ot.length&&Ft.every(function(hn,wn){return hn===Ot[wn]})||qe({data:he,name:typeof he=="string"?he:"",shouldLoad:$e})},[he,$e]);var ft=s({onVisibilityChanged:function(Ft){Ue(Ft.isVisible),Ft.isVisible&&qe(function(Ot){return Object.assign({},Ot,{shouldLoad:!0})})}}),Rt=typeof yt=="string"?{direction:c.TextDirection.LeftToRight,theme:yt}:yt,xt=d.useState(Pe||b),$t=xt[0],en=xt[1],ut={l10n:$t,setL10n:en},Yt=Object.assign({},{direction:Rt.direction},Si(Rt.theme||"light",sn));return d.useEffect(function(){Pe&&en(Pe)},[Pe]),d.createElement(_.Provider,{value:ut},d.createElement(E.Provider,{value:Yt},d.createElement("div",{ref:ft,className:"rpv-core__viewer rpv-core__viewer--".concat(Yt.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Ke.shouldLoad&&d.createElement(Ei,{characterMap:j,file:Ke.data,httpHeaders:me,render:function(Ft){return d.createElement(_i,{defaultScale:ie,doc:Ft,render:function(Ot,Gt){return d.createElement(bi,{currentFile:{data:Ke.data,name:Ke.name},defaultScale:ie,doc:Ft,enableSmoothScroll:ue,initialPage:be,initialRotation:Me,initialScale:Gt,pageLayout:ge,pageSizes:Ot,plugins:Le,renderPage:Ze,scrollMode:We,setRenderRange:et,viewMode:wt,viewerState:{file:Ke,fullScreenMode:c.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ot[0].pageHeight,pageWidth:Ot[0].pageWidth,pagesRotation:new Map,rotation:Me,scale:Gt,scrollMode:We,viewMode:wt},onDocumentLoad:zt,onOpenFile:ot,onPageChange:jt,onRotate:on,onRotatePage:Kt,onZoom:Qe})},scrollMode:We,viewMode:wt})},renderError:Ie,renderLoader:dt,renderProtectedView:Je,transformGetDocumentParams:_t,withCredentials:Lt,onDocumentAskPassword:Wt}))))},c.Worker=function(y){var j=y.children,ie=y.workerUrl;return q.GlobalWorkerOptions.workerSrc=ie,d.createElement(d.Fragment,null,j)},c.chunk=xe,c.classNames=f,c.createStore=function(y){var j=y||{},ie={},se=function(he,_e){var me;j=F(F({},j),((me={})[he]=_e,me)),(ie[he]||[]).forEach(function(ce){return ce(j[he])})},ue=function(he){return j[he]};return{subscribe:function(he,_e){ie[he]=(ie[he]||[]).concat(_e)},unsubscribe:function(he,_e){ie[he]=(ie[he]||[]).filter(function(me){return me!==_e})},update:function(he,_e){se(he,_e)},updateCurrentValue:function(he,_e){var me=ue(he);me!==void 0&&se(he,_e(me))},get:function(he){return ue(he)}}},c.getDestination=Ae,c.getPage=le,c.isFullScreenEnabled=Q,c.isMac=function(){return typeof window!="undefined"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},c.useDebounceCallback=P,c.useIntersectionObserver=s,c.useIsMounted=O,c.useIsomorphicLayoutEffect=o,c.usePrevious=I,c.useRenderQueue=M},54141:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(89469)},72939:function(we,c,te){"use strict";var r,H=te(54141),i=te(67294),k=te(27504),d=te(42227),q=te(24416),m=te(85734);function U(a){var t=Object.create(null);return a&&Object.keys(a).forEach(function(e){if(e!=="default"){var u=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(t,e,u.get?u:{enumerable:!0,get:function(){return a[e]}})}}),t.default=a,Object.freeze(t)}var W=U(i),F=function(){return W.createElement(H.Icon,{size:16},W.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},T=function(){return T=Object.assign||function(a){for(var t,e=1,u=arguments.length;e<u;e++)for(var p in t=arguments[e])Object.prototype.hasOwnProperty.call(t,p)&&(a[p]=t[p]);return a},T.apply(this,arguments)},E=function(){return W.createElement(H.Icon,{size:16},W.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},f=function(){return W.createElement(H.Icon,{size:16},W.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},o={left:8,top:0},s={left:-8,top:0},n=function(a){var t=a.attachmentTabContent,e=a.bookmarkTabContent,u=a.store,p=a.thumbnailTabContent,C=a.tabs,L=W.useRef(),x=W.useContext(H.LocalizationContext).l10n,g=W.useState(u.get("isCurrentTabOpened")||!1),z=g[0],Q=g[1],w=W.useState(Math.max(u.get("currentTab")||0,0)),B=w[0],P=w[1],O=W.useContext(H.ThemeContext).direction===H.TextDirection.RightToLeft,I=[{content:p,icon:W.createElement(f,null),title:x&&x.defaultLayout?x.defaultLayout.thumbnail:"Thumbnail"},{content:e,icon:W.createElement(F,null),title:x&&x.defaultLayout?x.defaultLayout.bookmark:"Bookmark"},{content:t,icon:W.createElement(E,null),title:x&&x.defaultLayout?x.defaultLayout.attachment:"Attachment"}],$=C?C(I):I,K=function(b){b>=0&&b<=$.length-1&&(u.update("isCurrentTabOpened",!0),P(b))},M=function(b){Q(b)};return W.useEffect(function(){return u.subscribe("currentTab",K),u.subscribe("isCurrentTabOpened",M),function(){u.unsubscribe("currentTab",K),u.unsubscribe("isCurrentTabOpened",M)}},[]),$.length===0?W.createElement(W.Fragment,null):W.createElement(W.Fragment,null,W.createElement("div",{"data-testid":"default-layout__sidebar",className:H.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":z,"rpv-default-layout__sidebar--ltr":!O,"rpv-default-layout__sidebar--rtl":O}),ref:L},W.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},W.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},$.map(function(b,_){return W.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":B===_,key:_,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(_),role:"tab"},W.createElement(H.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(_),position:O?H.Position.LeftCenter:H.Position.RightCenter,target:W.createElement(H.MinimalButton,{ariaLabel:b.title,isSelected:B===_,onClick:function(){return function(R){if(B===R){u.update("isCurrentTabOpened",!u.get("isCurrentTabOpened"));var D=L.current;D&&D.style.width&&D.style.removeProperty("width")}else u.update("currentTab",R)}(_)}},b.icon),content:function(){return b.title},offset:O?s:o}))})),W.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(B),id:"rpv-default-layout__sidebar-content",className:H.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":z,"rpv-default-layout__sidebar-content--ltr":!O,"rpv-default-layout__sidebar-content--rtl":O}),role:"tabpanel",tabIndex:-1},$[B].content))),z&&W.createElement(H.Splitter,{constrain:function(b){return b.firstHalfPercentage>=20&&b.firstHalfPercentage<=80}}))};r=F,r=E,r=f,c.defaultLayoutPlugin=function(a){var t=W.useMemo(function(){return H.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),e=k.attachmentPlugin(),u=d.bookmarkPlugin(),p=q.thumbnailPlugin(a?a.thumbnailPlugin:{}),C=m.toolbarPlugin(a?a.toolbarPlugin:{}),L=e.Attachments,x=u.Bookmarks,g=p.Thumbnails,z=C.Toolbar,Q=a?a.sidebarTabs:function(B){return B},w=[e,u,p,C];return{attachmentPluginInstance:e,bookmarkPluginInstance:u,thumbnailPluginInstance:p,toolbarPluginInstance:C,activateTab:function(B){t.update("currentTab",B)},toggleTab:function(B){var P=t.get("currentTab");t.update("isCurrentTabOpened",!t.get("isCurrentTabOpened")),P!==B&&t.update("currentTab",B)},install:function(B){w.forEach(function(P){P.install&&P.install(B)})},renderPageLayer:function(B){return W.createElement(W.Fragment,null,w.map(function(P,O){return P.renderPageLayer?W.createElement(W.Fragment,{key:O},P.renderPageLayer(B)):W.createElement(W.Fragment,{key:O},W.createElement(W.Fragment,null))}))},renderViewer:function(B){var P=B.slot;w.forEach(function(I){I.renderViewer&&(P=I.renderViewer(T(T({},B),{slot:P})))});var O=P.subSlot&&P.subSlot.attrs?{className:P.subSlot.attrs.className,"data-testid":P.subSlot.attrs["data-testid"],ref:P.subSlot.attrs.ref,style:P.subSlot.attrs.style}:{};return P.children=W.createElement("div",{className:"rpv-default-layout__container"},W.createElement("div",{"data-testid":"default-layout__main",className:H.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":B.themeContext.direction===H.TextDirection.RightToLeft})},W.createElement(n,{attachmentTabContent:W.createElement(L,null),bookmarkTabContent:W.createElement(x,null),store:t,thumbnailTabContent:W.createElement(g,null),tabs:Q}),W.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},W.createElement("div",{className:"rpv-default-layout__toolbar"},a&&a.renderToolbar?a.renderToolbar(z):W.createElement(z,null)),W.createElement("div",T({},O),P.subSlot.children))),P.children),P.subSlot.attrs={},P.subSlot.children=W.createElement(W.Fragment,null),P},uninstall:function(B){w.forEach(function(P){P.uninstall&&P.uninstall(B)})},onDocumentLoad:function(B){w.forEach(function(P){P.onDocumentLoad&&P.onDocumentLoad(B)}),a&&a.setInitialTab&&a.setInitialTab(B.doc).then(function(P){t.update("currentTab",P),t.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(B){w.forEach(function(P){P.onAnnotationLayerRender&&P.onAnnotationLayerRender(B)})},onTextLayerRender:function(B){w.forEach(function(P){P.onTextLayerRender&&P.onTextLayerRender(B)})},onViewerStateChange:function(B){var P=B;return w.forEach(function(O){O.onViewerStateChange&&(P=O.onViewerStateChange(P))}),P}}},r=function(a){return new Promise(function(t,e){a.getPageMode().then(function(u){if(u)switch(u){case H.PageMode.Attachments:t(2);break;case H.PageMode.Bookmarks:t(1);break;case H.PageMode.Thumbnails:t(0);break;default:t(-1)}else t(-1)})})}},10492:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(72939)},17062:function(we,c,te){"use strict";var r=te(54141);function H(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(u){if(u!=="default"){var p=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(e,u,p.get?p:{enumerable:!0,get:function(){return t[u]}})}}),e.default=t,Object.freeze(e)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),i.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),i.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),i.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),i.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},d=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M0.5 12L23.5 12"}),i.createElement("path",{d:"M11.5 1L11.5 23"}),i.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),i.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),i.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),i.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},q=function(){return q=Object.assign||function(t){for(var e,u=1,p=arguments.length;u<p;u++)for(var C in e=arguments[u])Object.prototype.hasOwnProperty.call(e,C)&&(t[C]=e[C]);return t},q.apply(this,arguments)},m={left:0,top:8},U=function(t){var e=t.enableShortcuts,u=t.onClick,p=i.useContext(r.LocalizationContext).l10n,C=p&&p.fullScreen?p.fullScreen.enterFullScreen:"Full screen",L=e?r.isMac()?"Meta+Ctrl+F":"F11":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:L,ariaLabel:C,isDisabled:!r.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:u},i.createElement(d,null)),content:function(){return C},offset:m})},W={left:0,top:8},F=function(t){var e=t.onClick,u=i.useContext(r.LocalizationContext).l10n,p=u&&u.fullScreen?u.fullScreen.exitFullScreen:"Exit full screen";return i.createElement(r.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:p,testId:"full-screen__exit-button-with-tooltip",onClick:e},i.createElement(k,null)),content:function(){return p},offset:W})},T=function(t,e){var u=i.useState(e.get("fullScreenMode")),p=u[0],C=u[1],L=i.useCallback(function(x){C(x)},[]);return i.useEffect(function(){return e.subscribe("fullScreenMode",L),function(){e.unsubscribe("fullScreenMode",L)}},[]),{enterFullScreen:function(){var x=e.get("getPagesContainer");if(x){var g=t(x());e.get("enterFullScreenMode")(g)}},exitFullScreen:function(){e.get("exitFullScreenMode")()},isFullScreen:p===r.FullScreenMode.Entering||p===r.FullScreenMode.EnteredCompletely}},E=function(t){var e=t.children,u=t.enableShortcuts,p=t.getFullScreenTarget,C=t.store,L=T(p,C),x=L.enterFullScreen,g=L.exitFullScreen,z=L.isFullScreen;return(e||function(Q){return z?i.createElement(F,{onClick:Q.onClick}):i.createElement(U,{enableShortcuts:u,onClick:Q.onClick})})({onClick:z?g:x})},f=function(t){var e=t.onClick,u=i.useContext(r.LocalizationContext).l10n,p=u&&u.fullScreen?u.fullScreen.enterFullScreen:"Full screen";return i.createElement(r.MenuItem,{icon:i.createElement(d,null),isDisabled:!r.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:e},p)},o=function(t){var e=t.onClick,u=i.useContext(r.LocalizationContext).l10n,p=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,C=u&&u.fullScreen?u.fullScreen.exitFullScreen:"Exit full screen";return i.createElement("div",{className:r.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!p,"rpv-full-screen__exit-button--rtl":p})},i.createElement(r.MinimalButton,{ariaLabel:C,testId:"full-screen__exit-button",onClick:e},i.createElement(k,null)))},s=function(t){var e=t.children,u=t.getFullScreenTarget,p=t.store,C=T(u,p),L=C.enterFullScreen,x=C.exitFullScreen,g=C.isFullScreen;return g&&(e||function(z){return i.createElement(o,{onClick:z.onClick})})({onClick:g?x:L})},n=function(t){var e=t.store,u=t.onEnterFullScreen,p=t.onExitFullScreen,C=i.useState(e.get("fullScreenMode")),L=C[0],x=C[1],g=i.useCallback(function(z){x(z)},[]);return i.useEffect(function(){switch(L){case r.FullScreenMode.EnteredCompletely:u(e.get("zoom"));break;case r.FullScreenMode.Exited:p(e.get("zoom"))}},[L]),i.useEffect(function(){return e.subscribe("fullScreenMode",g),function(){e.unsubscribe("fullScreenMode",g)}},[]),(L===r.FullScreenMode.Entering||L===r.FullScreenMode.Entered)&&i.createElement("div",{className:"rpv-full-screen__overlay"},i.createElement(r.Spinner,null))},a=function(t){var e=t.containerRef,u=t.getFullScreenTarget,p=t.store,C=T(u,p).enterFullScreen,L=function(x){if(!x.shiftKey&&!x.altKey&&(r.isMac()?x.metaKey&&x.ctrlKey&&x.key==="f":x.key==="F11")){var g=e.current;g&&document.activeElement&&g.contains(document.activeElement)&&(x.preventDefault(),C())}};return i.useEffect(function(){if(e.current)return document.addEventListener("keydown",L),function(){document.removeEventListener("keydown",L)}},[e.current]),i.createElement(i.Fragment,null)};c.ExitFullScreenIcon=k,c.FullScreenIcon=d,c.fullScreenPlugin=function(t){var e=(t==null?void 0:t.getFullScreenTarget)||function(x){return x},u=i.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},t)},[]),p=i.useMemo(function(){return r.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:r.FullScreenMode.Normal,zoom:function(){}})},[]),C=function(x){return i.createElement(E,q({},x,{enableShortcuts:u.enableShortcuts,getFullScreenTarget:e,store:p}))},L=function(){return i.createElement(s,{getFullScreenTarget:e,store:p},t==null?void 0:t.renderExitFullScreenButton)};return{install:function(x){p.update("enterFullScreenMode",x.enterFullScreenMode),p.update("exitFullScreenMode",x.exitFullScreenMode),p.update("getPagesContainer",x.getPagesContainer),p.update("zoom",x.zoom)},onViewerStateChange:function(x){return p.update("fullScreenMode",x.fullScreenMode),x},renderViewer:function(x){var g=x.slot;return g.subSlot&&(g.subSlot.children=i.createElement(i.Fragment,null,u.enableShortcuts&&i.createElement(a,{containerRef:x.containerRef,getFullScreenTarget:e,store:p}),i.createElement(n,{store:p,onEnterFullScreen:u.onEnterFullScreen,onExitFullScreen:u.onExitFullScreen}),i.createElement(L,null),g.subSlot.children)),g},EnterFullScreen:C,EnterFullScreenButton:function(){return i.createElement(C,null,function(x){return i.createElement(U,q({enableShortcuts:u.enableShortcuts},x))})},EnterFullScreenMenuItem:function(x){return i.createElement(C,null,function(g){return i.createElement(f,{onClick:function(){g.onClick(),x.onClick()}})})}}}},74948:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(17062)},76784:function(we,c,te){"use strict";var r=te(54141);function H(f){var o=Object.create(null);return f&&Object.keys(f).forEach(function(s){if(s!=="default"){var n=Object.getOwnPropertyDescriptor(f,s);Object.defineProperty(o,s,n.get?n:{enumerable:!0,get:function(){return f[s]}})}}),o.default=f,Object.freeze(o)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),i.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},d=function(){return d=Object.assign||function(f){for(var o,s=1,n=arguments.length;s<n;s++)for(var a in o=arguments[s])Object.prototype.hasOwnProperty.call(o,a)&&(f[a]=o[a]);return f},d.apply(this,arguments)},q={left:0,top:8},m=function(f){var o=f.onClick,s=i.useContext(r.LocalizationContext).l10n,n=s&&s.download?s.download.download:"Download";return i.createElement(r.Tooltip,{ariaControlsSuffix:"get-file",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:n,testId:"get-file__download-button",onClick:o},i.createElement(k,null)),content:function(){return n},offset:q})},U=function(f,o){var s=document.createElement("a");s.style.display="none",s.href=f,s.setAttribute("download",o),document.body.appendChild(s),s.click(),document.body.removeChild(s)},W=function(f,o,s){var n=URL.createObjectURL(new Blob([f],{type:s}));U(n,o),n&&URL.revokeObjectURL(n)},F=function(f,o){f.getData().then(function(s){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?W(s,o,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?U("data:application/pdf;base64,".concat(function(n){return btoa(Array(n.length).fill("").map(function(a,t){return String.fromCharCode(n[t])}).join(""))}(s)),o):W(s,o,"application/pdf")})},T=function(f){var o=f.children,s=f.fileNameGenerator,n=f.store,a=i.useState(n.get("file")),t=a[0],e=a[1],u=i.useState(n.get("doc")),p=u[0],C=u[1],L=function(g){C(g)},x=function(g){e(g)};return i.useEffect(function(){return n.subscribe("doc",L),n.subscribe("file",x),function(){n.subscribe("doc",L),n.unsubscribe("file",x)}},[]),(o||function(g){return i.createElement(m,{onClick:g.onClick})})({onClick:function(){p&&t&&F(p,s(t))}})},E=function(f){var o=f.onClick,s=i.useContext(r.LocalizationContext).l10n,n=s&&s.download?s.download.download:"Download";return i.createElement(r.MenuItem,{icon:i.createElement(k,null),testId:"get-file__download-menu",onClick:o},n)};c.DownloadIcon=k,c.getFilePlugin=function(f){var o=i.useMemo(function(){return r.createStore({})},[]),s=function(a){return a.name?(t=a.name,(e=t.split("/").pop())?e.split("#")[0].split("?")[0]:t):"document.pdf";var t,e},n=function(a){return i.createElement(T,d({},a,{fileNameGenerator:f&&f.fileNameGenerator||s,store:o}))};return{onDocumentLoad:function(a){o.update("doc",a.doc),o.update("file",a.file)},Download:n,DownloadButton:function(){return i.createElement(n,null,function(a){return i.createElement(m,d({},a))})},DownloadMenuItem:function(a){return i.createElement(n,null,function(t){return i.createElement(E,{onClick:function(){t.onClick(),a.onClick()}})})}}}},48448:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(76784)},6111:function(we,c,te){"use strict";var r=te(54141);function H(E){var f=Object.create(null);return E&&Object.keys(E).forEach(function(o){if(o!=="default"){var s=Object.getOwnPropertyDescriptor(E,o);Object.defineProperty(f,o,s.get?s:{enumerable:!0,get:function(){return E[o]}})}}),f.default=E,Object.freeze(f)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),i.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},d=function(){return d=Object.assign||function(E){for(var f,o=1,s=arguments.length;o<s;o++)for(var n in f=arguments[o])Object.prototype.hasOwnProperty.call(f,n)&&(E[n]=f[n]);return E},d.apply(this,arguments)},q=function(E){var f=i.useRef(),o=function(){var n=f.current;n&&(n.click(),E.get("triggerOpenFile")&&E.update("triggerOpenFile",!1))},s=function(n){n&&o()};return i.useEffect(function(){return E.subscribe("triggerOpenFile",s),function(){E.unsubscribe("triggerOpenFile",s)}},[]),{inputRef:f,openFile:o}},m={left:0,top:8},U=function(E){var f=E.enableShortcuts,o=E.store,s=E.onClick,n=i.useContext(r.LocalizationContext).l10n,a=n&&n.open?n.open.openFile:"Open file",t=q(o),e=t.inputRef,u=t.openFile,p=f?r.isMac()?"Meta+O":"Ctrl+O":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"open",position:r.Position.BottomCenter,target:i.createElement("div",{className:"rpv-open__input-wrapper"},i.createElement("input",{accept:".pdf",ref:e,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:s}),i.createElement(r.MinimalButton,{ariaKeyShortcuts:p,ariaLabel:a,testId:"open__button",onClick:u},i.createElement(k,null))),content:function(){return a},offset:m})},W=function(E){var f=E.children,o=E.enableShortcuts,s=E.store;return(f||function(n){return i.createElement(U,{enableShortcuts:o,store:s,onClick:n.onClick})})({onClick:function(n){var a=n.target.files;if(a&&a.length){var t=s.get("openFile");t&&t(a[0])}}})},F=function(E){var f=E.store,o=E.onClick,s=i.useContext(r.LocalizationContext).l10n,n=s&&s.open?s.open.openFile:"Open file",a=q(f),t=a.inputRef,e=a.openFile;return i.createElement(r.MenuItem,{icon:i.createElement(k,null),testId:"open__menu",onClick:e},i.createElement("div",{className:"rpv-open__input-wrapper"},i.createElement("input",{accept:".pdf",ref:t,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:o}),n))},T=function(E){var f=E.containerRef,o=E.store,s=function(n){if(!n.shiftKey&&!n.altKey&&n.key==="o"&&(r.isMac()?n.metaKey:n.ctrlKey)){var a=f.current;a&&document.activeElement&&a.contains(document.activeElement)&&(n.preventDefault(),o.update("triggerOpenFile",!0))}};return i.useEffect(function(){if(f.current)return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}},[f.current]),i.createElement(i.Fragment,null)};c.OpenFileIcon=k,c.openPlugin=function(E){var f=i.useMemo(function(){return Object.assign({},{enableShortcuts:!0},E)},[]),o=i.useMemo(function(){return r.createStore({})},[]),s=function(n){return i.createElement(W,d({enableShortcuts:f.enableShortcuts},n,{store:o}))};return{install:function(n){o.update("openFile",n.openFile)},renderViewer:function(n){var a=n.slot,t={children:i.createElement(i.Fragment,null,f.enableShortcuts&&i.createElement(T,{containerRef:n.containerRef,store:o}),a.children)};return d(d({},a),t)},Open:s,OpenButton:function(){return i.createElement(s,null)},OpenMenuItem:function(){return i.createElement(s,null,function(n){return i.createElement(F,{store:o,onClick:n.onClick})})}}}},50007:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(6111)},20229:function(we,c,te){"use strict";var r=te(54141);function H(I){var $=Object.create(null);return I&&Object.keys(I).forEach(function(K){if(K!=="default"){var M=Object.getOwnPropertyDescriptor(I,K);Object.defineProperty($,K,M.get?M:{enumerable:!0,get:function(){return I[K]}})}}),$.default=I,Object.freeze($)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},d=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},q=function(){return q=Object.assign||function(I){for(var $,K=1,M=arguments.length;K<M;K++)for(var b in $=arguments[K])Object.prototype.hasOwnProperty.call($,b)&&(I[b]=$[b]);return I},q.apply(this,arguments)},m=function(I){var $=i.useState(I.get("currentPage")||0),K=$[0],M=$[1],b=function(_){M(_)};return r.useIsomorphicLayoutEffect(function(){return I.subscribe("currentPage",b),function(){I.unsubscribe("currentPage",b)}},[]),{currentPage:K}},U=function(I){var $=i.useState(I.get("numberOfPages")||0),K=$[0],M=$[1],b=function(_){M(_)};return i.useEffect(function(){return I.subscribe("numberOfPages",b),function(){I.unsubscribe("numberOfPages",b)}},[]),{numberOfPages:K}},W=function(I){var $=I.store,K=i.useContext(r.LocalizationContext).l10n,M=i.useState("1"),b=M[0],_=M[1],R=m($).currentPage,D=U($).numberOfPages;i.useEffect(function(){return _("".concat(R+1))},[R]);var V=function(ee){var fe=$.get("jumpToPage");fe&&fe(ee)},Y=K&&K.pageNavigation?K.pageNavigation.enterPageNumber:"Enter a page number";return i.createElement("span",{className:"rpv-page-navigation__current-page-input"},i.createElement(r.TextBox,{ariaLabel:Y,testId:"page-navigation__current-page-input",type:"text",value:b,onChange:_,onKeyDown:function(ee){switch(ee.key){case"ArrowUp":(pe=R-1)>=0&&(_("".concat(pe+1)),V(pe));break;case"ArrowDown":(de=R+1)<D&&(_("".concat(de+1)),V(de));break;case"Enter":fe=parseInt(b,10),b===""||fe<1||fe>D?_("".concat(R+1)):V(fe-1)}var fe,de,pe}}))},F=function(I){var $=I.children,K=I.doc,M=r.useIsMounted(),b=i.useState({loading:!0,labels:[]}),_=b[0],R=b[1];return i.useEffect(function(){K.getPageLabels().then(function(D){M.current&&R({loading:!1,labels:D||[]})})},[K.loadingTask.docId]),_.loading?i.createElement(i.Fragment,null):$(_.labels)},T=function(I){var $=I.children,K=I.store,M=function(D){var V=i.useState(D.get("doc")),Y=V[0],ee=V[1],fe=function(de){ee(de)};return i.useEffect(function(){return D.subscribe("doc",fe),function(){D.unsubscribe("doc",fe)}},[]),Y}(K),b=m(K).currentPage,_=U(K).numberOfPages,R=$||function(D){return i.createElement(i.Fragment,null,D.currentPage+1)};return M?i.createElement(F,{doc:M},function(D){var V=D.length===_&&_>0?D[b]:"";return R({currentPage:b,numberOfPages:_,pageLabel:V})}):i.createElement(i.Fragment,null)},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f={left:0,top:8},o=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToFirstPage:"First page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:b,isDisabled:$,testId:"page-navigation__first-button",onClick:K},i.createElement(E,null)),content:function(){return b},offset:f})},s=function(I){var $=I.children,K=I.store;return($||function(M){return i.createElement(o,{isDisabled:M.isDisabled,onClick:M.onClick})})({isDisabled:m(K).currentPage===0,onClick:function(){var M=K.get("jumpToPage");M&&M(0)}})},n=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToFirstPage:"First page";return i.createElement(r.MenuItem,{icon:i.createElement(E,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:K},b)},a={left:0,top:8},t=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToLastPage:"Last page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:b,isDisabled:$,testId:"page-navigation__last-button",onClick:K},i.createElement(k,null)),content:function(){return b},offset:a})},e=function(I){var $=I.children,K=I.store,M=m(K).currentPage,b=U(K).numberOfPages;return($||function(_){return i.createElement(t,{isDisabled:_.isDisabled,onClick:_.onClick})})({isDisabled:M+1>=b,onClick:function(){var _=K.get("jumpToPage");_&&_(b-1)}})},u=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToLastPage:"Last page";return i.createElement(r.MenuItem,{icon:i.createElement(k,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:K},b)},p={left:0,top:8},C=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToNextPage:"Next page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:b,isDisabled:$,testId:"page-navigation__next-button",onClick:K},i.createElement(d,null)),content:function(){return b},offset:p})},L=function(I){var $=I.children,K=I.store;return($||function(M){return i.createElement(C,{onClick:M.onClick,isDisabled:M.isDisabled})})({isDisabled:m(K).currentPage+1>=U(K).numberOfPages,onClick:function(){var M=K.get("jumpToNextPage");M&&M()}})},x=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToNextPage:"Next page";return i.createElement(r.MenuItem,{icon:i.createElement(d,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:K},b)},g=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},z={left:0,top:8},Q=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToPreviousPage:"Previous page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:b,isDisabled:$,testId:"page-navigation__previous-button",onClick:K},i.createElement(g,null)),content:function(){return b},offset:z})},w=function(I){var $=I.store;return(I.children||function(K){return i.createElement(Q,{isDisabled:K.isDisabled,onClick:K.onClick})})({isDisabled:m($).currentPage<=0,onClick:function(){var K=$.get("jumpToPreviousPage");K&&K()}})},B=function(I){var $=I.isDisabled,K=I.onClick,M=i.useContext(r.LocalizationContext).l10n,b=M&&M.pageNavigation?M.pageNavigation.goToPreviousPage:"Previous page";return i.createElement(r.MenuItem,{icon:i.createElement(g,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:K},b)},P=function(I){var $=I.children,K=I.store,M=U(K).numberOfPages;return $?$({numberOfPages:M}):i.createElement(i.Fragment,null,M)},O=function(I){var $=I.containerRef,K=I.numPages,M=I.store,b=m(M).currentPage,_=i.useRef(b);_.current=b;var R=i.useRef(!1),D=function(){R.current=!0},V=function(){R.current=!1},Y=function(ee){var fe=$.current,de=R.current||document.activeElement&&fe.contains(document.activeElement);if(fe&&de){var pe,Ee,ve=ee.altKey&&ee.key==="ArrowDown"||!ee.shiftKey&&!ee.altKey&&ee.key==="PageDown",S=ee.altKey&&ee.key==="ArrowUp"||!ee.shiftKey&&!ee.altKey&&ee.key==="PageUp";if(ve)return ee.preventDefault(),pe=M.get("jumpToPage"),Ee=_.current+1,void(pe&&Ee<K&&pe(Ee));if(S)return ee.preventDefault(),void function(){var N=M.get("jumpToPage"),X=_.current-1;N&&X>=0&&N(X)}();if(r.isMac()?ee.metaKey&&!ee.ctrlKey:ee.altKey)switch(ee.key){case"ArrowLeft":ee.preventDefault(),function(){var N=M.get("jumpToPreviousDestination");N&&N()}();break;case"ArrowRight":ee.preventDefault(),function(){var N=M.get("jumpToNextDestination");N&&N()}()}}};return i.useEffect(function(){var ee=$.current;if(ee)return document.addEventListener("keydown",Y),ee.addEventListener("mouseenter",D),ee.addEventListener("mouseleave",V),function(){document.removeEventListener("keydown",Y),ee.removeEventListener("mouseenter",D),ee.removeEventListener("mouseleave",V)}},[$.current]),i.createElement(i.Fragment,null)};c.DownArrowIcon=k,c.NextIcon=d,c.PreviousIcon=g,c.UpArrowIcon=E,c.pageNavigationPlugin=function(I){var $=i.useMemo(function(){return Object.assign({},{enableShortcuts:!0},I)},[]),K=i.useMemo(function(){return r.createStore()},[]),M=function(D){return i.createElement(s,q({},D,{store:K}))},b=function(D){return i.createElement(e,q({},D,{store:K}))},_=function(D){return i.createElement(L,q({},D,{store:K}))},R=function(D){return i.createElement(w,q({},D,{store:K}))};return{install:function(D){K.update("jumpToDestination",D.jumpToDestination),K.update("jumpToNextDestination",D.jumpToNextDestination),K.update("jumpToNextPage",D.jumpToNextPage),K.update("jumpToPage",D.jumpToPage),K.update("jumpToPreviousDestination",D.jumpToPreviousDestination),K.update("jumpToPreviousPage",D.jumpToPreviousPage)},renderViewer:function(D){var V=D.slot;if(!$.enableShortcuts)return V;var Y={children:i.createElement(i.Fragment,null,i.createElement(O,{containerRef:D.containerRef,numPages:D.doc.numPages,store:K}),V.children)};return q(q({},V),Y)},onDocumentLoad:function(D){K.update("doc",D.doc),K.update("numberOfPages",D.doc.numPages)},onViewerStateChange:function(D){return K.update("currentPage",D.pageIndex),D},jumpToNextPage:function(){var D=K.get("jumpToNextPage");D&&D()},jumpToPage:function(D){var V=K.get("jumpToPage");V&&V(D)},jumpToPreviousPage:function(){var D=K.get("jumpToPreviousPage");D&&D()},CurrentPageInput:function(){return i.createElement(W,{store:K})},CurrentPageLabel:function(D){return i.createElement(T,q({},D,{store:K}))},GoToFirstPage:M,GoToFirstPageButton:function(){return i.createElement(M,null,function(D){return i.createElement(o,q({},D))})},GoToFirstPageMenuItem:function(D){return i.createElement(M,null,function(V){return i.createElement(n,{isDisabled:V.isDisabled,onClick:function(){V.onClick(),D.onClick()}})})},GoToLastPage:b,GoToLastPageButton:function(){return i.createElement(b,null,function(D){return i.createElement(t,q({},D))})},GoToLastPageMenuItem:function(D){return i.createElement(b,null,function(V){return i.createElement(u,{isDisabled:V.isDisabled,onClick:function(){V.onClick(),D.onClick()}})})},GoToNextPage:_,GoToNextPageButton:function(){return i.createElement(_,null,function(D){return i.createElement(C,q({},D))})},GoToNextPageMenuItem:function(D){return i.createElement(_,null,function(V){return i.createElement(x,{isDisabled:V.isDisabled,onClick:function(){V.onClick(),D.onClick()}})})},GoToPreviousPage:R,GoToPreviousPageButton:function(){return i.createElement(R,null,function(D){return i.createElement(Q,q({},D))})},GoToPreviousPageMenuItem:function(D){return i.createElement(R,null,function(V){return i.createElement(B,{isDisabled:V.isDisabled,onClick:function(){V.onClick(),D.onClick()}})})},NumberOfPages:function(D){return i.createElement(P,q({},D,{store:K}))}}}},13572:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(20229)},17302:function(we,c,te){"use strict";var r=te(34155),H=te(54141),i=te(67294),k=te(73935);function d(p){var C=Object.create(null);return p&&Object.keys(p).forEach(function(L){if(L!=="default"){var x=Object.getOwnPropertyDescriptor(p,L);Object.defineProperty(C,L,x.get?x:{enumerable:!0,get:function(){return p[L]}})}}),C.default=p,Object.freeze(C)}var q,m=d(i),U=function(){return m.createElement(H.Icon,{size:16},m.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},W=function(){return W=Object.assign||function(p){for(var C,L=1,x=arguments.length;L<x;L++)for(var g in C=arguments[L])Object.prototype.hasOwnProperty.call(C,g)&&(p[g]=C[g]);return p},W.apply(this,arguments)},F={left:0,top:8},T=function(p){var C=p.enableShortcuts,L=p.onClick,x=m.useContext(H.LocalizationContext).l10n,g=x&&x.print?x.print.print:"Print",z=C?H.isMac()?"Meta+P":"Ctrl+P":"";return m.createElement(H.Tooltip,{ariaControlsSuffix:"print",position:H.Position.BottomCenter,target:m.createElement(H.MinimalButton,{ariaKeyShortcuts:z,ariaLabel:g,testId:"print__button",onClick:L},m.createElement(U,null)),content:function(){return g},offset:F})};(function(p){p.CheckingPermission="CheckingPermission",p.Inactive="Inactive",p.Preparing="Preparing",p.Cancelled="Cancelled",p.Ready="Ready"})(q||(q={}));var E=function(p){var C=p.children,L=p.enableShortcuts,x=p.store;return(C||T)({enableShortcuts:L,onClick:function(){x.update("printStatus",q.CheckingPermission)}})},f=function(p){var C=p.doc,L=p.store,x=m.useContext(H.LocalizationContext).l10n,g=m.useState(!0),z=g[0],Q=g[1];return m.useEffect(function(){C.getPermissions().then(function(w){w===null||w.includes(4)||w.includes(2048)?L.update("printStatus",q.Preparing):Q(!1)})},[]),z?m.createElement(m.Fragment,null):m.createElement(H.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(w){return m.createElement(m.Fragment,null,m.createElement("div",{className:"rpv-print__permission-body"},x&&x.print?x.print.disallowPrint:"The document does not allow to print"),m.createElement("div",{className:"rpv-print__permission-footer"},m.createElement(H.Button,{onClick:function(){w(),L.update("printStatus",q.Cancelled)}},x&&x.print?x.print.close:"Close")))},isOpened:!0})},o=function(p){var C=p.numLoadedPages,L=p.numPages,x=p.onCancel,g=m.useContext(H.LocalizationContext).l10n,z=m.useContext(H.ThemeContext).direction===H.TextDirection.RightToLeft,Q=Math.floor(100*C/L);return m.createElement("div",{className:"rpv-print__progress"},m.createElement("div",{className:H.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":z})},m.createElement("div",{className:"rpv-print__progress-message"},g&&g.print?g.print.preparingDocument:"Preparing document ..."),m.createElement("div",{className:"rpv-print__progress-bar"},m.createElement(H.ProgressBar,{progress:Q})),m.createElement(H.Button,{onClick:x},g&&g.print?g.print.cancel:"Cancel")))},s=function(p){var C=p.canvas,L=p.page,x=p.pageHeight,g=p.pageIndex,z=p.pageWidth,Q=p.rotation,w=p.onLoad,B=H.useIsMounted(),P=m.useRef(),O=m.useState(""),I=O[0],$=O[1],K=m.useMemo(function(){return typeof r!="undefined"&&{NODE_ENV:"production"}.JEST_WORKER_ID!==void 0},[]);return m.useEffect(function(){var M=P.current;M&&M.cancel();var b=150/72;C.height=Math.floor(x*b),C.width=Math.floor(z*b);var _=C.getContext("2d");_.save(),_.fillStyle="rgb(255, 255, 255)",_.fillRect(0,0,C.width,C.height),_.restore();var R=L.getViewport({rotation:Q,scale:1});P.current=L.render({canvasContext:_,intent:"print",transform:[b,0,0,b,0,0],viewport:R}),P.current.promise.then(function(){"toBlob"in C&&"createObjectURL"in URL?C.toBlob(function(D){B.current&&$(URL.createObjectURL(D)),K&&w()}):(B.current&&$(C.toDataURL()),K&&w())},function(){})},[]),I&&m.createElement("div",{className:"rpv-print__page"},m.createElement("img",{"data-testid":"print__thumbnail-".concat(g),src:I,onLoad:function(){K||w()}}))},n=function(p){var C=p.canvas,L=p.doc,x=p.pageIndex,g=p.pageRotation,z=p.pageSize,Q=p.rotation,w=p.shouldRender,B=p.onLoad,P=H.useIsMounted(),O=m.useState(null),I=O[0],$=O[1],K=Math.abs(Q+g)%180==0;m.useEffect(function(){w&&H.getPage(L,x).then(function(b){P.current&&$(b)})},[w]);var M=(z.rotation+Q+g)%360;return I&&m.createElement(s,{canvas:C,page:I,pageHeight:K?z.pageHeight:z.pageWidth,pageIndex:x,pageWidth:K?z.pageWidth:z.pageHeight,rotation:M,onLoad:B})},a=function(p){var C=p.doc,L=p.numLoadedPages,x=p.pagesRotation,g=p.pageSizes,z=p.printPages,Q=p.printStatus,w=p.rotation,B=p.onCancel,P=p.onLoad,O=m.useMemo(function(){return document.createElement("canvas")},[]),I=m.useMemo(function(){var M=document.querySelector(".rpv-print__zone");if(M)return M;var b=document.createElement("div");return b.classList.add("rpv-print__zone"),b.setAttribute("data-testid","print__zone"),document.body.appendChild(b),b},[]);m.useEffect(function(){Q===q.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var M=function(){if(Q===q.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var b=document.querySelectorAll(".rpv-print__zone");b&&b.forEach(function(_){_.parentElement.removeChild(_)}),O.height=0,O.width=0,document.removeEventListener("mousemove",M),B()}};return document.addEventListener("mousemove",M),function(){return document.removeEventListener("mousemove",M)}},[Q]);var $=g[0].pageHeight,K=g[0].pageWidth;return k.createPortal(m.createElement(m.Fragment,null,z.map(function(M,b){return m.createElement(n,{key:M,canvas:O,doc:C,pageIndex:M,pageRotation:x.has(M)?x.get(M):0,pageSize:g[M],rotation:w,shouldRender:b===L,onLoad:P})}),m.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(K,"pt ").concat($,"pt }")}})),I)},t=function(p){var C=p.doc,L=p.pagesRotation,x=p.pageSizes,g=p.renderProgressBar,z=p.rotation,Q=p.setPages,w=p.store,B=m.useState(q.Inactive),P=B[0],O=B[1],I=m.useState(0),$=I[0],K=I[1],M=m.useMemo(function(){var D=C.numPages;return Q(C).filter(function(V){return V>=0&&V<D})},[C,Q]),b=M.length,_=function(){K(0),O(q.Inactive)},R=function(D){return O(D)};return m.useEffect(function(){return w.subscribe("printStatus",R),function(){w.unsubscribe("printStatus",R)}},[]),m.createElement(m.Fragment,null,P===q.CheckingPermission&&m.createElement(f,{doc:C,store:w}),P===q.Preparing&&(g?g($,b,_):m.createElement(o,{numLoadedPages:$,numPages:b,onCancel:_})),(P===q.Preparing||P===q.Ready)&&$<=b&&m.createElement(a,{doc:C,numLoadedPages:$,pagesRotation:L,pageSizes:x,printPages:M,printStatus:P,rotation:z,onCancel:_,onLoad:function(){var D=$+1;D<=b&&(K(D),D===b&&O(q.Ready))}}))},e=function(p){var C=p.onClick,L=m.useContext(H.LocalizationContext).l10n,x=L&&L.print?L.print.print:"Print";return m.createElement(H.MenuItem,{icon:m.createElement(U,null),testId:"print__menu",onClick:C},x)},u=function(p){var C=p.containerRef,L=p.store,x=function(g){if(!g.shiftKey&&!g.altKey&&g.key==="p"&&(H.isMac()?g.metaKey:g.ctrlKey)){var z=C.current;z&&document.activeElement&&z.contains(document.activeElement)&&(g.preventDefault(),L.update("printStatus",q.Preparing))}};return m.useEffect(function(){if(C.current)return document.addEventListener("keydown",x),function(){document.removeEventListener("keydown",x)}},[C.current]),m.createElement(m.Fragment,null)};c.PrintIcon=U,c.getAllPagesNumbers=function(p){return Array(p.numPages).fill(0).map(function(C,L){return L})},c.getCustomPagesNumbers=function(p){return function(C){var L,x=[];return p.replace(/\s+/g,"").split(",").forEach(function(g){var z,Q,w=g.split("-").map(function(B){return parseInt(B,10)}).filter(function(B){return Number.isInteger(B)});w.length===1?x.push(w[0]-1):w.length===2&&x.push.apply(x,(z=w[0]-1,Q=w[1]-1,Array(Q-z+1).fill(0).map(function(B,P){return z+P})))}),(L=x,L.filter(function(g){return L.indexOf(g)===L.lastIndexOf(g)})).filter(function(g){return g>=0&&g<C.numPages})}},c.getEvenPagesNumbers=function(p){return Array(p.numPages).fill(0).map(function(C,L){return L}).filter(function(C){return(C+1)%2==0})},c.getOddPagesNumbers=function(p){return Array(p.numPages).fill(0).map(function(C,L){return L}).filter(function(C){return(C+1)%2==1})},c.printPlugin=function(p){var C=m.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(g){return Array(g.numPages).fill(0).map(function(z,Q){return Q})}},p)},[]),L=m.useMemo(function(){return H.createStore({printStatus:q.Inactive})},[]),x=function(g){return m.createElement(E,W({enableShortcuts:C.enableShortcuts},g,{store:L}))};return{print:function(){L.update("printStatus",q.CheckingPermission)},renderViewer:function(g){var z=g.slot,Q={children:m.createElement(m.Fragment,null,C.enableShortcuts&&m.createElement(u,{containerRef:g.containerRef,store:L}),m.createElement(t,{doc:g.doc,pagesRotation:g.pagesRotation,pageSizes:g.pageSizes,renderProgressBar:p==null?void 0:p.renderProgressBar,rotation:g.rotation,setPages:C.setPages,store:L}),z.children)};return W(W({},z),Q)},Print:x,PrintButton:function(){return m.createElement(x,null,function(g){return m.createElement(T,W({},g))})},PrintMenuItem:function(g){return m.createElement(x,null,function(z){return m.createElement(e,{onClick:function(){z.onClick(),g.onClick()}})})},setPages:function(g){C.setPages=g}}}},91999:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(17302)},88700:function(we,c,te){"use strict";var r=te(54141);function H(s){var n=Object.create(null);return s&&Object.keys(s).forEach(function(a){if(a!=="default"){var t=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,t.get?t:{enumerable:!0,get:function(){return s[a]}})}}),n.default=s,Object.freeze(n)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},d=function(){return d=Object.assign||function(s){for(var n,a=1,t=arguments.length;a<t;a++)for(var e in n=arguments[a])Object.prototype.hasOwnProperty.call(n,e)&&(s[e]=n[e]);return s},d.apply(this,arguments)},q=function(s){var n=s.doc,a=s.render,t=i.useState(),e=t[0],u=t[1];return i.useEffect(function(){n.getMetadata().then(function(p){return Promise.resolve(p)}).then(function(p){return n.getDownloadInfo().then(function(C){return Promise.resolve({fileName:p.contentDispositionFilename||"",info:p.info,length:C.length})})}).then(function(p){u(p)})},[]),e?a(e):i.createElement("div",{className:"rpv-properties__loader"},i.createElement(r.Spinner,null))},m=function(s){var n=s.label,a=s.value,t=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft;return i.createElement("dl",{className:r.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":t})},i.createElement("dt",{className:"rpv-properties__item-label"},n,":"),i.createElement("dd",{className:"rpv-properties__item-value"},a||"-"))},U=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),W=function(s,n,a,t){var e=parseInt(s,10);return e>=n&&e<=a?e:t},F=function(s){var n=s.doc,a=s.fileName,t=s.onToggle,e=i.useContext(r.LocalizationContext).l10n,u=function(p){var C=function(L){var x=U.exec(L);if(!x)return null;var g=parseInt(x[1],10),z=W(x[2],1,12,1)-1,Q=W(x[3],1,31,1),w=W(x[4],0,23,0),B=W(x[5],0,59,0),P=W(x[6],0,59,0),O=x[7]||"Z",I=W(x[8],0,23,0),$=W(x[9],0,59,0);switch(O){case"-":w+=I,B+=$;break;case"+":w-=I,B-=$}return new Date(Date.UTC(g,z,Q,w,B,P))}(p);return C?"".concat(C.toLocaleDateString(),", ").concat(C.toLocaleTimeString()):""};return i.createElement("div",{className:"rpv-properties__modal"},i.createElement(q,{doc:n,render:function(p){return i.createElement(i.Fragment,null,i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(m,{label:e&&e.properties?e.properties.fileName:"File name",value:p.fileName||(x=a,g=x.split("/").pop(),g?g.split("#")[0].split("?")[0]:x)}),i.createElement(m,{label:e&&e.properties?e.properties.fileSize:"File size",value:(C=p.length,L=Math.floor(Math.log(C)/Math.log(1024)),"".concat((C/Math.pow(1024,L)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][L]))})),i.createElement(r.Separator,null),i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(m,{label:e&&e.properties?e.properties.title:"Title",value:p.info.Title}),i.createElement(m,{label:e&&e.properties?e.properties.author:"Author",value:p.info.Author}),i.createElement(m,{label:e&&e.properties?e.properties.subject:"Subject",value:p.info.Subject}),i.createElement(m,{label:e&&e.properties?e.properties.keywords:"Keywords",value:p.info.Keywords}),i.createElement(m,{label:e&&e.properties?e.properties.creator:"Creator",value:p.info.Creator}),i.createElement(m,{label:e&&e.properties?e.properties.creationDate:"Creation date",value:u(p.info.CreationDate)}),i.createElement(m,{label:e&&e.properties?e.properties.modificationDate:"Modification date",value:u(p.info.ModDate)})),i.createElement(r.Separator,null),i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(m,{label:e&&e.properties?e.properties.pdfProducer:"PDF producer",value:p.info.Producer}),i.createElement(m,{label:e&&e.properties?e.properties.pdfVersion:"PDF version",value:p.info.PDFFormatVersion}),i.createElement(m,{label:e&&e.properties?e.properties.pageCount:"Page count",value:"".concat(n.numPages)})));var C,L,x,g}}),i.createElement("div",{className:"rpv-properties__modal-footer"},i.createElement(r.Button,{onClick:t},e&&e.properties?e.properties.close:"Close")))},T={left:0,top:8},E=function(s){var n=s.onClick,a=i.useContext(r.LocalizationContext).l10n,t=a&&a.properties?a.properties.showProperties:"Show properties";return i.createElement(r.Tooltip,{ariaControlsSuffix:"properties",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:t,testId:"properties__button",onClick:n},i.createElement(k,null)),content:function(){return t},offset:T})},f=function(s){var n=s.children,a=s.store,t=function(p){var C=i.useState(p.get("doc")),L=C[0],x=C[1],g=function(z){x(z)};return i.useEffect(function(){return p.subscribe("doc",g),function(){p.unsubscribe("doc",g)}},[]),{currentDoc:L}}(a).currentDoc,e=a.get("fileName")||"",u=n||function(p){return i.createElement(E,d({},p))};return t?i.createElement(r.Modal,{ariaControlsSuffix:"properties",target:function(p){return u({onClick:p})},content:function(p){return i.createElement(F,{doc:t,fileName:e,onToggle:p})},closeOnClickOutside:!0,closeOnEscape:!0}):i.createElement(i.Fragment,null)},o=function(s){var n=s.onClick,a=i.useContext(r.LocalizationContext).l10n,t=a&&a.properties?a.properties.showProperties:"Show properties";return i.createElement(r.MenuItem,{icon:i.createElement(k,null),testId:"properties__menu",onClick:n},t)};c.InfoIcon=k,c.propertiesPlugin=function(){var s=i.useMemo(function(){return r.createStore({fileName:""})},[]),n=function(a){return i.createElement(f,d({},a,{store:s}))};return{onDocumentLoad:function(a){s.update("doc",a.doc)},onViewerStateChange:function(a){return s.update("fileName",a.file.name),a},ShowProperties:n,ShowPropertiesButton:function(){return i.createElement(f,{store:s})},ShowPropertiesMenuItem:function(a){return i.createElement(n,null,function(t){return i.createElement(o,d({},t))})}}}},12434:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(88700)},61779:function(we,c,te){"use strict";var r=te(54141);function H(E){var f=Object.create(null);return E&&Object.keys(E).forEach(function(o){if(o!=="default"){var s=Object.getOwnPropertyDescriptor(E,o);Object.defineProperty(f,o,s.get?s:{enumerable:!0,get:function(){return E[o]}})}}),f.default=E,Object.freeze(f)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},d=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},q=function(){return q=Object.assign||function(E){for(var f,o=1,s=arguments.length;o<s;o++)for(var n in f=arguments[o])Object.prototype.hasOwnProperty.call(f,n)&&(E[n]=f[n]);return E},q.apply(this,arguments)},m={left:0,top:8},U=function(E){var f=E.direction,o=E.onClick,s=i.useContext(r.LocalizationContext).l10n,n=s&&s.rotate?s.rotate.rotateBackward:"Rotate counterclockwise",a=s&&s.rotate?s.rotate.rotateForward:"Rotate clockwise",t=f===r.RotateDirection.Backward?n:a,e=f===r.RotateDirection.Backward?i.createElement(k,null):i.createElement(d,null);return i.createElement(r.Tooltip,{ariaControlsSuffix:"rotate",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:t,testId:f===r.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:o},e),content:function(){return t},offset:m})},W=function(E){var f=E.children,o=E.direction,s=E.store;return(f||function(n){return i.createElement(U,{direction:n.direction,onClick:n.onClick})})({direction:o,onClick:function(){var n=s.get("rotate");n&&n(o)}})},F=function(E){var f=E.direction,o=E.onClick,s=i.useContext(r.LocalizationContext).l10n,n=s&&s.rotate?s.rotate.rotateBackward:"Rotate counterclockwise",a=s&&s.rotate?s.rotate.rotateForward:"Rotate clockwise",t=f===r.RotateDirection.Backward?n:a,e=f===r.RotateDirection.Backward?i.createElement(k,null):i.createElement(d,null);return i.createElement(r.MenuItem,{icon:e,testId:f===r.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:o},t)},T=function(E){var f=E.children,o=E.store;return f({onRotatePage:function(s,n){var a=o.get("rotatePage");a&&a(s,n)}})};c.RotateBackwardIcon=k,c.RotateForwardIcon=d,c.rotatePlugin=function(){var E=i.useMemo(function(){return r.createStore()},[]),f=function(o){return i.createElement(W,q({},o,{store:E}))};return{install:function(o){E.update("rotate",o.rotate),E.update("rotatePage",o.rotatePage)},Rotate:f,RotateBackwardButton:function(){return i.createElement(f,{direction:r.RotateDirection.Backward},function(o){return i.createElement(U,q({},o))})},RotateBackwardMenuItem:function(o){return i.createElement(f,{direction:r.RotateDirection.Backward},function(s){return i.createElement(F,{direction:s.direction,onClick:function(){s.onClick(),o.onClick()}})})},RotateForwardButton:function(){return i.createElement(f,{direction:r.RotateDirection.Forward},function(o){return i.createElement(U,q({},o))})},RotateForwardMenuItem:function(o){return i.createElement(f,{direction:r.RotateDirection.Forward},function(s){return i.createElement(F,{direction:s.direction,onClick:function(){s.onClick(),o.onClick()}})})},RotatePage:function(o){return i.createElement(T,q({},o,{store:E}))}}}},77719:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(61779)},87774:function(we,c,te){"use strict";var r=te(54141);function H(g){var z=Object.create(null);return g&&Object.keys(g).forEach(function(Q){if(Q!=="default"){var w=Object.getOwnPropertyDescriptor(g,Q);Object.defineProperty(z,Q,w.get?w:{enumerable:!0,get:function(){return g[Q]}})}}),z.default=g,Object.freeze(z)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),i.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),i.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},d=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),i.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},q=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},m=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},U=function(){return U=Object.assign||function(g){for(var z,Q=1,w=arguments.length;Q<w;Q++)for(var B in z=arguments[Q])Object.prototype.hasOwnProperty.call(z,B)&&(g[B]=z[B]);return g},U.apply(this,arguments)},W=function(g,z){g.get("switchScrollMode")(z);var Q=g.get("viewMode");z!==r.ScrollMode.Horizontal&&z!==r.ScrollMode.Wrapped||Q===r.ViewMode.SinglePage||g.get("switchViewMode")(r.ViewMode.SinglePage)},F=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},T=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},E=function(g){var z=g.children,Q=g.mode,w=g.onClick,B=i.useContext(r.LocalizationContext).l10n,P="",O=i.createElement(F,null);switch(Q){case r.ScrollMode.Horizontal:P=B&&B.scrollMode?B.scrollMode.horizontalScrolling:"Horizontal scrolling",O=i.createElement(q,null);break;case r.ScrollMode.Page:P=B&&B.scrollMode?B.scrollMode.pageScrolling:"Page scrolling",O=i.createElement(m,null);break;case r.ScrollMode.Wrapped:P=B&&B.scrollMode?B.scrollMode.wrappedScrolling:"Wrapped scrolling",O=i.createElement(T,null);break;case r.ScrollMode.Vertical:default:P=B&&B.scrollMode?B.scrollMode.verticalScrolling:"Vertical scrolling",O=i.createElement(F,null)}return z({icon:O,label:P,onClick:w})},f={left:0,top:8},o=function(g){var z=g.isDisabled,Q=g.isSelected,w=g.mode,B=g.onClick,P="";switch(w){case r.ScrollMode.Horizontal:P="scroll-mode__horizontal-button";break;case r.ScrollMode.Page:P="scroll-mode__page-button";break;case r.ScrollMode.Wrapped:P="scroll-mode__wrapped-button";break;case r.ScrollMode.Vertical:default:P="scroll-mode__vertical-button"}return i.createElement(E,{mode:w,onClick:B},function(O){return i.createElement(r.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:O.label,isDisabled:z,isSelected:Q,testId:P,onClick:O.onClick},O.icon),content:function(){return O.label},offset:f})})},s=function(g){var z=i.useState(g.get("scrollMode")||r.ScrollMode.Vertical),Q=z[0],w=z[1],B=function(P){w(P)};return i.useEffect(function(){return g.subscribe("scrollMode",B),function(){g.unsubscribe("scrollMode",B)}},[]),{scrollMode:Q}},n=function(g){var z=i.useState(g.get("viewMode")||r.ViewMode.SinglePage),Q=z[0],w=z[1],B=function(P){w(P)};return i.useEffect(function(){return g.subscribe("viewMode",B),function(){g.unsubscribe("viewMode",B)}},[]),{viewMode:Q}},a=function(g){var z=g.children,Q=g.mode,w=g.store,B=n(w).viewMode,P=s(w).scrollMode===Q,O=(Q===r.ScrollMode.Horizontal||Q===r.ScrollMode.Wrapped)&&B!==r.ViewMode.SinglePage;return(z||function(I){return i.createElement(o,{isDisabled:O,isSelected:P,mode:I.mode,onClick:I.onClick})})({isDisabled:O,isSelected:P,mode:Q,onClick:function(){W(w,Q)}})},t=function(g){var z=g.isDisabled,Q=g.isSelected,w=g.mode,B=g.onClick,P="";switch(w){case r.ScrollMode.Horizontal:P="scroll-mode__horizontal-menu";break;case r.ScrollMode.Page:P="scroll-mode__page-menu";break;case r.ScrollMode.Wrapped:P="scroll-mode__wrapped-menu";break;case r.ScrollMode.Vertical:default:P="scroll-mode__vertical-menu"}return i.createElement(E,{mode:w,onClick:B},function(O){return i.createElement(r.MenuItem,{checked:Q,icon:O.icon,isDisabled:z,testId:P,onClick:O.onClick},O.label)})},e=function(g,z){g.get("switchViewMode")(z);var Q=g.get("scrollMode");Q!==r.ScrollMode.Horizontal&&Q!==r.ScrollMode.Wrapped||z===r.ViewMode.SinglePage||g.get("switchScrollMode")(r.ScrollMode.Vertical)},u=function(g){var z=g.children,Q=g.mode,w=g.onClick,B=i.useContext(r.LocalizationContext).l10n,P="",O=i.createElement(m,null);switch(Q){case r.ViewMode.DualPage:P=B&&B.scrollMode?B.scrollMode.dualPage:"Dual page",O=i.createElement(d,null);break;case r.ViewMode.DualPageWithCover:P=B&&B.scrollMode?B.scrollMode.dualPageCover:"Dual page with cover",O=i.createElement(k,null);break;case r.ViewMode.SinglePage:default:P=B&&B.scrollMode?B.scrollMode.singlePage:"Single page",O=i.createElement(m,null)}return z({icon:O,label:P,onClick:w})},p={left:0,top:8},C=function(g){var z=g.isDisabled,Q=g.isSelected,w=g.mode,B=g.onClick,P="";switch(w){case r.ViewMode.DualPage:P="view-mode__dual-button";break;case r.ViewMode.DualPageWithCover:P="view-mode__dual-cover-button";break;case r.ViewMode.SinglePage:default:P="view-mode__single-button"}return i.createElement(u,{mode:w,onClick:B},function(O){return i.createElement(r.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:O.label,isDisabled:z,isSelected:Q,testId:P,onClick:O.onClick},O.icon),content:function(){return O.label},offset:p})})},L=function(g){var z=g.children,Q=g.mode,w=g.store,B=n(w).viewMode,P=s(w).scrollMode,O=B===Q,I=(P===r.ScrollMode.Horizontal||P===r.ScrollMode.Wrapped)&&Q!==r.ViewMode.SinglePage;return(z||function($){return i.createElement(C,{isDisabled:I,isSelected:O,mode:$.mode,onClick:$.onClick})})({isDisabled:I,isSelected:O,mode:Q,onClick:function(){e(w,Q)}})},x=function(g){var z=g.isDisabled,Q=g.isSelected,w=g.mode,B=g.onClick,P="";switch(w){case r.ViewMode.DualPage:P="view-mode__dual-menu";break;case r.ViewMode.DualPageWithCover:P="view-mode__dual-cover-menu";break;case r.ViewMode.SinglePage:default:P="view-mode__single-menu"}return i.createElement(u,{mode:w,onClick:B},function(O){return i.createElement(r.MenuItem,{checked:Q,icon:O.icon,isDisabled:z,testId:P,onClick:O.onClick},O.label)})};c.DualPageCoverViewModeIcon=k,c.DualPageViewModeIcon=d,c.HorizontalScrollingIcon=q,c.PageScrollingIcon=m,c.VerticalScrollingIcon=F,c.WrappedScrollingIcon=T,c.scrollModePlugin=function(){var g=i.useMemo(function(){return r.createStore({scrollMode:r.ScrollMode.Vertical,viewMode:r.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),z=function(w){return i.createElement(a,U({},w,{store:g}))},Q=function(w){return i.createElement(L,U({},w,{store:g}))};return{install:function(w){g.update("switchScrollMode",w.switchScrollMode),g.update("switchViewMode",w.switchViewMode)},onViewerStateChange:function(w){return g.update("scrollMode",w.scrollMode),g.update("viewMode",w.viewMode),w},switchScrollMode:function(w){W(g,w)},switchViewMode:function(w){e(g,w)},SwitchScrollMode:z,SwitchScrollModeButton:function(w){return i.createElement(z,{mode:w.mode},function(B){return i.createElement(o,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick()}})})},SwitchScrollModeMenuItem:function(w){return i.createElement(z,{mode:w.mode},function(B){return i.createElement(t,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick(),w.onClick()}})})},SwitchViewMode:Q,SwitchViewModeButton:function(w){return i.createElement(Q,{mode:w.mode},function(B){return i.createElement(C,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick()}})})},SwitchViewModeMenuItem:function(w){return i.createElement(Q,{mode:w.mode},function(B){return i.createElement(x,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick(),w.onClick()}})})}}}},64:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(87774)},67255:function(we,c,te){"use strict";var r=te(54141);function H(w){var B=Object.create(null);return w&&Object.keys(w).forEach(function(P){if(P!=="default"){var O=Object.getOwnPropertyDescriptor(w,P);Object.defineProperty(B,P,O.get?O:{enumerable:!0,get:function(){return w[P]}})}}),B.default=w,Object.freeze(B)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},d=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},q=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},m=function(){return m=Object.assign||function(w){for(var B,P=1,O=arguments.length;P<O;P++)for(var I in B=arguments[P])Object.prototype.hasOwnProperty.call(B,I)&&(w[I]=B[I]);return w},m.apply(this,arguments)},U={keyword:"",regExp:new RegExp(" "),wholeWords:!1},W=function(w){return{left:"".concat(w.left,"%"),top:"".concat(w.top,"%"),height:"".concat(w.height,"%"),width:"".concat(w.width,"%")}},F=function(w){var B=w.index,P=w.area,O=w.onHighlightKeyword,I=i.useRef();return r.useIsomorphicLayoutEffect(function(){var $=I.current;O&&$&&O({highlightEle:$,keyword:P.keyword})},[]),i.createElement("div",{className:"rpv-search__highlight","data-index":B,ref:I,style:W(P),title:P.keywordStr.trim()})},T=function(w){var B=w.parentNode;B&&B.removeChild(w)},E=function(w){var B=w.parentNode;if(B){var P=document.createRange();P.selectNodeContents(w),function(O,I){T(O);var $=I.parentNode;$&&$.insertBefore(O,I),T(I)}(P.extractContents(),w),B.normalize()}},f=function(w,B){return w.top<B.top?-1:w.top>B.top?1:w.left<B.left?-1:w.left>B.left?1:0},o=function(w){var B=w.numPages,P=w.pageIndex,O=w.renderHighlights,I=w.store,$=w.onHighlightKeyword,K=i.useRef(),M=i.useCallback(function(re){return i.createElement(i.Fragment,null,re.highlightAreas.map(function(Se,Ce){return i.createElement(F,{index:Ce,key:Ce,area:Se,onHighlightKeyword:$})}))},[]),b=O||M,_=i.useState(I.get("matchPosition")),R=_[0],D=_[1],V=i.useState(I.get("keyword")||[U]),Y=V[0],ee=V[1],fe=i.useState({pageIndex:P,scale:1,status:r.LayerRenderStatus.PreRender}),de=fe[0],pe=fe[1],Ee=i.useRef(null),ve=i.useRef([]),S=i.useState([]),N=S[0],X=S[1],oe=function(){return!0},v=i.useCallback(function(){return I.get("targetPageFilter")||oe},[I.get("targetPageFilter")]),l=function(re){var Se=ve.current;if(Se.length===0)return[];var Ce=[],xe=[].slice.call(re.querySelectorAll(".rpv-core__text-layer-text")),He=Se.map(function(De){return De.char}).join("");return Y.forEach(function(De){var je=De.keyword;if(je.trim()){for(var ne,ae=De.regExp.flags.indexOf("g")===-1?new RegExp(De.regExp,"".concat(De.regExp.flags,"g")):De.regExp,le=[];(ne=ae.exec(He))!==null;)le.push({keyword:ae,startIndex:ne.index,endIndex:ae.lastIndex});le.map(function(Ae){return{keyword:Ae.keyword,indexes:Se.slice(Ae.startIndex,Ae.endIndex)}}).forEach(function(Ae){var Xe=Ae.indexes.reduce(function(ye,ke){return ye[ke.spanIndex]=(ye[ke.spanIndex]||[]).concat([ke]),ye},{});Object.values(Xe).forEach(function(ye){if(ye.length!==1||ye[0].char.trim()!==""){var ke=De.wholeWords?ye.slice(1,-1):ye,Oe=function(Be,ht,Ve,Ye,rt){var pt=document.createRange(),it=Ye.firstChild;if(!it||it.nodeType!==Node.TEXT_NODE)return null;var It=it.textContent.length,mt=rt[0].charIndexInSpan,At=rt.length===1?mt:rt[rt.length-1].charIndexInSpan;if(mt>It||At+1>It)return null;pt.setStart(it,mt),pt.setEnd(it,At+1);var Ht=document.createElement("span");pt.surroundContents(Ht);var Nt=Ht.getBoundingClientRect(),Pt=Ve.getBoundingClientRect(),Mt=Pt.height,Zt=Pt.width,an=100*(Nt.left-Pt.left)/Zt,ln=100*(Nt.top-Pt.top)/Mt,un=100*Nt.height/Mt,dn=100*Nt.width/Zt;return E(Ht),{keyword:ht,keywordStr:Be,numPages:B,pageIndex:P,left:an,top:ln,height:un,width:dn,pageHeight:Mt,pageWidth:Zt}}(je,Ae.keyword,re,xe[ke[0].spanIndex],ke);Oe&&Ce.push(Oe)}})})}}),Ce.sort(f)},h=function(re){re&&re.length>0&&ee(re)},A=function(re){return D(re)},Z=function(re){if(re.has(P)){var Se=re.get(P);Se&&pe({ele:Se.ele,pageIndex:P,scale:Se.scale,status:Se.status})}},J=function(){return Y.length===0||Y.length===1&&Y[0].keyword.trim()===""};return i.useEffect(function(){if(!J()&&de.status===r.LayerRenderStatus.DidRender&&!ve.current.length){var re=de.ele,Se=[].slice.call(re.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ce){return Ce.textContent}).reduce(function(Ce,xe,He){return Ce.concat(xe.split("").map(function(De,je){return{char:De,charIndexInSpan:je,spanIndex:He}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ve.current=Se}},[Y,de.status]),i.useEffect(function(){if(!J()&&de.ele&&de.status===r.LayerRenderStatus.DidRender&&v()({pageIndex:P,numPages:B})){var re=de.ele,Se=l(re);X(Se)}},[Y,R,de.status,ve.current]),i.useEffect(function(){J()&&de.ele&&de.status===r.LayerRenderStatus.DidRender&&X([])},[Y,de.status]),i.useEffect(function(){if(N.length!==0){var re=K.current;if(R.pageIndex===P&&re&&de.status===r.LayerRenderStatus.DidRender){var Se=re.querySelector('.rpv-search__highlight[data-index="'.concat(R.matchIndex,'"]'));if(Se){var Ce=function(je,ne){for(var ae=je.offsetTop,le=je.offsetLeft,Ae=je.parentElement;Ae&&Ae!==ne;)ae+=Ae.offsetTop,le+=Ae.offsetLeft,Ae=Ae.parentElement;return{left:le,top:ae}}(Se,re),xe=Ce.left,He=Ce.top,De=I.get("jumpToDestination");De&&(De({pageIndex:P,bottomOffset:(re.getBoundingClientRect().height-He)/de.scale,leftOffset:xe/de.scale,scaleTo:de.scale}),Ee.current&&Ee.current.classList.remove("rpv-search__highlight--current"),Ee.current=Se,Se.classList.add("rpv-search__highlight--current"))}}}},[N,R]),i.useEffect(function(){return I.subscribe("keyword",h),I.subscribe("matchPosition",A),I.subscribe("renderStatus",Z),function(){I.unsubscribe("keyword",h),I.unsubscribe("matchPosition",A),I.unsubscribe("renderStatus",Z)}},[]),i.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(P),ref:K},b({getCssProperties:W,highlightAreas:N}))},s=function(w){var B,P=w.wholeWords?" ".concat(w.keyword," "):w.keyword,O=w.matchCase?"g":"gi";return{keyword:w.keyword,regExp:new RegExp((B=P,B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),O),wholeWords:w.wholeWords||!1}},n=function(w,B,P){return w instanceof RegExp?{keyword:w.source,regExp:w,wholeWords:P||!1}:typeof w=="string"?w===""?U:s({keyword:w,matchCase:B||!1,wholeWords:P||!1}):(B!==void 0&&(w.matchCase=B),P!==void 0&&(w.wholeWords=P),s(w))},a=function(w){var B,P=w.get("initialKeyword"),O=i.useMemo(function(){if(P&&P.length===1){var A=n(P[0]);return{matchCase:A.regExp.flags.indexOf("i")===-1,wholeWords:A.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),I=function(A){var Z=i.useRef(A.get("doc")),J=function(re){Z.current=re};return i.useEffect(function(){return A.subscribe("doc",J),function(){A.unsubscribe("doc",J)}},[]),Z}(w),$=i.useState(P),K=$[0],M=$[1],b=i.useState([]),_=b[0],R=b[1],D=i.useState(0),V=D[0],Y=D[1],ee=i.useState(O.matchCase),fe=ee[0],de=ee[1],pe=i.useRef([]),Ee=i.useState(O.wholeWords),ve=Ee[0],S=Ee[1],N=function(){return!0},X=i.useCallback(function(){return w.get("targetPageFilter")||N},[w.get("targetPageFilter")]),oe=function(A){var Z=_.length;if(K.length===0||Z===0)return null;var J=A===Z+1?1:Math.max(1,Math.min(Z,A));return Y(J),l(_[J-1])},v=function(A){return M(A===""?[]:[A])},l=function(A){var Z=w.get("jumpToPage");return Z&&Z(A.pageIndex),w.update("matchPosition",{matchIndex:A.matchIndex,pageIndex:A.pageIndex}),A},h=function(A,Z,J){var re=I.current;if(!re)return Promise.resolve([]);var Se=re.numPages,Ce=A.map(function(xe){return n(xe,Z,J)});return w.update("keyword",Ce),Y(0),R([]),new Promise(function(xe,He){var De=pe.current.length===0?function(){var je=I.current;if(!je)return Promise.resolve([]);var ne=Array(je.numPages).fill(0).map(function(ae,le){return r.getPage(je,le).then(function(Ae){return Ae.getTextContent()}).then(function(Ae){var Xe=Ae.items.map(function(ye){return ye.str||""}).join("");return Promise.resolve({pageContent:Xe,pageIndex:le})})});return Promise.all(ne).then(function(ae){return ae.sort(function(le,Ae){return le.pageIndex-Ae.pageIndex}),Promise.resolve(ae.map(function(le){return le.pageContent}))})}().then(function(je){return pe.current=je,Promise.resolve(je)}):Promise.resolve(pe.current);De.then(function(je){var ne=[];je.forEach(function(ae,le){X()({pageIndex:le,numPages:Se})&&Ce.forEach(function(Ae){for(var Xe,ye=0;(Xe=Ae.regExp.exec(ae))!==null;)ne.push({keyword:Ae.regExp,matchIndex:ye,pageIndex:le,pageText:ae,startIndex:Xe.index,endIndex:Ae.regExp.lastIndex}),ye++})}),R(ne),ne.length>0&&(Y(1),l(ne[0])),xe(ne)})})};return i.useEffect(function(){pe.current=[]},[I.current]),{clearKeyword:function(){w.update("keyword",[U]),v(""),Y(0),R([]),de(!1),S(!1)},changeMatchCase:function(A){de(A),K.length>0&&h(K,A,ve)},changeWholeWords:function(A){S(A),K.length>0&&h(K,fe,A)},currentMatch:V,jumpToMatch:oe,jumpToNextMatch:function(){return oe(V+1)},jumpToPreviousMatch:function(){return oe(V-1)},keywords:K,matchCase:fe,numberOfMatches:_.length,wholeWords:ve,search:function(){return h(K,fe,ve)},searchFor:h,setKeywords:M,keyword:K.length===0?"":(B=K[0],B instanceof RegExp?B.source:typeof B=="string"?B:B.keyword),setKeyword:v,setTargetPages:function(A){w.update("targetPageFilter",A)}}},t=function(w){var B=w.children,P=w.store,O=a(P),I=i.useState(!1),$=I[0],K=I[1],M=function(b){return K(!0)};return i.useEffect(function(){return P.subscribe("doc",M),function(){P.unsubscribe("doc",M)}},[]),B(m(m({},O),{isDocumentLoaded:$}))},e=function(w){var B=w.containerRef,P=w.store,O=i.useRef(!1),I=function(){O.current=!0},$=function(){O.current=!1},K=function(M){var b=B.current;b&&(M.shiftKey||M.altKey||M.key!=="f"||(r.isMac()?M.metaKey&&!M.ctrlKey:M.ctrlKey)&&(O.current||document.activeElement&&b.contains(document.activeElement))&&(M.preventDefault(),P.update("areShortcutsPressed",!0)))};return i.useEffect(function(){var M=B.current;if(M)return document.addEventListener("keydown",K),M.addEventListener("mouseenter",I),M.addEventListener("mouseleave",$),function(){document.removeEventListener("keydown",K),M.removeEventListener("mouseenter",I),M.removeEventListener("mouseleave",$)}},[B.current]),i.createElement(i.Fragment,null)},u={left:0,top:8},p=function(w){var B=w.store,P=w.onToggle,O=i.useContext(r.LocalizationContext).l10n,I=i.useContext(r.ThemeContext).direction,$=i.useState(!1),K=$[0],M=$[1],b=i.useState(!1),_=b[0],R=b[1],D=I===r.TextDirection.RightToLeft,V=a(B),Y=V.clearKeyword,ee=V.changeMatchCase,fe=V.changeWholeWords,de=V.currentMatch,pe=V.jumpToNextMatch,Ee=V.jumpToPreviousMatch,ve=V.keyword,S=V.matchCase,N=V.numberOfMatches,X=V.wholeWords,oe=V.search,v=V.setKeyword,l=function(re){M(!0),oe().then(function(Se){M(!1),R(!0),re&&re()})};i.useEffect(function(){var re=B.get("initialKeyword");re&&re.length===1&&ve&&l(function(){B.update("initialKeyword",[])})},[]);var h=O&&O.search?O.search.enterToSearch:"Enter to search",A=O&&O.search?O.search.previousMatch:"Previous match",Z=O&&O.search?O.search.nextMatch:"Next match",J=O&&O.search?O.search.close:"Close";return i.createElement("div",{className:"rpv-search__popover"},i.createElement("div",{className:"rpv-search__popover-input-counter"},i.createElement(r.TextBox,{ariaLabel:h,autoFocus:!0,placeholder:h,type:"text",value:ve,onChange:function(re){R(!1),v(re)},onKeyDown:function(re){re.key==="Enter"&&ve&&(_?pe():l())}}),i.createElement("div",{className:r.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!D,"rpv-search__popover-counter--rtl":D})},K&&i.createElement(r.Spinner,{testId:"search__popover-searching",size:"1rem"}),!K&&i.createElement("span",{"data-testid":"search__popover-num-matches"},de,"/",N))),i.createElement("label",{className:"rpv-search__popover-label"},i.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:S,type:"checkbox",onChange:function(re){R(!1),ee(re.target.checked)}})," ",O&&O.search?O.search.matchCase:"Match case"),i.createElement("label",{className:"rpv-search__popover-label"},i.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(re){R(!1),fe(re.target.checked)}})," ",O&&O.search?O.search.wholeWords:"Whole words"),i.createElement("div",{className:"rpv-search__popover-footer"},i.createElement("div",{className:"rpv-search__popover-footer-item"},i.createElement(r.Tooltip,{ariaControlsSuffix:"search-previous-match",position:D?r.Position.BottomRight:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:A,isDisabled:de<=1,onClick:Ee},i.createElement(d,null)),content:function(){return A},offset:u})),i.createElement("div",{className:"rpv-search__popover-footer-item"},i.createElement(r.Tooltip,{ariaControlsSuffix:"search-next-match",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:Z,isDisabled:de>N-1,onClick:pe},i.createElement(k,null)),content:function(){return Z},offset:u})),i.createElement("div",{className:r.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!D,"rpv-search__popover-footer-button--rtl":D})},i.createElement(r.Button,{onClick:function(){P(),Y()}},J))))},C=function(w){var B=w.children,P=w.onClick,O=i.useContext(r.LocalizationContext).l10n,I=O&&O.search?O.search.search:"Search";return B({icon:i.createElement(q,null),label:I,onClick:P})},L={left:0,top:8},x=function(w){var B=w.enableShortcuts,P=w.store,O=w.onClick,I=B?r.isMac()?"Meta+F":"Ctrl+F":"",$=function(K){K&&O()};return i.useEffect(function(){return P.subscribe("areShortcutsPressed",$),function(){P.unsubscribe("areShortcutsPressed",$)}},[]),i.createElement(C,{onClick:O},function(K){return i.createElement(r.Tooltip,{ariaControlsSuffix:"search-popover",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:I,ariaLabel:K.label,testId:"search__popover-button",onClick:O},K.icon),content:function(){return K.label},offset:L})})},g={left:0,top:8},z=function(w){var B=w.children,P=w.enableShortcuts,O=w.store,I=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomRight:r.Position.BottomLeft,$=B||function(K){return i.createElement(x,m({enableShortcuts:P,store:O},K))};return i.createElement(r.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:I,target:function(K){return $({onClick:K})},content:function(K){return i.createElement(p,{store:O,onToggle:K})},offset:g,closeOnClickOutside:!1,closeOnEscape:!0})},Q=function(w){return Array.isArray(w)?w.map(function(B){return n(B)}):[n(w)]};c.NextIcon=k,c.PreviousIcon=d,c.SearchIcon=q,c.searchPlugin=function(w){var B=i.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},w)},[]),P=i.useMemo(function(){return r.createStore({initialKeyword:w&&w.keyword?Array.isArray(w.keyword)?w.keyword:[w.keyword]:[],keyword:w&&w.keyword?Q(w.keyword):[U],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),O=a(P),I=O.clearKeyword,$=O.jumpToMatch,K=O.jumpToNextMatch,M=O.jumpToPreviousMatch,b=O.searchFor,_=O.setKeywords,R=O.setTargetPages,D=function(V){return i.createElement(z,m({enableShortcuts:B.enableShortcuts},V,{store:P}))};return{install:function(V){var Y=w&&w.keyword?Array.isArray(w.keyword)?w.keyword:[w.keyword]:[],ee=w&&w.keyword?Q(w.keyword):[U];P.update("initialKeyword",Y),P.update("jumpToDestination",V.jumpToDestination),P.update("jumpToPage",V.jumpToPage),P.update("keyword",ee)},renderPageLayer:function(V){return i.createElement(o,{key:V.pageIndex,numPages:V.doc.numPages,pageIndex:V.pageIndex,renderHighlights:w==null?void 0:w.renderHighlights,store:P,onHighlightKeyword:B.onHighlightKeyword})},renderViewer:function(V){var Y=V.slot;return Y.subSlot&&(Y.subSlot.children=i.createElement(i.Fragment,null,B.enableShortcuts&&i.createElement(e,{containerRef:V.containerRef,store:P}),Y.subSlot.children)),Y},uninstall:function(V){var Y=P.get("renderStatus");Y&&Y.clear()},onDocumentLoad:function(V){P.update("doc",V.doc)},onTextLayerRender:function(V){var Y=P.get("renderStatus");Y&&(Y=Y.set(V.pageIndex,V),P.update("renderStatus",Y))},Search:function(V){return i.createElement(t,m({},V,{store:P}))},ShowSearchPopover:D,ShowSearchPopoverButton:function(){return i.createElement(D,null,function(V){return i.createElement(x,m({enableShortcuts:B.enableShortcuts,store:P},V))})},clearHighlights:function(){I()},highlight:function(V){var Y=Array.isArray(V)?V:[V];return _(Y),b(Y)},jumpToMatch:$,jumpToNextMatch:K,jumpToPreviousMatch:M,setTargetPages:R}}},27973:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(67255)},51530:function(we,c,te){"use strict";var r=te(54141);function H(o){var s=Object.create(null);return o&&Object.keys(o).forEach(function(n){if(n!=="default"){var a=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:function(){return o[n]}})}}),s.default=o,Object.freeze(s)}var i,k=H(te(67294)),d=function(){return k.createElement(r.Icon,{size:16},k.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},q=function(){return q=Object.assign||function(o){for(var s,n=1,a=arguments.length;n<a;n++)for(var t in s=arguments[n])Object.prototype.hasOwnProperty.call(s,t)&&(o[t]=s[t]);return o},q.apply(this,arguments)};c.SelectionMode=void 0,(i=c.SelectionMode||(c.SelectionMode={})).Hand="Hand",i.Text="Text";var m=function(){return k.createElement(r.Icon,{size:16},k.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},U=function(o){var s=o.children,n=o.mode,a=o.onClick,t=k.useContext(r.LocalizationContext).l10n,e="",u=k.createElement(m,null);switch(n){case c.SelectionMode.Hand:e=t&&t.selectionMode?t.selectionMode.handTool:"Hand tool",u=k.createElement(d,null);break;case c.SelectionMode.Text:default:e=t&&t.selectionMode?t.selectionMode.textSelectionTool:"Text selection tool",u=k.createElement(m,null)}return s({icon:u,label:e,onClick:a})},W={left:0,top:8},F=function(o){var s=o.isSelected,n=o.mode,a=o.onClick,t="";switch(n){case c.SelectionMode.Hand:t="selection-mode__hand-button";break;case c.SelectionMode.Text:default:t="selection-mode__text-button"}return k.createElement(U,{mode:n,onClick:a},function(e){return k.createElement(r.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:r.Position.BottomCenter,target:k.createElement(r.MinimalButton,{ariaLabel:e.label,isSelected:s,testId:t,onClick:e.onClick},e.icon),content:function(){return e.label},offset:W})})},T=function(o){var s=o.children,n=o.mode,a=o.store,t=n===a.get("selectionMode");return(s||function(e){return k.createElement(F,{isSelected:t,mode:e.mode,onClick:e.onClick})})({isSelected:t,mode:n,onClick:function(){return a.update("selectionMode",n)}})},E=function(o){var s=o.isSelected,n=o.mode,a=o.onClick,t="";switch(n){case c.SelectionMode.Hand:t="selection-mode__hand-menu";break;case c.SelectionMode.Text:default:t="selection-mode__text-menu"}return k.createElement(U,{mode:n,onClick:a},function(e){return k.createElement(r.MenuItem,{checked:s,icon:e.icon,testId:t,onClick:e.onClick},e.label)})},f=function(o){var s=o.store,n=k.useRef(null),a=k.useState(c.SelectionMode.Text),t=a[0],e=a[1],u=k.useRef({top:0,left:0,x:0,y:0}),p=function(z){var Q=n.current;Q&&(Q.scrollTop=u.current.top-(z.clientY-u.current.y),Q.scrollLeft=u.current.left-(z.clientX-u.current.x))},C=function(){var z=n.current;z&&(z.classList.add("rpv-selection-mode__grab"),z.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",C))},L=function(z){var Q=n.current;Q&&t!==c.SelectionMode.Text&&(Q.classList.remove("rpv-selection-mode__grab"),Q.classList.add("rpv-selection-mode__grabbing"),z.preventDefault(),z.stopPropagation(),u.current={left:Q.scrollLeft,top:Q.scrollTop,x:z.clientX,y:z.clientY},document.addEventListener("mousemove",p),document.addEventListener("mouseup",C))},x=function(z){n.current=z()},g=function(z){e(z)};return k.useEffect(function(){var z=n.current;if(z)return t===c.SelectionMode.Hand?z.classList.add("rpv-selection-mode__grab"):z.classList.remove("rpv-selection-mode__grab"),z.addEventListener("mousedown",L),function(){z.removeEventListener("mousedown",L)}},[t]),k.useEffect(function(){return s.subscribe("getPagesContainer",x),s.subscribe("selectionMode",g),function(){s.unsubscribe("getPagesContainer",x),s.unsubscribe("selectionMode",g)}},[]),k.createElement(k.Fragment,null)};c.HandToolIcon=d,c.TextSelectionIcon=m,c.selectionModePlugin=function(o){var s=k.useMemo(function(){return r.createStore()},[]),n=function(a){return k.createElement(T,q({},a,{store:s}))};return{install:function(a){s.update("selectionMode",o&&o.selectionMode?o.selectionMode:c.SelectionMode.Text),s.update("getPagesContainer",a.getPagesContainer)},renderViewer:function(a){var t=a.slot;return t.subSlot&&t.subSlot.children&&(t.subSlot.children=k.createElement(k.Fragment,null,k.createElement(f,{store:s}),t.subSlot.children)),t},SwitchSelectionMode:n,SwitchSelectionModeButton:function(a){return k.createElement(n,{mode:a.mode},function(t){return k.createElement(F,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick()}})})},SwitchSelectionModeMenuItem:function(a){return k.createElement(n,{mode:a.mode},function(t){return k.createElement(E,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick(),a.onClick()}})})}}}},53403:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(51530)},98835:function(we,c,te){"use strict";var r=te(54141);function H(T){var E=Object.create(null);return T&&Object.keys(T).forEach(function(f){if(f!=="default"){var o=Object.getOwnPropertyDescriptor(T,f);Object.defineProperty(E,f,o.get?o:{enumerable:!0,get:function(){return T[f]}})}}),E.default=T,Object.freeze(E)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),i.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},d=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),i.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},q=function(){return q=Object.assign||function(T){for(var E,f=1,o=arguments.length;f<o;f++)for(var s in E=arguments[f])Object.prototype.hasOwnProperty.call(E,s)&&(T[s]=E[s]);return T},q.apply(this,arguments)},m={left:0,top:8},U=function(T){var E=T.onClick,f=i.useContext(r.ThemeContext),o=i.useContext(r.LocalizationContext).l10n,s=f.currentTheme==="dark",n=o&&o.theme?s?o.theme.switchLightTheme:o.theme.switchDarkTheme:s?"Switch to the light theme":"Switch to the dark theme";return i.createElement(r.Tooltip,{ariaControlsSuffix:"theme-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:n,testId:"theme__switch-button",onClick:E},s?i.createElement(d,null):i.createElement(k,null)),content:function(){return n},offset:m})},W=function(T){var E=T.children,f=i.useContext(r.ThemeContext);return(E||function(o){return i.createElement(U,{onClick:o.onClick})})({onClick:function(){return f.setCurrentTheme(f.currentTheme==="dark"?"light":"dark")}})},F=function(T){var E=T.onClick,f=i.useContext(r.ThemeContext),o=i.useContext(r.LocalizationContext).l10n,s=f.currentTheme==="dark",n=o&&o.theme?s?o.theme.switchLightTheme:o.theme.switchDarkTheme:s?"Switch to the light theme":"Switch to the dark theme";return i.createElement(r.MenuItem,{icon:s?i.createElement(d,null):i.createElement(k,null),testId:"theme__switch-menu",onClick:E},n)};c.DarkIcon=k,c.LightIcon=d,c.themePlugin=function(){var T=function(E){return i.createElement(W,q({},E))};return{SwitchTheme:T,SwitchThemeButton:function(){return i.createElement(T,null,function(E){return i.createElement(U,q({},E))})},SwitchThemeMenuItem:function(E){return i.createElement(T,null,function(f){return i.createElement(F,{onClick:function(){f.onClick(),E.onClick()}})})}}}},3591:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(98835)},68786:function(we,c,te){"use strict";var r=te(54141);function H(s){var n=Object.create(null);return s&&Object.keys(s).forEach(function(a){if(a!=="default"){var t=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,t.get?t:{enumerable:!0,get:function(){return s[a]}})}}),n.default=s,Object.freeze(n)}var i,k=H(te(67294));c.ThumbnailDirection=void 0,(i=c.ThumbnailDirection||(c.ThumbnailDirection={})).Horizontal="Horizontal",i.Vertical="Vertical";var d=function(){return d=Object.assign||function(s){for(var n,a=1,t=arguments.length;a<t;a++)for(var e in n=arguments[a])Object.prototype.hasOwnProperty.call(n,e)&&(s[e]=n[e]);return s},d.apply(this,arguments)},q=function(s){var n=s.doc,a=s.getPageIndex,t=s.renderSpinner,e=s.store,u=s.width,p=n.numPages,C=a?a({numPages:p}):0,L=Math.max(0,Math.min(C,p-1)),x=e.get("pagesRotation")||new Map,g=x.has(L)?x.get(L):0,z=k.useState(""),Q=z[0],w=z[1],B=r.useIsMounted(),P=k.useRef(),O=k.useState(e.get("rotation")||0),I=O[0],$=O[1],K=k.useState(g),M=K[0],b=K[1],_=k.useState(!1),R=_[0],D=_[1],V=function(fe){var de=fe.has(L)?fe.get(L):0;b(de)},Y=function(fe){$(fe)},ee=r.useIntersectionObserver({onVisibilityChanged:function(fe){D(fe.isVisible)}});return k.useEffect(function(){if(R){var fe=ee.current;fe&&(w(""),r.getPage(n,L).then(function(de){var pe=de.getViewport({scale:1}),Ee=(pe.rotation+I+M)%360,ve=Math.abs(I+M)%180==0,S=ve?pe.width:pe.height,N=ve?pe.height:pe.width,X=document.createElement("canvas"),oe=X.getContext("2d",{alpha:!1}),v=fe.clientWidth,l=fe.clientHeight,h=u?u/S:Math.min(v/S,l/N),A=h*S,Z=h*N;X.height=Z,X.width=A,X.style.opacity="0";var J=de.getViewport({rotation:Ee,scale:h});P.current=de.render({canvasContext:oe,viewport:J}),P.current.promise.then(function(){B.current&&w(X.toDataURL()),X.width=0,X.height=0},function(){})}))}},[M,R]),k.useEffect(function(){return e.subscribe("pagesRotation",V),e.subscribe("rotation",Y),function(){e.unsubscribe("pagesRotation",V),e.unsubscribe("rotation",Y)}},[]),k.useEffect(function(){return function(){var fe;(fe=P.current)===null||fe===void 0||fe.cancel()}},[]),k.createElement("div",{ref:ee,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Q?k.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Q}):k.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},t?t():k.createElement(r.Spinner,null)))},m=function(s){var n=s.getPageIndex,a=s.renderSpinner,t=s.store,e=s.width,u=k.useState(t.get("doc")),p=u[0],C=u[1],L=function(x){C(x)};return k.useEffect(function(){return t.subscribe("doc",L),function(){t.unsubscribe("doc",L)}},[]),k.createElement("div",{className:"rpv-thumbnail__cover"},p?k.createElement(q,{doc:p,getPageIndex:n,renderSpinner:a,store:t,width:e}):k.createElement("div",{className:"rpv-thumbnail__cover-loader"},a?a():k.createElement(r.Spinner,null)))},U=function(){return k.createElement(r.Spinner,null)},W=k.createContext({renderSpinner:U}),F=function(s){var n=s.children,a=s.doc,t=r.useIsMounted(),e=k.useState({loading:!0,labels:[]}),u=e[0],p=e[1];return k.useEffect(function(){a.getPageLabels().then(function(C){t.current&&p({loading:!1,labels:C||[]})})},[a.loadingTask.docId]),u.loading?k.createElement(k.Fragment,null):n(u.labels)},T=function(s){var n=s.page,a=s.pageHeight,t=s.pageIndex,e=s.pageWidth,u=s.rotation,p=s.thumbnailHeight,C=s.thumbnailWidth,L=s.onRenderCompleted,x=k.useContext(r.LocalizationContext).l10n,g=k.useRef(),z=k.useState(""),Q=z[0],w=z[1],B=x&&x.thumbnail?x.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return k.useEffect(function(){var P=g.current;P&&P.cancel();var O=document.createElement("canvas"),I=O.getContext("2d",{alpha:!1}),$=C,K=$/(e/a),M=$/e;O.height=K,O.width=$,O.style.height="".concat(K,"px"),O.style.width="".concat($,"px");var b=n.getViewport({rotation:u,scale:M});return g.current=n.render({canvasContext:I,viewport:b}),g.current.promise.then(function(){w(O.toDataURL()),L(t)},function(){L(t)}),function(){var _;(_=g.current)===null||_===void 0||_.cancel()}},[u]),Q?k.createElement("img",{"aria-label":B.replace("{{pageIndex}}","".concat(t+1)),src:Q,height:"".concat(p,"px"),width:"".concat(C,"px")}):k.useContext(W).renderSpinner()},E=function(s){var n=s.doc,a=s.pageHeight,t=s.pageIndex,e=s.pageRotation,u=s.pageWidth,p=s.rotation,C=s.shouldRender,L=s.thumbnailWidth,x=s.onRenderCompleted,g=s.onVisibilityChanged,z=r.useIsMounted(),Q=k.useState({height:a,page:null,viewportRotation:0,width:u}),w=Q[0],B=Q[1],P=w.page,O=w.height,I=w.width,$=I/O,K=Math.abs(p+e)%180==0,M=K?L:L/$,b=K?L/$:L;k.useEffect(function(){C&&r.getPage(n,t).then(function(D){var V=D.getViewport({scale:1});z.current&&B({height:V.height,page:D,viewportRotation:V.rotation,width:V.width})})},[C]);var _=(w.viewportRotation+p+e)%360,R=r.useIntersectionObserver({onVisibilityChanged:function(D){g(t,D)}});return k.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(t),ref:R,style:{height:"".concat(b,"px"),width:"".concat(M,"px")}},P?k.createElement(T,{page:P,pageHeight:K?O:I,pageIndex:t,pageWidth:K?I:O,rotation:_,thumbnailHeight:b,thumbnailWidth:M,onRenderCompleted:x}):k.useContext(W).renderSpinner())},f=function(s){var n=s.currentPage,a=s.doc,t=s.labels,e=s.pagesRotation,u=s.pageHeight,p=s.pageWidth,C=s.renderCurrentPageLabel,L=s.renderThumbnailItem,x=s.rotatedPage,g=s.rotation,z=s.thumbnailDirection,Q=s.thumbnailWidth,w=s.viewMode,B=s.onJumpToPage,P=s.onRotatePage,O=a.numPages,I=a.loadingTask.docId,$=k.useRef(null),K=k.useRef([]),M=k.useState(n),b=M[0],_=M[1],R=k.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,D=k.useState(-1),V=D[0],Y=D[1],ee=r.useIsMounted(),fe=r.usePrevious(w),de=k.useRef(!1),pe=r.useRenderQueue({doc:a}),Ee=k.useMemo(function(){return Array(O).fill(0).map(function(h,A){return A})},[I]),ve=k.useMemo(function(){switch(w){case r.ViewMode.DualPage:return r.chunk(Ee,2);case r.ViewMode.DualPageWithCover:return[[Ee[0]]].concat(r.chunk(Ee.slice(1),2));case r.ViewMode.SinglePage:default:return r.chunk(Ee,1)}},[I,w]),S=function(){if($.current){var h=K.current,A=b+1;A<h.length&&(b>=0&&h[b].setAttribute("tabindex","-1"),_(A))}},N=function(){if($.current){var h=K.current,A=b-1;A>=0&&(b>=0&&h[b].setAttribute("tabindex","-1"),_(A))}},X=function(){b>=0&&b<O&&B(b)};r.useIsomorphicLayoutEffect(function(){var h=$.current;h&&(K.current=Array.from(h.querySelectorAll(".rpv-thumbnail__item")))},[w]),k.useEffect(function(){var h=K.current;if(!(h.length===0||b<0||b>h.length)){var A=h[b];A.setAttribute("tabindex","0"),A.focus()}},[b]),r.useIsomorphicLayoutEffect(function(){var h=$.current,A=K.current;if(!(!h||A.length===0||n<0||n>A.length)){var Z=A[n].closest(".rpv-thumbnail__items");Z&&(z===c.ThumbnailDirection.Vertical?function(J,re){var Se=J.getBoundingClientRect().top-re.getBoundingClientRect().top,Ce=J.clientHeight,xe=re.clientHeight;Se<0?re.scrollTop+=Se:Se+Ce<=xe||(re.scrollTop+=Se+Ce-xe)}(Z,h):function(J,re){var Se=J.getBoundingClientRect().left-re.getBoundingClientRect().left,Ce=J.clientWidth,xe=re.clientWidth;Se<0?re.scrollLeft+=Se:Se+Ce<=xe||(re.scrollLeft+=Se+Ce-xe)}(Z,h))}},[n,z]);var oe=k.useCallback(function(h){ee.current&&(pe.markRendered(h),de.current=!1,l())},[I]),v=k.useCallback(function(h,A){A.isVisible?pe.setVisibility(h,A.ratio):pe.setOutOfRange(h),l()},[I]),l=k.useCallback(function(){if(!de.current){var h=pe.getHighestPriorityPage();h>-1&&(pe.markRendering(h),de.current=!0,Y(h))}},[I]);return k.useEffect(function(){x>=0&&(pe.markRendering(x),de.current=!0,Y(x))},[I,x]),r.useIsomorphicLayoutEffect(function(){fe!==w&&(pe.markNotRendered(),l())},[w]),k.createElement("div",{ref:$,"data-testid":"thumbnail__list",className:r.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":z===c.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":R,"rpv-thumbnail__list--vertical":z===c.ThumbnailDirection.Vertical}),onKeyDown:function(h){switch(h.key){case"ArrowDown":S();break;case"ArrowUp":N();break;case"Enter":X()}}},ve.map(function(h,A){var Z=!1;switch(w){case r.ViewMode.DualPage:Z=n===2*A||n===2*A+1;break;case r.ViewMode.DualPageWithCover:Z=n===0&&A===0||A>0&&n===2*A-1||A>0&&n===2*A;break;case r.ViewMode.SinglePage:default:Z=n===A}return k.createElement("div",{className:r.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":w===r.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":w===r.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":w===r.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Z}),key:"".concat(A,"___").concat(w)},h.map(function(J){return function(re){var Se=w===r.ViewMode.DualPageWithCover&&(re===0||O%2==0&&re===O-1),Ce="".concat(a.loadingTask.docId,"___").concat(re),xe=t.length===O?t[re]:"".concat(re+1),He=C?C({currentPage:n,pageIndex:re,numPages:O,pageLabel:xe}):xe,De=e.has(re)?e.get(re):0,je=k.createElement(E,{doc:a,pageHeight:u,pageIndex:re,pageRotation:De,pageWidth:p,rotation:g,shouldRender:V===re,thumbnailWidth:Q,onRenderCompleted:oe,onVisibilityChanged:v});return L?L({currentPage:n,key:Ce,numPages:O,pageIndex:re,renderPageLabel:k.createElement(k.Fragment,null,He),renderPageThumbnail:je,onJumpToPage:function(){return B(re)},onRotatePage:function(ne){return P(re,ne)}}):k.createElement("div",{key:Ce},k.createElement("div",{className:r.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":w===r.ViewMode.DualPage&&re%2==0,"rpv-thumbnail__item--dual-odd":w===r.ViewMode.DualPage&&re%2==1,"rpv-thumbnail__item--dual-cover":Se,"rpv-thumbnail__item--dual-cover-even":w===r.ViewMode.DualPageWithCover&&!Se&&re%2==0,"rpv-thumbnail__item--dual-cover-odd":w===r.ViewMode.DualPageWithCover&&!Se&&re%2==1,"rpv-thumbnail__item--single":w===r.ViewMode.SinglePage,"rpv-thumbnail__item--selected":n===re}),role:"button",tabIndex:n===re?0:-1,onClick:function(){return B(re)}},je),k.createElement("div",{"data-testid":"thumbnail__label-".concat(re),className:"rpv-thumbnail__label"},He))}(J)}))}))},o=function(s){var n=s.renderCurrentPageLabel,a=s.renderThumbnailItem,t=s.store,e=s.thumbnailDirection,u=s.thumbnailWidth,p=k.useState(t.get("doc")),C=p[0],L=p[1],x=k.useState(t.get("currentPage")||0),g=x[0],z=x[1],Q=k.useState(t.get("pageHeight")||0),w=Q[0],B=Q[1],P=k.useState(t.get("pageWidth")||0),O=P[0],I=P[1],$=k.useState(t.get("rotation")||0),K=$[0],M=$[1],b=k.useState(t.get("pagesRotation")||new Map),_=b[0],R=b[1],D=k.useState(t.get("rotatedPage")||-1),V=D[0],Y=D[1],ee=k.useState(t.get("viewMode")),fe=ee[0],de=ee[1],pe=function(A){z(A)},Ee=function(A){L(A)},ve=function(A){B(A)},S=function(A){I(A)},N=function(A){M(A)},X=function(A){R(A)},oe=function(A){Y(A)},v=function(A){de(A)},l=function(A){var Z=t.get("jumpToPage");Z&&Z(A)},h=function(A,Z){t.get("rotatePage")(A,Z)};return k.useEffect(function(){return t.subscribe("doc",Ee),t.subscribe("pageHeight",ve),t.subscribe("pageWidth",S),t.subscribe("rotatedPage",oe),t.subscribe("rotation",N),t.subscribe("pagesRotation",X),t.subscribe("viewMode",v),function(){t.unsubscribe("doc",Ee),t.unsubscribe("pageHeight",ve),t.unsubscribe("pageWidth",S),t.unsubscribe("rotatedPage",oe),t.unsubscribe("rotation",N),t.unsubscribe("pagesRotation",X),t.unsubscribe("viewMode",v)}},[]),r.useIsomorphicLayoutEffect(function(){return t.subscribe("currentPage",pe),function(){t.unsubscribe("currentPage",pe)}},[]),C?k.createElement(r.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},k.createElement(F,{doc:C},function(A){return k.createElement(f,{currentPage:g,doc:C,labels:A,pagesRotation:_,pageHeight:w,pageWidth:O,renderCurrentPageLabel:n,renderThumbnailItem:a,rotatedPage:V,rotation:K,thumbnailDirection:e,thumbnailWidth:u,viewMode:fe,onJumpToPage:l,onRotatePage:h})})):k.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},k.useContext(W).renderSpinner())};c.thumbnailPlugin=function(s){var n=k.useMemo(function(){return r.createStore({rotatePage:function(){},viewMode:r.ViewMode.SinglePage})},[]),a=k.useState(""),t=a[0],e=a[1];return{install:function(u){n.update("jumpToPage",u.jumpToPage),n.update("rotatePage",u.rotatePage)},onDocumentLoad:function(u){e(u.doc.loadingTask.docId),n.update("doc",u.doc)},onViewerStateChange:function(u){return n.update("currentPage",u.pageIndex),n.update("pagesRotation",u.pagesRotation),n.update("pageHeight",u.pageHeight),n.update("pageWidth",u.pageWidth),n.update("rotation",u.rotation),n.update("rotatedPage",u.rotatedPage),n.update("viewMode",u.viewMode),u},Cover:function(u){return k.createElement(m,d({},u,{renderSpinner:s==null?void 0:s.renderSpinner,store:n}))},Thumbnails:k.useCallback(function(u){return k.createElement(W.Provider,{value:{renderSpinner:(s==null?void 0:s.renderSpinner)||U}},k.createElement(o,{renderCurrentPageLabel:s==null?void 0:s.renderCurrentPageLabel,renderThumbnailItem:u==null?void 0:u.renderThumbnailItem,store:n,thumbnailDirection:(u==null?void 0:u.thumbnailDirection)||c.ThumbnailDirection.Vertical,thumbnailWidth:(s==null?void 0:s.thumbnailWidth)||100}))},[t])}}},24416:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(68786)},93945:function(we,c,te){"use strict";var r=te(54141),H=te(53403),i=te(67294),k=te(74948),d=te(48448),q=te(50007),m=te(13572),U=te(91999),W=te(12434),F=te(77719),T=te(64),E=te(27973),f=te(3591),o=te(60440);function s(g){var z=Object.create(null);return g&&Object.keys(g).forEach(function(Q){if(Q!=="default"){var w=Object.getOwnPropertyDescriptor(g,Q);Object.defineProperty(z,Q,w.get?w:{enumerable:!0,get:function(){return g[Q]}})}}),z.default=g,Object.freeze(z)}var n=s(i),a=function(){return n.createElement(r.Icon,{size:16},n.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},t={left:0,top:8},e=function(g){var z=g.toolbarSlot,Q=n.useContext(r.LocalizationContext).l10n,w=n.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomLeft:r.Position.BottomRight,B=z.DownloadMenuItem,P=z.EnterFullScreenMenuItem,O=z.GoToFirstPageMenuItem,I=z.GoToLastPageMenuItem,$=z.GoToNextPageMenuItem,K=z.GoToPreviousPageMenuItem,M=z.OpenMenuItem,b=z.PrintMenuItem,_=z.RotateBackwardMenuItem,R=z.RotateForwardMenuItem,D=z.ShowPropertiesMenuItem,V=z.SwitchScrollModeMenuItem,Y=z.SwitchSelectionModeMenuItem,ee=z.SwitchViewModeMenuItem,fe=z.SwitchThemeMenuItem;return n.createElement(r.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:w,target:function(de,pe){var Ee=Q&&Q.toolbar?Q.toolbar.moreActions:"More actions";return n.createElement(r.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:w,target:n.createElement(r.MinimalButton,{ariaLabel:Ee,isSelected:pe,testId:"toolbar__more-actions-popover-target",onClick:de},n.createElement(a,null)),content:function(){return Ee},offset:t})},content:function(de){return n.createElement(r.Menu,null,n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(fe,{onClick:de})),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(P,{onClick:de})),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(M,null)),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(b,{onClick:de})),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(B,{onClick:de})),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(r.MenuDivider,null)),n.createElement(O,{onClick:de}),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement(K,{onClick:de})),n.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},n.createElement($,{onClick:de})),n.createElement(I,{onClick:de}),n.createElement(r.MenuDivider,null),n.createElement(R,{onClick:de}),n.createElement(_,{onClick:de}),n.createElement(r.MenuDivider,null),n.createElement(Y,{mode:H.SelectionMode.Text,onClick:de}),n.createElement(Y,{mode:H.SelectionMode.Hand,onClick:de}),n.createElement(r.MenuDivider,null),n.createElement(V,{mode:r.ScrollMode.Page,onClick:de}),n.createElement(V,{mode:r.ScrollMode.Vertical,onClick:de}),n.createElement(V,{mode:r.ScrollMode.Horizontal,onClick:de}),n.createElement(V,{mode:r.ScrollMode.Wrapped,onClick:de}),n.createElement(r.MenuDivider,null),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement(ee,{mode:r.ViewMode.SinglePage,onClick:de})),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement(ee,{mode:r.ViewMode.DualPage,onClick:de})),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement(ee,{mode:r.ViewMode.DualPageWithCover,onClick:de})),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement(r.MenuDivider,null)),n.createElement(D,{onClick:de}))},offset:t,closeOnClickOutside:!0,closeOnEscape:!0})},u=function(){return u=Object.assign||function(g){for(var z,Q=1,w=arguments.length;Q<w;Q++)for(var B in z=arguments[Q])Object.prototype.hasOwnProperty.call(z,B)&&(g[B]=z[B]);return g},u.apply(this,arguments)},p=function(g){return function(z){var Q=n.useMemo(function(){return g(z)},[]),w=n.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,B=Q.CurrentPageInput,P=Q.Download,O=Q.EnterFullScreen,I=Q.GoToNextPage,$=Q.GoToPreviousPage,K=Q.NumberOfPages,M=Q.Open,b=Q.Print,_=Q.ShowSearchPopover,R=Q.SwitchTheme,D=Q.Zoom,V=Q.ZoomIn,Y=Q.ZoomOut;return n.createElement("div",{"data-testid":"toolbar",className:r.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":w}),role:"toolbar","aria-orientation":"horizontal"},n.createElement("div",{className:"rpv-toolbar__left"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(_,null)),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement($,null))),n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(B,null),n.createElement("span",{className:"rpv-toolbar__label"},n.createElement(K,null))),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(I,null)))),n.createElement("div",{className:"rpv-toolbar__center"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(Y,null)),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(D,null))),n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(V,null))),n.createElement("div",{className:"rpv-toolbar__right"},n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(R,null))),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(O,null))),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(M,null))),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(P,null))),n.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(b,null))),n.createElement("div",{className:"rpv-toolbar__item"},n.createElement(e,{toolbarSlot:Q}))))}},C=function(g){var z=g.NumberOfPages;return Object.assign({},g,{NumberOfPages:function(){return n.createElement(n.Fragment,null,"/ ",n.createElement(z,null))}})},L=function(g){return p(C)(g)},x=function(g){var z=g.children,Q=g.slot;return(z||L)(Q)};c.MoreActionsPopover=e,c.MoreIcon=a,c.toolbarPlugin=function(g){var z=k.fullScreenPlugin(g?g.fullScreenPlugin:{}),Q=d.getFilePlugin(g?g.getFilePlugin:{}),w=q.openPlugin(g?g.openPlugin:{}),B=m.pageNavigationPlugin(g?g.pageNavigationPlugin:{}),P=U.printPlugin(g?g.printPlugin:{}),O=W.propertiesPlugin(),I=F.rotatePlugin(),$=T.scrollModePlugin(),K=E.searchPlugin(g?g.searchPlugin:{}),M=H.selectionModePlugin(g?g.selectionModePlugin:{}),b=f.themePlugin(),_=o.zoomPlugin(g?g.zoomPlugin:{}),R=[z,Q,w,B,P,O,I,$,K,M,b,_],D=n.useCallback(function(V){var Y=z.EnterFullScreen,ee=z.EnterFullScreenMenuItem,fe=Q.Download,de=Q.DownloadMenuItem,pe=w.Open,Ee=w.OpenMenuItem,ve=B.CurrentPageInput,S=B.CurrentPageLabel,N=B.GoToFirstPage,X=B.GoToFirstPageMenuItem,oe=B.GoToLastPage,v=B.GoToLastPageMenuItem,l=B.GoToNextPage,h=B.GoToNextPageMenuItem,A=B.GoToPreviousPage,Z=B.GoToPreviousPageMenuItem,J=B.NumberOfPages,re=P.Print,Se=P.PrintMenuItem,Ce=O.ShowProperties,xe=O.ShowPropertiesMenuItem,He=I.Rotate,De=I.RotateBackwardMenuItem,je=I.RotateForwardMenuItem,ne=$.SwitchScrollMode,ae=$.SwitchScrollModeMenuItem,le=$.SwitchViewMode,Ae=$.SwitchViewModeMenuItem,Xe=K.Search,ye=K.ShowSearchPopover,ke=M.SwitchSelectionMode,Oe=M.SwitchSelectionModeMenuItem,Be=b.SwitchTheme,ht=b.SwitchThemeMenuItem,Ve=_.CurrentScale,Ye=_.Zoom,rt=_.ZoomIn,pt=_.ZoomInMenuItem,it=_.ZoomOut,It=_.ZoomOutMenuItem;return n.createElement(x,u({},V,{slot:{CurrentPageInput:ve,CurrentPageLabel:S,CurrentScale:Ve,Download:fe,DownloadMenuItem:de,EnterFullScreen:Y,EnterFullScreenMenuItem:ee,GoToFirstPage:N,GoToFirstPageMenuItem:X,GoToLastPage:oe,GoToLastPageMenuItem:v,GoToNextPage:l,GoToNextPageMenuItem:h,GoToPreviousPage:A,GoToPreviousPageMenuItem:Z,NumberOfPages:J,Open:pe,OpenMenuItem:Ee,Print:re,PrintMenuItem:Se,Rotate:He,RotateBackwardMenuItem:De,RotateForwardMenuItem:je,Search:Xe,ShowProperties:Ce,ShowPropertiesMenuItem:xe,ShowSearchPopover:ye,SwitchScrollMode:ne,SwitchScrollModeMenuItem:ae,SwitchSelectionMode:ke,SwitchSelectionModeMenuItem:Oe,SwitchViewMode:le,SwitchViewModeMenuItem:Ae,SwitchTheme:Be,SwitchThemeMenuItem:ht,Zoom:Ye,ZoomIn:rt,ZoomInMenuItem:pt,ZoomOut:it,ZoomOutMenuItem:It}}))},[]);return{fullScreenPluginInstance:z,getFilePluginInstance:Q,openPluginInstance:w,pageNavigationPluginInstance:B,printPluginInstance:P,propertiesPluginInstance:O,rotatePluginInstance:I,scrollModePluginInstance:$,searchPluginInstance:K,selectionModePluginInstance:M,themePluginInstance:b,zoomPluginInstance:_,install:function(V){R.forEach(function(Y){Y.install&&Y.install(V)})},renderPageLayer:function(V){return n.createElement(n.Fragment,null,R.map(function(Y,ee){return Y.renderPageLayer?n.createElement(n.Fragment,{key:ee},Y.renderPageLayer(V)):n.createElement(n.Fragment,{key:ee})}))},renderViewer:function(V){var Y=V.slot;return R.forEach(function(ee){ee.renderViewer&&(Y=ee.renderViewer(u(u({},V),{slot:Y})))}),Y},uninstall:function(V){R.forEach(function(Y){Y.uninstall&&Y.uninstall(V)})},onDocumentLoad:function(V){R.forEach(function(Y){Y.onDocumentLoad&&Y.onDocumentLoad(V)})},onAnnotationLayerRender:function(V){R.forEach(function(Y){Y.onAnnotationLayerRender&&Y.onAnnotationLayerRender(V)})},onTextLayerRender:function(V){R.forEach(function(Y){Y.onTextLayerRender&&Y.onTextLayerRender(V)})},onViewerStateChange:function(V){var Y=V;return R.forEach(function(ee){ee.onViewerStateChange&&(Y=ee.onViewerStateChange(Y))}),Y},renderDefaultToolbar:p,Toolbar:D}}},85734:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(93945)},61211:function(we,c,te){"use strict";var r=te(54141);function H(w){var B=Object.create(null);return w&&Object.keys(w).forEach(function(P){if(P!=="default"){var O=Object.getOwnPropertyDescriptor(w,P);Object.defineProperty(B,P,O.get?O:{enumerable:!0,get:function(){return w[P]}})}}),B.default=w,Object.freeze(B)}var i=H(te(67294)),k=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},d=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},q=function(){return q=Object.assign||function(w){for(var B,P=1,O=arguments.length;P<O;P++)for(var I in B=arguments[P])Object.prototype.hasOwnProperty.call(B,I)&&(w[I]=B[I]);return w},q.apply(this,arguments)},m=function(w){var B=i.useState(w.get("scale")||0),P=B[0],O=B[1],I=function($){O($)};return i.useEffect(function(){return w.subscribe("scale",I),function(){w.unsubscribe("scale",I)}},[]),{scale:P}},U=function(w){var B=w.children,P=w.store;return(B||function(O){return i.createElement(i.Fragment,null,"".concat(Math.round(100*O.scale),"%"))})({scale:m(P).scale})},W={passive:!1},F=null,T=function(w){var B=w.pagesContainerRef,P=w.store,O=r.useDebounceCallback(function($){var K=P.get("zoom");K&&K($)},40),I=function($){if($.ctrlKey){$.preventDefault();var K=$.target.getBoundingClientRect(),M=1-$.deltaY/100,b=$.clientX-K.left,_=$.clientY-K.top,R=P.get("scale"),D=(F||(F=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(b,_).scale(M).translate(-b,-_).scale(R);O(D.a)}};return r.useIsomorphicLayoutEffect(function(){var $=B.current;if($)return $.addEventListener("wheel",I,W),function(){$.removeEventListener("wheel",I)}},[]),i.createElement(i.Fragment,null)},E=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f=function(w){return E.find(function(B){return B>w})||w},o=function(w){var B=E.findIndex(function(P){return P>=w});return B===-1||B===0?w:E[B-1]},s=function(w){var B=w.containerRef,P=w.store,O=function(I){if(!I.shiftKey&&!I.altKey&&(r.isMac()?I.metaKey:I.ctrlKey)){var $=B.current;if($&&document.activeElement&&$.contains(document.activeElement)){var K=P.get("zoom");if(K){var M=P.get("scale")||1,b=1;switch(I.key){case"-":b=o(M);break;case"=":b=f(M);break;case"0":b=1;break;default:b=M}b!==M&&(I.preventDefault(),K(b))}}}};return i.useEffect(function(){if(B.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[B.current]),i.createElement(i.Fragment,null)},n=[.5,.75,1,1.25,1.5,2,3,4],a={left:0,top:8},t=function(w){var B=w.levels,P=B===void 0?n:B,O=w.scale,I=w.onZoom,$=i.useContext(r.LocalizationContext).l10n,K=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,M=$&&$.zoom?$.zoom.zoomDocument:"Zoom document";return i.createElement(r.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:r.Position.BottomCenter,target:function(b){return i.createElement(r.MinimalButton,{ariaLabel:M,testId:"zoom__popover-target",onClick:function(){b()}},i.createElement("span",{className:"rpv-zoom__popover-target"},i.createElement("span",{"data-testid":"zoom__popover-target-scale",className:r.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!K,"rpv-zoom__popover-target-scale--rtl":K})},Math.round(100*O),"%"),i.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(b){return i.createElement(r.Menu,null,Object.keys(r.SpecialZoomLevel).map(function(_){var R=_;return i.createElement(r.MenuItem,{key:R,onClick:function(){b(),I(R)}},function(D){switch(D){case r.SpecialZoomLevel.ActualSize:return $&&$.zoom?$.zoom.actualSize:"Actual size";case r.SpecialZoomLevel.PageFit:return $&&$.zoom?$.zoom.pageFit:"Page fit";case r.SpecialZoomLevel.PageWidth:return $&&$.zoom?$.zoom.pageWidth:"Page width"}}(R))}),i.createElement(r.MenuDivider,null),P.map(function(_){return i.createElement(r.MenuItem,{key:_,onClick:function(){b(),I(_)}},"".concat(Math.round(100*_),"%"))}))},offset:a,closeOnClickOutside:!0,closeOnEscape:!0})},e=function(w){var B=w.children,P=w.levels,O=w.store;return(B||function(I){return i.createElement(t,{levels:P,scale:I.scale,onZoom:I.onZoom})})({scale:m(O).scale,onZoom:function(I){var $=O.get("zoom");$&&$(I)}})},u={left:0,top:8},p=function(w){var B=w.enableShortcuts,P=w.onClick,O=i.useContext(r.LocalizationContext).l10n,I=O&&O.zoom?O.zoom.zoomIn:"Zoom in",$=B?r.isMac()?"Meta+=":"Ctrl+=":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"zoom-in",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:I,testId:"zoom__in-button",onClick:P},i.createElement(k,null)),content:function(){return I},offset:u})},C=function(w){var B=w.children,P=w.enableShortcuts,O=w.store,I=m(O).scale;return(B||p)({enableShortcuts:P,onClick:function(){var $=O.get("zoom");$&&$(f(I))}})},L=function(w){var B=w.onClick,P=i.useContext(r.LocalizationContext).l10n,O=P&&P.zoom?P.zoom.zoomIn:"Zoom in";return i.createElement(r.MenuItem,{icon:i.createElement(k,null),testId:"zoom__in-menu",onClick:B},O)},x={left:0,top:8},g=function(w){var B=w.enableShortcuts,P=w.onClick,O=i.useContext(r.LocalizationContext).l10n,I=O&&O.zoom?O.zoom.zoomOut:"Zoom out",$=B?r.isMac()?"Meta+-":"Ctrl+-":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"zoom-out",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:I,testId:"zoom__out-button",onClick:P},i.createElement(d,null)),content:function(){return I},offset:x})},z=function(w){var B=w.children,P=w.enableShortcuts,O=w.store,I=m(O).scale;return(B||g)({enableShortcuts:P,onClick:function(){var $=O.get("zoom");$&&$(o(I))}})},Q=function(w){var B=w.onClick,P=i.useContext(r.LocalizationContext).l10n,O=P&&P.zoom?P.zoom.zoomOut:"Zoom out";return i.createElement(r.MenuItem,{icon:i.createElement(d,null),testId:"zoom__out-menu",onClick:B},O)};c.ZoomInIcon=k,c.ZoomOutIcon=d,c.zoomPlugin=function(w){var B=i.useMemo(function(){return Object.assign({},{enableShortcuts:!0},w)},[]),P=i.useMemo(function(){return r.createStore({})},[]),O=function(K){return i.createElement(C,q({enableShortcuts:B.enableShortcuts},K,{store:P}))},I=function(K){return i.createElement(z,q({enableShortcuts:B.enableShortcuts},K,{store:P}))},$=function(K){return i.createElement(e,q({},K,{store:P}))};return{renderViewer:function(K){var M=K.slot;if(!B.enableShortcuts)return M;var b={children:i.createElement(i.Fragment,null,i.createElement(s,{containerRef:K.containerRef,store:P}),i.createElement(T,{pagesContainerRef:K.pagesContainerRef,store:P}),M.children)};return q(q({},M),b)},install:function(K){P.update("zoom",K.zoom)},onViewerStateChange:function(K){return P.update("scale",K.scale),K},zoomTo:function(K){var M=P.get("zoom");M&&M(K)},CurrentScale:function(K){return i.createElement(U,q({},K,{store:P}))},ZoomIn:O,ZoomInButton:function(){return i.createElement(O,null,function(K){return i.createElement(p,q({},K))})},ZoomInMenuItem:function(K){return i.createElement(O,null,function(M){return i.createElement(L,{onClick:function(){M.onClick(),K.onClick()}})})},ZoomOut:I,ZoomOutButton:function(){return i.createElement(I,null,function(K){return i.createElement(g,q({},K))})},ZoomOutMenuItem:function(K){return i.createElement(I,null,function(M){return i.createElement(Q,{onClick:function(){M.onClick(),K.onClick()}})})},Zoom:$,ZoomPopover:function(K){return i.createElement($,null,function(M){return i.createElement(t,q({levels:K==null?void 0:K.levels},M))})}}}},60440:function(we,c,te){"use strict";/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */we.exports=te(61211)},80258:function(we,c){"use strict";c.byteLength=m,c.toByteArray=W,c.fromByteArray=E;for(var te=[],r=[],H=typeof Uint8Array!="undefined"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,d=i.length;k<d;++k)te[k]=i[k],r[i.charCodeAt(k)]=k;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function q(f){var o=f.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=f.indexOf("=");s===-1&&(s=o);var n=s===o?0:4-s%4;return[s,n]}function m(f){var o=q(f),s=o[0],n=o[1];return(s+n)*3/4-n}function U(f,o,s){return(o+s)*3/4-s}function W(f){var o,s=q(f),n=s[0],a=s[1],t=new H(U(f,n,a)),e=0,u=a>0?n-4:n,p;for(p=0;p<u;p+=4)o=r[f.charCodeAt(p)]<<18|r[f.charCodeAt(p+1)]<<12|r[f.charCodeAt(p+2)]<<6|r[f.charCodeAt(p+3)],t[e++]=o>>16&255,t[e++]=o>>8&255,t[e++]=o&255;return a===2&&(o=r[f.charCodeAt(p)]<<2|r[f.charCodeAt(p+1)]>>4,t[e++]=o&255),a===1&&(o=r[f.charCodeAt(p)]<<10|r[f.charCodeAt(p+1)]<<4|r[f.charCodeAt(p+2)]>>2,t[e++]=o>>8&255,t[e++]=o&255),t}function F(f){return te[f>>18&63]+te[f>>12&63]+te[f>>6&63]+te[f&63]}function T(f,o,s){for(var n,a=[],t=o;t<s;t+=3)n=(f[t]<<16&16711680)+(f[t+1]<<8&65280)+(f[t+2]&255),a.push(F(n));return a.join("")}function E(f){for(var o,s=f.length,n=s%3,a=[],t=16383,e=0,u=s-n;e<u;e+=t)a.push(T(f,e,e+t>u?u:e+t));return n===1?(o=f[s-1],a.push(te[o>>2]+te[o<<4&63]+"==")):n===2&&(o=(f[s-2]<<8)+f[s-1],a.push(te[o>>10]+te[o>>4&63]+te[o<<2&63]+"=")),a.join("")}},48764:function(we,c,te){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=te(80258),H=te(80645),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=m,c.SlowBuffer=t,c.INSPECT_MAX_BYTES=50;var k=2147483647;c.kMaxLength=k,m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var v=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(v,l),v.foo()===42}catch(h){return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function q(v){if(v>k)throw new RangeError('The value "'+v+'" is invalid for option "size"');var l=new Uint8Array(v);return Object.setPrototypeOf(l,m.prototype),l}function m(v,l,h){if(typeof v=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(v)}return U(v,l,h)}m.poolSize=8192;function U(v,l,h){if(typeof v=="string")return E(v,l);if(ArrayBuffer.isView(v))return o(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(N(v,ArrayBuffer)||v&&N(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(N(v,SharedArrayBuffer)||v&&N(v.buffer,SharedArrayBuffer)))return s(v,l,h);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=v.valueOf&&v.valueOf();if(A!=null&&A!==v)return m.from(A,l,h);var Z=n(v);if(Z)return Z;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return m.from(v[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}m.from=function(v,l,h){return U(v,l,h)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function W(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function F(v,l,h){return W(v),v<=0?q(v):l!==void 0?typeof h=="string"?q(v).fill(l,h):q(v).fill(l):q(v)}m.alloc=function(v,l,h){return F(v,l,h)};function T(v){return W(v),q(v<0?0:a(v)|0)}m.allocUnsafe=function(v){return T(v)},m.allocUnsafeSlow=function(v){return T(v)};function E(v,l){if((typeof l!="string"||l==="")&&(l="utf8"),!m.isEncoding(l))throw new TypeError("Unknown encoding: "+l);var h=e(v,l)|0,A=q(h),Z=A.write(v,l);return Z!==h&&(A=A.slice(0,Z)),A}function f(v){for(var l=v.length<0?0:a(v.length)|0,h=q(l),A=0;A<l;A+=1)h[A]=v[A]&255;return h}function o(v){if(N(v,Uint8Array)){var l=new Uint8Array(v);return s(l.buffer,l.byteOffset,l.byteLength)}return f(v)}function s(v,l,h){if(l<0||v.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');var A;return l===void 0&&h===void 0?A=new Uint8Array(v):h===void 0?A=new Uint8Array(v,l):A=new Uint8Array(v,l,h),Object.setPrototypeOf(A,m.prototype),A}function n(v){if(m.isBuffer(v)){var l=a(v.length)|0,h=q(l);return h.length===0||v.copy(h,0,0,l),h}if(v.length!==void 0)return typeof v.length!="number"||X(v.length)?q(0):f(v);if(v.type==="Buffer"&&Array.isArray(v.data))return f(v.data)}function a(v){if(v>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return v|0}function t(v){return+v!=v&&(v=0),m.alloc(+v)}m.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==m.prototype},m.compare=function(l,h){if(N(l,Uint8Array)&&(l=m.from(l,l.offset,l.byteLength)),N(h,Uint8Array)&&(h=m.from(h,h.offset,h.byteLength)),!m.isBuffer(l)||!m.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;for(var A=l.length,Z=h.length,J=0,re=Math.min(A,Z);J<re;++J)if(l[J]!==h[J]){A=l[J],Z=h[J];break}return A<Z?-1:Z<A?1:0},m.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return m.alloc(0);var A;if(h===void 0)for(h=0,A=0;A<l.length;++A)h+=l[A].length;var Z=m.allocUnsafe(h),J=0;for(A=0;A<l.length;++A){var re=l[A];if(N(re,Uint8Array))J+re.length>Z.length?m.from(re).copy(Z,J):Uint8Array.prototype.set.call(Z,re,J);else if(m.isBuffer(re))re.copy(Z,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=re.length}return Z};function e(v,l){if(m.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||N(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var h=v.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&h===0)return 0;for(var Z=!1;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return de(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return ve(v).length;default:if(Z)return A?-1:de(v).length;l=(""+l).toLowerCase(),Z=!0}}m.byteLength=e;function u(v,l,h){var A=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(v||(v="utf8");;)switch(v){case"hex":return M(this,l,h);case"utf8":case"utf-8":return P(this,l,h);case"ascii":return $(this,l,h);case"latin1":case"binary":return K(this,l,h);case"base64":return B(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,l,h);default:if(A)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),A=!0}}m.prototype._isBuffer=!0;function p(v,l,h){var A=v[l];v[l]=v[h],v[h]=A}m.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<l;h+=2)p(this,h,h+1);return this},m.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<l;h+=4)p(this,h,h+3),p(this,h+1,h+2);return this},m.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<l;h+=8)p(this,h,h+7),p(this,h+1,h+6),p(this,h+2,h+5),p(this,h+3,h+4);return this},m.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?P(this,0,l):u.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(l){if(!m.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:m.compare(this,l)===0},m.prototype.inspect=function(){var l="",h=c.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},i&&(m.prototype[i]=m.prototype.inspect),m.prototype.compare=function(l,h,A,Z,J){if(N(l,Uint8Array)&&(l=m.from(l,l.offset,l.byteLength)),!m.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),A===void 0&&(A=l?l.length:0),Z===void 0&&(Z=0),J===void 0&&(J=this.length),h<0||A>l.length||Z<0||J>this.length)throw new RangeError("out of range index");if(Z>=J&&h>=A)return 0;if(Z>=J)return-1;if(h>=A)return 1;if(h>>>=0,A>>>=0,Z>>>=0,J>>>=0,this===l)return 0;for(var re=J-Z,Se=A-h,Ce=Math.min(re,Se),xe=this.slice(Z,J),He=l.slice(h,A),De=0;De<Ce;++De)if(xe[De]!==He[De]){re=xe[De],Se=He[De];break}return re<Se?-1:Se<re?1:0};function C(v,l,h,A,Z){if(v.length===0)return-1;if(typeof h=="string"?(A=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,X(h)&&(h=Z?0:v.length-1),h<0&&(h=v.length+h),h>=v.length){if(Z)return-1;h=v.length-1}else if(h<0)if(Z)h=0;else return-1;if(typeof l=="string"&&(l=m.from(l,A)),m.isBuffer(l))return l.length===0?-1:L(v,l,h,A,Z);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(v,l,h):Uint8Array.prototype.lastIndexOf.call(v,l,h):L(v,[l],h,A,Z);throw new TypeError("val must be string, number or Buffer")}function L(v,l,h,A,Z){var J=1,re=v.length,Se=l.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(v.length<2||l.length<2)return-1;J=2,re/=2,Se/=2,h/=2}function Ce(ne,ae){return J===1?ne[ae]:ne.readUInt16BE(ae*J)}var xe;if(Z){var He=-1;for(xe=h;xe<re;xe++)if(Ce(v,xe)===Ce(l,He===-1?0:xe-He)){if(He===-1&&(He=xe),xe-He+1===Se)return He*J}else He!==-1&&(xe-=xe-He),He=-1}else for(h+Se>re&&(h=re-Se),xe=h;xe>=0;xe--){for(var De=!0,je=0;je<Se;je++)if(Ce(v,xe+je)!==Ce(l,je)){De=!1;break}if(De)return xe}return-1}m.prototype.includes=function(l,h,A){return this.indexOf(l,h,A)!==-1},m.prototype.indexOf=function(l,h,A){return C(this,l,h,A,!0)},m.prototype.lastIndexOf=function(l,h,A){return C(this,l,h,A,!1)};function x(v,l,h,A){h=Number(h)||0;var Z=v.length-h;A?(A=Number(A),A>Z&&(A=Z)):A=Z;var J=l.length;A>J/2&&(A=J/2);for(var re=0;re<A;++re){var Se=parseInt(l.substr(re*2,2),16);if(X(Se))return re;v[h+re]=Se}return re}function g(v,l,h,A){return S(de(l,v.length-h),v,h,A)}function z(v,l,h,A){return S(pe(l),v,h,A)}function Q(v,l,h,A){return S(ve(l),v,h,A)}function w(v,l,h,A){return S(Ee(l,v.length-h),v,h,A)}m.prototype.write=function(l,h,A,Z){if(h===void 0)Z="utf8",A=this.length,h=0;else if(A===void 0&&typeof h=="string")Z=h,A=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(A)?(A=A>>>0,Z===void 0&&(Z="utf8")):(Z=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-h;if((A===void 0||A>J)&&(A=J),l.length>0&&(A<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var re=!1;;)switch(Z){case"hex":return x(this,l,h,A);case"utf8":case"utf-8":return g(this,l,h,A);case"ascii":case"latin1":case"binary":return z(this,l,h,A);case"base64":return Q(this,l,h,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,l,h,A);default:if(re)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),re=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(v,l,h){return l===0&&h===v.length?r.fromByteArray(v):r.fromByteArray(v.slice(l,h))}function P(v,l,h){h=Math.min(v.length,h);for(var A=[],Z=l;Z<h;){var J=v[Z],re=null,Se=J>239?4:J>223?3:J>191?2:1;if(Z+Se<=h){var Ce,xe,He,De;switch(Se){case 1:J<128&&(re=J);break;case 2:Ce=v[Z+1],(Ce&192)==128&&(De=(J&31)<<6|Ce&63,De>127&&(re=De));break;case 3:Ce=v[Z+1],xe=v[Z+2],(Ce&192)==128&&(xe&192)==128&&(De=(J&15)<<12|(Ce&63)<<6|xe&63,De>2047&&(De<55296||De>57343)&&(re=De));break;case 4:Ce=v[Z+1],xe=v[Z+2],He=v[Z+3],(Ce&192)==128&&(xe&192)==128&&(He&192)==128&&(De=(J&15)<<18|(Ce&63)<<12|(xe&63)<<6|He&63,De>65535&&De<1114112&&(re=De))}}re===null?(re=65533,Se=1):re>65535&&(re-=65536,A.push(re>>>10&1023|55296),re=56320|re&1023),A.push(re),Z+=Se}return I(A)}var O=4096;function I(v){var l=v.length;if(l<=O)return String.fromCharCode.apply(String,v);for(var h="",A=0;A<l;)h+=String.fromCharCode.apply(String,v.slice(A,A+=O));return h}function $(v,l,h){var A="";h=Math.min(v.length,h);for(var Z=l;Z<h;++Z)A+=String.fromCharCode(v[Z]&127);return A}function K(v,l,h){var A="";h=Math.min(v.length,h);for(var Z=l;Z<h;++Z)A+=String.fromCharCode(v[Z]);return A}function M(v,l,h){var A=v.length;(!l||l<0)&&(l=0),(!h||h<0||h>A)&&(h=A);for(var Z="",J=l;J<h;++J)Z+=oe[v[J]];return Z}function b(v,l,h){for(var A=v.slice(l,h),Z="",J=0;J<A.length-1;J+=2)Z+=String.fromCharCode(A[J]+A[J+1]*256);return Z}m.prototype.slice=function(l,h){var A=this.length;l=~~l,h=h===void 0?A:~~h,l<0?(l+=A,l<0&&(l=0)):l>A&&(l=A),h<0?(h+=A,h<0&&(h=0)):h>A&&(h=A),h<l&&(h=l);var Z=this.subarray(l,h);return Object.setPrototypeOf(Z,m.prototype),Z};function _(v,l,h){if(v%1!=0||v<0)throw new RangeError("offset is not uint");if(v+l>h)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(l,h,A){l=l>>>0,h=h>>>0,A||_(l,h,this.length);for(var Z=this[l],J=1,re=0;++re<h&&(J*=256);)Z+=this[l+re]*J;return Z},m.prototype.readUintBE=m.prototype.readUIntBE=function(l,h,A){l=l>>>0,h=h>>>0,A||_(l,h,this.length);for(var Z=this[l+--h],J=1;h>0&&(J*=256);)Z+=this[l+--h]*J;return Z},m.prototype.readUint8=m.prototype.readUInt8=function(l,h){return l=l>>>0,h||_(l,1,this.length),this[l]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||_(l,2,this.length),this[l]|this[l+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||_(l,2,this.length),this[l]<<8|this[l+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||_(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},m.prototype.readIntLE=function(l,h,A){l=l>>>0,h=h>>>0,A||_(l,h,this.length);for(var Z=this[l],J=1,re=0;++re<h&&(J*=256);)Z+=this[l+re]*J;return J*=128,Z>=J&&(Z-=Math.pow(2,8*h)),Z},m.prototype.readIntBE=function(l,h,A){l=l>>>0,h=h>>>0,A||_(l,h,this.length);for(var Z=h,J=1,re=this[l+--Z];Z>0&&(J*=256);)re+=this[l+--Z]*J;return J*=128,re>=J&&(re-=Math.pow(2,8*h)),re},m.prototype.readInt8=function(l,h){return l=l>>>0,h||_(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},m.prototype.readInt16LE=function(l,h){l=l>>>0,h||_(l,2,this.length);var A=this[l]|this[l+1]<<8;return A&32768?A|4294901760:A},m.prototype.readInt16BE=function(l,h){l=l>>>0,h||_(l,2,this.length);var A=this[l+1]|this[l]<<8;return A&32768?A|4294901760:A},m.prototype.readInt32LE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},m.prototype.readInt32BE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},m.prototype.readFloatLE=function(l,h){return l=l>>>0,h||_(l,4,this.length),H.read(this,l,!0,23,4)},m.prototype.readFloatBE=function(l,h){return l=l>>>0,h||_(l,4,this.length),H.read(this,l,!1,23,4)},m.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||_(l,8,this.length),H.read(this,l,!0,52,8)},m.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||_(l,8,this.length),H.read(this,l,!1,52,8)};function R(v,l,h,A,Z,J){if(!m.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>Z||l<J)throw new RangeError('"value" argument is out of bounds');if(h+A>v.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(l,h,A,Z){if(l=+l,h=h>>>0,A=A>>>0,!Z){var J=Math.pow(2,8*A)-1;R(this,l,h,A,J,0)}var re=1,Se=0;for(this[h]=l&255;++Se<A&&(re*=256);)this[h+Se]=l/re&255;return h+A},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(l,h,A,Z){if(l=+l,h=h>>>0,A=A>>>0,!Z){var J=Math.pow(2,8*A)-1;R(this,l,h,A,J,0)}var re=A-1,Se=1;for(this[h+re]=l&255;--re>=0&&(Se*=256);)this[h+re]=l/Se&255;return h+A},m.prototype.writeUint8=m.prototype.writeUInt8=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,1,255,0),this[h]=l&255,h+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},m.prototype.writeIntLE=function(l,h,A,Z){if(l=+l,h=h>>>0,!Z){var J=Math.pow(2,8*A-1);R(this,l,h,A,J-1,-J)}var re=0,Se=1,Ce=0;for(this[h]=l&255;++re<A&&(Se*=256);)l<0&&Ce===0&&this[h+re-1]!==0&&(Ce=1),this[h+re]=(l/Se>>0)-Ce&255;return h+A},m.prototype.writeIntBE=function(l,h,A,Z){if(l=+l,h=h>>>0,!Z){var J=Math.pow(2,8*A-1);R(this,l,h,A,J-1,-J)}var re=A-1,Se=1,Ce=0;for(this[h+re]=l&255;--re>=0&&(Se*=256);)l<0&&Ce===0&&this[h+re+1]!==0&&(Ce=1),this[h+re]=(l/Se>>0)-Ce&255;return h+A},m.prototype.writeInt8=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},m.prototype.writeInt16LE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},m.prototype.writeInt16BE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},m.prototype.writeInt32LE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},m.prototype.writeInt32BE=function(l,h,A){return l=+l,h=h>>>0,A||R(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function D(v,l,h,A,Z,J){if(h+A>v.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function V(v,l,h,A,Z){return l=+l,h=h>>>0,Z||D(v,l,h,4,34028234663852886e22,-34028234663852886e22),H.write(v,l,h,A,23,4),h+4}m.prototype.writeFloatLE=function(l,h,A){return V(this,l,h,!0,A)},m.prototype.writeFloatBE=function(l,h,A){return V(this,l,h,!1,A)};function Y(v,l,h,A,Z){return l=+l,h=h>>>0,Z||D(v,l,h,8,17976931348623157e292,-17976931348623157e292),H.write(v,l,h,A,52,8),h+8}m.prototype.writeDoubleLE=function(l,h,A){return Y(this,l,h,!0,A)},m.prototype.writeDoubleBE=function(l,h,A){return Y(this,l,h,!1,A)},m.prototype.copy=function(l,h,A,Z){if(!m.isBuffer(l))throw new TypeError("argument should be a Buffer");if(A||(A=0),!Z&&Z!==0&&(Z=this.length),h>=l.length&&(h=l.length),h||(h=0),Z>0&&Z<A&&(Z=A),Z===A||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),l.length-h<Z-A&&(Z=l.length-h+A);var J=Z-A;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,A,Z):Uint8Array.prototype.set.call(l,this.subarray(A,Z),h),J},m.prototype.fill=function(l,h,A,Z){if(typeof l=="string"){if(typeof h=="string"?(Z=h,h=0,A=this.length):typeof A=="string"&&(Z=A,A=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!m.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(l.length===1){var J=l.charCodeAt(0);(Z==="utf8"&&J<128||Z==="latin1")&&(l=J)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<A)throw new RangeError("Out of range index");if(A<=h)return this;h=h>>>0,A=A===void 0?this.length:A>>>0,l||(l=0);var re;if(typeof l=="number")for(re=h;re<A;++re)this[re]=l;else{var Se=m.isBuffer(l)?l:m.from(l,Z),Ce=Se.length;if(Ce===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(re=0;re<A-h;++re)this[re+h]=Se[re%Ce]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function fe(v){if(v=v.split("=")[0],v=v.trim().replace(ee,""),v.length<2)return"";for(;v.length%4!=0;)v=v+"=";return v}function de(v,l){l=l||Infinity;for(var h,A=v.length,Z=null,J=[],re=0;re<A;++re){if(h=v.charCodeAt(re),h>55295&&h<57344){if(!Z){if(h>56319){(l-=3)>-1&&J.push(239,191,189);continue}else if(re+1===A){(l-=3)>-1&&J.push(239,191,189);continue}Z=h;continue}if(h<56320){(l-=3)>-1&&J.push(239,191,189),Z=h;continue}h=(Z-55296<<10|h-56320)+65536}else Z&&(l-=3)>-1&&J.push(239,191,189);if(Z=null,h<128){if((l-=1)<0)break;J.push(h)}else if(h<2048){if((l-=2)<0)break;J.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;J.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;J.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return J}function pe(v){for(var l=[],h=0;h<v.length;++h)l.push(v.charCodeAt(h)&255);return l}function Ee(v,l){for(var h,A,Z,J=[],re=0;re<v.length&&!((l-=2)<0);++re)h=v.charCodeAt(re),A=h>>8,Z=h%256,J.push(Z),J.push(A);return J}function ve(v){return r.toByteArray(fe(v))}function S(v,l,h,A){for(var Z=0;Z<A&&!(Z+h>=l.length||Z>=v.length);++Z)l[Z+h]=v[Z];return Z}function N(v,l){return v instanceof l||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===l.name}function X(v){return v!==v}var oe=function(){for(var v="0123456789abcdef",l=new Array(256),h=0;h<16;++h)for(var A=h*16,Z=0;Z<16;++Z)l[A+Z]=v[h]+v[Z];return l}()},80645:function(we,c){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(te,r,H,i,k){var d,q,m=k*8-i-1,U=(1<<m)-1,W=U>>1,F=-7,T=H?k-1:0,E=H?-1:1,f=te[r+T];for(T+=E,d=f&(1<<-F)-1,f>>=-F,F+=m;F>0;d=d*256+te[r+T],T+=E,F-=8);for(q=d&(1<<-F)-1,d>>=-F,F+=i;F>0;q=q*256+te[r+T],T+=E,F-=8);if(d===0)d=1-W;else{if(d===U)return q?NaN:(f?-1:1)*Infinity;q=q+Math.pow(2,i),d=d-W}return(f?-1:1)*q*Math.pow(2,d-i)},c.write=function(te,r,H,i,k,d){var q,m,U,W=d*8-k-1,F=(1<<W)-1,T=F>>1,E=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:d-1,o=i?1:-1,s=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===Infinity?(m=isNaN(r)?1:0,q=F):(q=Math.floor(Math.log(r)/Math.LN2),r*(U=Math.pow(2,-q))<1&&(q--,U*=2),q+T>=1?r+=E/U:r+=E*Math.pow(2,1-T),r*U>=2&&(q++,U/=2),q+T>=F?(m=0,q=F):q+T>=1?(m=(r*U-1)*Math.pow(2,k),q=q+T):(m=r*Math.pow(2,T-1)*Math.pow(2,k),q=0));k>=8;te[H+f]=m&255,f+=o,m/=256,k-=8);for(q=q<<k|m,W+=k;W>0;te[H+f]=q&255,f+=o,q/=256,W-=8);te[H+f-o]|=s*128}},99299:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(48764).Buffer,process=__webpack_require__(34155);(function(c,te){module.exports=te()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(we,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VerbosityLevel=c.Util=c.UnknownErrorException=c.UnexpectedResponseException=c.UNSUPPORTED_FEATURES=c.TextRenderingMode=c.RenderingIntentFlag=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.PageActionEventType=c.OPS=c.MissingPDFException=c.LINE_FACTOR=c.LINE_DESCENT_FACTOR=c.InvalidPDFException=c.ImageKind=c.IDENTITY_MATRIX=c.FormatError=c.FeatureTest=c.FONT_IDENTITY_MATRIX=c.DocumentActionEventType=c.CMapCompressionType=c.BaseException=c.BASELINE_FACTOR=c.AnnotationType=c.AnnotationStateModelType=c.AnnotationReviewState=c.AnnotationReplyType=c.AnnotationMode=c.AnnotationMarkedState=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationEditorType=c.AnnotationEditorPrefix=c.AnnotationEditorParamsType=c.AnnotationBorderStyleType=c.AnnotationActionEventType=c.AbortException=void 0,c.assert=M,c.bytesToString=ve,c.createPromiseCapability=je,c.createValidAbsoluteUrl=_,c.getModificationDate=De,c.getVerbosityLevel=O,c.info=I,c.isArrayBuffer=xe,c.isArrayEqual=He,c.objectFromMap=oe,c.objectSize=X,c.setVerbosityLevel=P,c.shadow=R,c.string32=N,c.stringToBytes=S,c.stringToPDFString=re,c.stringToUTF8String=Se,c.unreachable=K,c.utf8StringToString=Ce,c.warn=$;const te=[1,0,0,1,0,0];c.IDENTITY_MATRIX=te;const r=[.001,0,0,.001,0,0];c.FONT_IDENTITY_MATRIX=r;const H=1.35;c.LINE_FACTOR=H;const i=.35;c.LINE_DESCENT_FACTOR=i;const k=i/H;c.BASELINE_FACTOR=k;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};c.RenderingIntentFlag=d;const q={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};c.AnnotationMode=q;const m="pdfjs_internal_editor_";c.AnnotationEditorPrefix=m;const U={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};c.AnnotationEditorType=U;const W={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};c.AnnotationEditorParamsType=W;const F={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};c.PermissionFlag=F;const T={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};c.TextRenderingMode=T;const E={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};c.ImageKind=E;const f={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};c.AnnotationType=f;const o={MARKED:"Marked",REVIEW:"Review"};c.AnnotationStateModelType=o;const s={MARKED:"Marked",UNMARKED:"Unmarked"};c.AnnotationMarkedState=s;const n={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};c.AnnotationReviewState=n;const a={GROUP:"Group",REPLY:"R"};c.AnnotationReplyType=a;const t={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};c.AnnotationFlag=t;const e={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};c.AnnotationFieldFlag=e;const u={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};c.AnnotationBorderStyleType=u;const p={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};c.AnnotationActionEventType=p;const C={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};c.DocumentActionEventType=C;const L={O:"PageOpen",C:"PageClose"};c.PageActionEventType=L;const x={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=x;const g={NONE:0,BINARY:1};c.CMapCompressionType=g;const z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};c.OPS=z;const Q={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};c.UNSUPPORTED_FEATURES=Q;const w={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};c.PasswordResponses=w;let B=x.WARNINGS;function P(ne){Number.isInteger(ne)&&(B=ne)}function O(){return B}function I(ne){B>=x.INFOS&&console.log(`Info: ${ne}`)}function $(ne){B>=x.WARNINGS&&console.log(`Warning: ${ne}`)}function K(ne){throw new Error(ne)}function M(ne,ae){ne||K(ae)}function b(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(ne,ae=null,le=null){if(!ne)return null;try{if(le&&typeof ne=="string"){if(le.addDefaultProtocol&&ne.startsWith("www.")){const Xe=ne.match(/\./g);Xe&&Xe.length>=2&&(ne=`http://${ne}`)}if(le.tryConvertEncoding)try{ne=Se(ne)}catch(Xe){}}const Ae=ae?new URL(ne,ae):new URL(ne);if(b(Ae))return Ae}catch(Ae){}return null}function R(ne,ae,le,Ae=!1){return Object.defineProperty(ne,ae,{value:le,enumerable:!Ae,configurable:!0,writable:!1}),le}const D=function(){function ae(le,Ae){this.constructor===ae&&K("Cannot initialize BaseException."),this.message=le,this.name=Ae}return ae.prototype=new Error,ae.constructor=ae,ae}();c.BaseException=D;class V extends D{constructor(ae,le){super(ae,"PasswordException");this.code=le}}c.PasswordException=V;class Y extends D{constructor(ae,le){super(ae,"UnknownErrorException");this.details=le}}c.UnknownErrorException=Y;class ee extends D{constructor(ae){super(ae,"InvalidPDFException")}}c.InvalidPDFException=ee;class fe extends D{constructor(ae){super(ae,"MissingPDFException")}}c.MissingPDFException=fe;class de extends D{constructor(ae,le){super(ae,"UnexpectedResponseException");this.status=le}}c.UnexpectedResponseException=de;class pe extends D{constructor(ae){super(ae,"FormatError")}}c.FormatError=pe;class Ee extends D{constructor(ae){super(ae,"AbortException")}}c.AbortException=Ee;function ve(ne){(typeof ne!="object"||ne===null||ne.length===void 0)&&K("Invalid argument for bytesToString");const ae=ne.length,le=8192;if(ae<le)return String.fromCharCode.apply(null,ne);const Ae=[];for(let Xe=0;Xe<ae;Xe+=le){const ye=Math.min(Xe+le,ae),ke=ne.subarray(Xe,ye);Ae.push(String.fromCharCode.apply(null,ke))}return Ae.join("")}function S(ne){typeof ne!="string"&&K("Invalid argument for stringToBytes");const ae=ne.length,le=new Uint8Array(ae);for(let Ae=0;Ae<ae;++Ae)le[Ae]=ne.charCodeAt(Ae)&255;return le}function N(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,ne&255)}function X(ne){return Object.keys(ne).length}function oe(ne){const ae=Object.create(null);for(const[le,Ae]of ne)ae[le]=Ae;return ae}function v(){const ne=new Uint8Array(4);return ne[0]=1,new Uint32Array(ne.buffer,0,1)[0]===1}function l(){try{return new Function(""),!0}catch(ne){return!1}}class h{static get isLittleEndian(){return R(this,"isLittleEndian",v())}static get isEvalSupported(){return R(this,"isEvalSupported",l())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}static get platform(){return typeof navigator=="undefined"?R(this,"platform",{isWin:!1,isMac:!1}):R(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}c.FeatureTest=h;const A=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class Z{static makeHexColor(ae,le,Ae){return`#${A[ae]}${A[le]}${A[Ae]}`}static scaleMinMax(ae,le){let Ae;ae[0]?(ae[0]<0&&(Ae=le[0],le[0]=le[1],le[1]=Ae),le[0]*=ae[0],le[1]*=ae[0],ae[3]<0&&(Ae=le[2],le[2]=le[3],le[3]=Ae),le[2]*=ae[3],le[3]*=ae[3]):(Ae=le[0],le[0]=le[2],le[2]=Ae,Ae=le[1],le[1]=le[3],le[3]=Ae,ae[1]<0&&(Ae=le[2],le[2]=le[3],le[3]=Ae),le[2]*=ae[1],le[3]*=ae[1],ae[2]<0&&(Ae=le[0],le[0]=le[1],le[1]=Ae),le[0]*=ae[2],le[1]*=ae[2]),le[0]+=ae[4],le[1]+=ae[4],le[2]+=ae[5],le[3]+=ae[5]}static transform(ae,le){return[ae[0]*le[0]+ae[2]*le[1],ae[1]*le[0]+ae[3]*le[1],ae[0]*le[2]+ae[2]*le[3],ae[1]*le[2]+ae[3]*le[3],ae[0]*le[4]+ae[2]*le[5]+ae[4],ae[1]*le[4]+ae[3]*le[5]+ae[5]]}static applyTransform(ae,le){const Ae=ae[0]*le[0]+ae[1]*le[2]+le[4],Xe=ae[0]*le[1]+ae[1]*le[3]+le[5];return[Ae,Xe]}static applyInverseTransform(ae,le){const Ae=le[0]*le[3]-le[1]*le[2],Xe=(ae[0]*le[3]-ae[1]*le[2]+le[2]*le[5]-le[4]*le[3])/Ae,ye=(-ae[0]*le[1]+ae[1]*le[0]+le[4]*le[1]-le[5]*le[0])/Ae;return[Xe,ye]}static getAxialAlignedBoundingBox(ae,le){const Ae=Z.applyTransform(ae,le),Xe=Z.applyTransform(ae.slice(2,4),le),ye=Z.applyTransform([ae[0],ae[3]],le),ke=Z.applyTransform([ae[2],ae[1]],le);return[Math.min(Ae[0],Xe[0],ye[0],ke[0]),Math.min(Ae[1],Xe[1],ye[1],ke[1]),Math.max(Ae[0],Xe[0],ye[0],ke[0]),Math.max(Ae[1],Xe[1],ye[1],ke[1])]}static inverseTransform(ae){const le=ae[0]*ae[3]-ae[1]*ae[2];return[ae[3]/le,-ae[1]/le,-ae[2]/le,ae[0]/le,(ae[2]*ae[5]-ae[4]*ae[3])/le,(ae[4]*ae[1]-ae[5]*ae[0])/le]}static singularValueDecompose2dScale(ae){const le=[ae[0],ae[2],ae[1],ae[3]],Ae=ae[0]*le[0]+ae[1]*le[2],Xe=ae[0]*le[1]+ae[1]*le[3],ye=ae[2]*le[0]+ae[3]*le[2],ke=ae[2]*le[1]+ae[3]*le[3],Oe=(Ae+ke)/2,Be=Math.sqrt(En(Ae+ke,2)-4*(Ae*ke-ye*Xe))/2,ht=Oe+Be||1,Ve=Oe-Be||1;return[Math.sqrt(ht),Math.sqrt(Ve)]}static normalizeRect(ae){const le=ae.slice(0);return ae[0]>ae[2]&&(le[0]=ae[2],le[2]=ae[0]),ae[1]>ae[3]&&(le[1]=ae[3],le[3]=ae[1]),le}static intersect(ae,le){const Ae=Math.max(Math.min(ae[0],ae[2]),Math.min(le[0],le[2])),Xe=Math.min(Math.max(ae[0],ae[2]),Math.max(le[0],le[2]));if(Ae>Xe)return null;const ye=Math.max(Math.min(ae[1],ae[3]),Math.min(le[1],le[3])),ke=Math.min(Math.max(ae[1],ae[3]),Math.max(le[1],le[3]));return ye>ke?null:[Ae,ye,Xe,ke]}static bezierBoundingBox(ae,le,Ae,Xe,ye,ke,Oe,Be){const ht=[],Ve=[[],[]];let Ye,rt,pt,it,It,mt,At,Ht;for(let Zt=0;Zt<2;++Zt){if(Zt===0?(rt=6*ae-12*Ae+6*ye,Ye=-3*ae+9*Ae-9*ye+3*Oe,pt=3*Ae-3*ae):(rt=6*le-12*Xe+6*ke,Ye=-3*le+9*Xe-9*ke+3*Be,pt=3*Xe-3*le),Math.abs(Ye)<1e-12){if(Math.abs(rt)<1e-12)continue;it=-pt/rt,0<it&&it<1&&ht.push(it);continue}At=rt*rt-4*pt*Ye,Ht=Math.sqrt(At),!(At<0)&&(It=(-rt+Ht)/(2*Ye),0<It&&It<1&&ht.push(It),mt=(-rt-Ht)/(2*Ye),0<mt&&mt<1&&ht.push(mt))}let Nt=ht.length,Pt;const Mt=Nt;for(;Nt--;)it=ht[Nt],Pt=1-it,Ve[0][Nt]=Pt*Pt*Pt*ae+3*Pt*Pt*it*Ae+3*Pt*it*it*ye+it*it*it*Oe,Ve[1][Nt]=Pt*Pt*Pt*le+3*Pt*Pt*it*Xe+3*Pt*it*it*ke+it*it*it*Be;return Ve[0][Mt]=ae,Ve[1][Mt]=le,Ve[0][Mt+1]=Oe,Ve[1][Mt+1]=Be,Ve[0].length=Ve[1].length=Mt+2,[Math.min(...Ve[0]),Math.min(...Ve[1]),Math.max(...Ve[0]),Math.max(...Ve[1])]}}c.Util=Z;const J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function re(ne){if(ne[0]>="\xEF"){let le;if(ne[0]==="\xFE"&&ne[1]==="\xFF"?le="utf-16be":ne[0]==="\xFF"&&ne[1]==="\xFE"?le="utf-16le":ne[0]==="\xEF"&&ne[1]==="\xBB"&&ne[2]==="\xBF"&&(le="utf-8"),le)try{const Ae=new TextDecoder(le,{fatal:!0}),Xe=S(ne);return Ae.decode(Xe)}catch(Ae){$(`stringToPDFString: "${Ae}".`)}}const ae=[];for(let le=0,Ae=ne.length;le<Ae;le++){const Xe=J[ne.charCodeAt(le)];ae.push(Xe?String.fromCharCode(Xe):ne.charAt(le))}return ae.join("")}function Se(ne){return decodeURIComponent(escape(ne))}function Ce(ne){return unescape(encodeURIComponent(ne))}function xe(ne){return typeof ne=="object"&&ne!==null&&ne.byteLength!==void 0}function He(ne,ae){if(ne.length!==ae.length)return!1;for(let le=0,Ae=ne.length;le<Ae;le++)if(ne[le]!==ae[le])return!1;return!0}function De(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")}function je(){const ne=Object.create(null);let ae=!1;return Object.defineProperty(ne,"settled",{get(){return ae}}),ne.promise=new Promise(function(le,Ae){ne.resolve=function(Xe){ae=!0,le(Xe)},ne.reject=function(Xe){ae=!0,Ae(Xe)}}),ne}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var we,c,r,H,i,k,d,q,m,U,Er,F,T,Sr,f,o;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:n,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:t}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=n,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=t}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:n}=__w_pdfjs_require__(21);createPDFNetworkStream=a=>new n(a)}else{const{PDFNetworkStream:n}=__w_pdfjs_require__(24),{PDFFetchStream:a}=__w_pdfjs_require__(25);createPDFNetworkStream=t=>(0,_display_utils.isValidFetchUrl)(t.url)?new a(t):new n(t)}function getDocument(n){var l,h;if(typeof n=="string"||n instanceof URL)n={url:n};else if((0,_util.isArrayBuffer)(n))n={data:n};else if(n instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),n={range:n};else if(typeof n!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,t=n.url?getUrlProp(n.url):null,e=n.data?getDataProp(n.data):null,u=n.httpHeaders||null,p=n.withCredentials===!0,C=(l=n.password)!=null?l:null,L=n.range instanceof PDFDataRangeTransport?n.range:null,x=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let g=n.worker instanceof PDFWorker?n.worker:null;const z=n.verbosity,Q=typeof n.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(n.docBaseUrl)?n.docBaseUrl:null,w=typeof n.cMapUrl=="string"?n.cMapUrl:null,B=n.cMapPacked!==!1,P=n.CMapReaderFactory||DefaultCMapReaderFactory,O=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,I=n.StandardFontDataFactory||DefaultStandardFontDataFactory,$=n.stopAtErrors!==!0,K=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,M=n.isEvalSupported!==!1,b=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!_is_node.isNodeJS,_=typeof n.disableFontFace=="boolean"?n.disableFontFace:_is_node.isNodeJS,R=n.fontExtraProperties===!0,D=n.enableXfa===!0,V=n.ownerDocument||globalThis.document,Y=n.disableRange===!0,ee=n.disableStream===!0,fe=n.disableAutoFetch===!0,de=n.pdfBug===!0,pe=L?L.length:(h=n.length)!=null?h:NaN,Ee=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!_is_node.isNodeJS&&!_,ve=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:P===_display_utils.DOMCMapReaderFactory&&I===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(w,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(O,document.baseURI),S=null;(0,_util.setVerbosityLevel)(z);const N=ve?null:{cMapReaderFactory:new P({baseUrl:w,isCompressed:B}),standardFontDataFactory:new I({baseUrl:O})};if(!g){const A={verbosity:z,port:_worker_options.GlobalWorkerOptions.workerPort};g=A.port?PDFWorker.fromPort(A):new PDFWorker(A),a._worker=g}const X=a.docId,oe={docId:X,apiVersion:"3.4.120",data:e,password:C,disableAutoFetch:fe,rangeChunkSize:x,length:pe,docBaseUrl:Q,enableXfa:D,evaluatorOptions:{maxImageSize:K,disableFontFace:_,ignoreErrors:$,isEvalSupported:M,isOffscreenCanvasSupported:b,fontExtraProperties:R,useSystemFonts:Ee,cMapUrl:ve?w:null,standardFontDataUrl:ve?O:null}},v={ignoreErrors:$,isEvalSupported:M,disableFontFace:_,fontExtraProperties:R,enableXfa:D,ownerDocument:V,disableAutoFetch:fe,pdfBug:de,styleElement:S};return g.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const A=_fetchDocument(g,oe),Z=new Promise(function(J){let re;L?re=new _transport_stream.PDFDataTransportStream({length:pe,initialData:L.initialData,progressiveDone:L.progressiveDone,contentDispositionFilename:L.contentDispositionFilename,disableRange:Y,disableStream:ee},L):e||(re=createPDFNetworkStream({url:t,length:pe,httpHeaders:u,withCredentials:p,rangeChunkSize:x,disableRange:Y,disableStream:ee})),J(re)});return Promise.all([A,Z]).then(function([J,re]){if(a.destroyed)throw new Error("Loading aborted");const Se=new _message_handler.MessageHandler(X,J,g.port),Ce=new WorkerTransport(Se,a,re,v,N);a._transport=Ce,Se.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(n,a){return Xt(this,null,function*(){if(n.destroyed)throw new Error("Worker was destroyed");const t=yield n.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(n.destroyed)throw new Error("Worker was destroyed");return t})}function getUrlProp(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch(a){if(_is_node.isNodeJS&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(n){if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&n instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(n);if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return(0,_util.stringToBytes)(n);if(typeof n=="object"&&!isNaN(n==null?void 0:n.length)||(0,_util.isArrayBuffer)(n))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const te=class{constructor(){c.set(this,null);var a;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${ze(te,we,(a=+G(te,we))+1),a}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return G(this,c)}set onUnsupportedFeature(a){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),ze(this,c,a)}get promise(){return this._capability.promise}destroy(){return Xt(this,null,function*(){var a;this.destroyed=!0,yield(a=this._transport)==null?void 0:a.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}};let PDFDocumentLoadingTask=te;we=new WeakMap,c=new WeakMap,we.set(PDFDocumentLoadingTask,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,t,e=!1,u=null){this.length=a,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=u,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,t){for(const e of this._rangeListeners)e(a,t)}onDataProgress(a,t){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(a,t)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,t){this._pdfInfo=a,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,t,e,u,p=!1){this._pageIndex=a,this._pageInfo=t,this._ownerDocument=u,this._transport=e,this._stats=p?new _display_utils.StatTimer:null,this._pdfBug=p,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:t=this.rotate,offsetX:e=0,offsetY:u=0,dontFlip:p=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:t,offsetX:e,offsetY:u,dontFlip:p})}getAnnotations({intent:a="display"}={}){const t=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return Xt(this,null,function*(){var a;return((a=this._transport._htmlForXfa)==null?void 0:a.children[this._pageIndex])||null})}render({canvasContext:a,viewport:t,intent:e="display",annotationMode:u=_util.AnnotationMode.ENABLE,transform:p=null,canvasFactory:C=null,background:L=null,optionalContentConfigPromise:x=null,annotationCanvasMap:g=null,pageColors:z=null,printAnnotationStorage:Q=null}){var M,b;(M=this._stats)==null||M.time("Overall");const w=this._transport.getRenderingIntent(e,u,Q);this.pendingCleanup=!1,x||(x=this._transport.getOptionalContentConfig());let B=this._intentStates.get(w.cacheKey);B||(B=Object.create(null),this._intentStates.set(w.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);const P=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),O=!!(w.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=(0,_util.createPromiseCapability)(),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(b=this._stats)==null||b.time("Page Request"),this._pumpOperatorList(w));const I=_=>{var R,D;B.renderTasks.delete($),(this.cleanupAfterRender||O)&&(this.pendingCleanup=!0),this._tryCleanup(),_?($.capability.reject(_),this._abortOperatorList({intentState:B,reason:_ instanceof Error?_:new Error(_)})):$.capability.resolve(),(R=this._stats)==null||R.timeEnd("Rendering"),(D=this._stats)==null||D.timeEnd("Overall")},$=new InternalRenderTask({callback:I,params:{canvasContext:a,viewport:t,transform:p,background:L},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:g,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:P,useRequestAnimationFrame:!O,pdfBug:this._pdfBug,pageColors:z});(B.renderTasks||(B.renderTasks=new Set)).add($);const K=$.task;return Promise.all([B.displayReadyCapability.promise,x]).then(([_,R])=>{var D;if(this.pendingCleanup){I();return}(D=this._stats)==null||D.time("Rendering"),$.initializeGraphics({transparency:_,optionalContentConfig:R}),$.operatorListChanged()}).catch(I),K}getOperatorList({intent:a="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:e=null}={}){var x;function u(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(L))}const p=this._transport.getRenderingIntent(a,t,e,!0);let C=this._intentStates.get(p.cacheKey);C||(C=Object.create(null),this._intentStates.set(p.cacheKey,C));let L;return C.opListReadCapability||(L=Object.create(null),L.operatorListChanged=u,C.opListReadCapability=(0,_util.createPromiseCapability)(),(C.renderTasks||(C.renderTasks=new Set)).add(L),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(p)),C.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:t=!1}={}){const e=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:a!==!0,includeMarkedContent:t===!0},{highWaterMark:e,size(u){return u.items.length}})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));const t=this.streamTextContent(a);return new Promise(function(e,u){function p(){C.read().then(function({value:x,done:g}){if(g){e(L);return}Object.assign(L.styles,x.styles),L.items.push(...x.items),p()},u)}const C=t.getReader(),L={items:[],styles:Object.create(null)};p()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const e of t.renderTasks)a.push(e.completed),e.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),a&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(a,t){var u,p;const e=this._intentStates.get(t);!e||((u=this._stats)==null||u.timeEnd("Page Request"),(p=e.displayReadyCapability)==null||p.resolve(a))}_renderPageChunk(a,t){for(let e=0,u=a.length;e<u;e++)t.operatorList.fnArray.push(a.fnArray[e]),t.operatorList.argsArray.push(a.argsArray[e]);t.operatorList.lastChunk=a.lastChunk,t.operatorList.separateAnnots=a.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:t,annotationStorageMap:e}){const p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:t,annotationStorage:e}).getReader(),C=this._intentStates.get(t);C.streamReader=p;const L=()=>{p.read().then(({value:x,done:g})=>{if(g){C.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(x,C),L())},x=>{if(C.streamReader=null,!this._transport.destroyed){if(C.operatorList){C.operatorList.lastChunk=!0;for(const g of C.renderTasks)g.operatorListChanged();this._tryCleanup()}if(C.displayReadyCapability)C.displayReadyCapability.reject(x);else if(C.opListReadCapability)C.opListReadCapability.reject(x);else throw x}})};L()}_abortOperatorList({intentState:a,reason:t,force:e=!1}){if(!!a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!e){if(a.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){let u=RENDERING_CANCELLED_TIMEOUT;t.extraDelay>0&&t.extraDelay<1e3&&(u+=t.extraDelay),a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:t,force:!0})},u);return}}if(a.streamReader.cancel(new _util.AbortException(t.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[u,p]of this._intentStates)if(p===a){this._intentStates.delete(u);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){r.set(this,new Set);H.set(this,Promise.resolve())}postMessage(a,t){const e={data:structuredClone(a,t)};G(this,H).then(()=>{for(const u of G(this,r))u.call(this,e)})}addEventListener(a,t){G(this,r).add(t)}removeEventListener(a,t){G(this,r).delete(t)}terminate(){G(this,r).clear()}}r=new WeakMap,H=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const n=(i=document==null?void 0:document.currentScript)==null?void 0:i.src;n&&(PDFWorkerUtil.fallbackWorkerSrc=n.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(n,a){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch(u){return!1}const e=new URL(a,t);return t.origin===e.origin},PDFWorkerUtil.createCDNWrapper=function(n){const a=`importScripts("${n}");`;return URL.createObjectURL(new Blob([a]))}}const _PDFWorker=class{constructor({name:n=null,port:a=null,verbosity:t=(0,_util.getVerbosityLevel)()}={}){if(a&&G(_PDFWorker,k).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.verbosity=t,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a){G(_PDFWorker,k).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(n){this._port=n,this._messageHandler=new _message_handler.MessageHandler("main","worker",n),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:n}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,n)||(n=PDFWorkerUtil.createCDNWrapper(new URL(n,window.location).href));const a=new Worker(n),t=new _message_handler.MessageHandler("main","worker",a),e=()=>{a.removeEventListener("error",u),t.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},u=()=>{this._webWorker||e()};a.addEventListener("error",u),t.on("test",C=>{if(a.removeEventListener("error",u),this.destroyed){e();return}C?(this._messageHandler=t,this._port=a,this._webWorker=a,this._readyCapability.resolve(),t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),t.destroy(),a.terminate())}),t.on("ready",C=>{if(a.removeEventListener("error",u),this.destroyed){e();return}try{p()}catch(L){this._setupFakeWorker()}});const p=()=>{const C=new Uint8Array;t.send("test",C,[C.buffer])};p();return}catch(a){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(n=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const t=`fake${PDFWorkerUtil.fakeWorkerId++}`,e=new _message_handler.MessageHandler(t+"_worker",t,a);n.setup(e,a);const u=new _message_handler.MessageHandler(t,t+"_worker",a);this._messageHandler=u,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})}).catch(n=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${n.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),G(_PDFWorker,k).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(n){if(!(n==null?void 0:n.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return G(this,k).has(n.port)?G(this,k).get(n.port):new _PDFWorker(n)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var n;try{return((n=globalThis.pdfjsWorker)==null?void 0:n.WorkerMessageHandler)||null}catch(a){return null}}static get _setupFakeWorkerGlobal(){const loader=()=>Xt(this,null,function*(){const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;k=new WeakMap,k.set(PDFWorker,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,t,e,u,p){U.add(this);d.set(this,new Map);q.set(this,new Map);m.set(this,new Map);this.messageHandler=a,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:u.ownerDocument,styleElement:u.styleElement}),this._params=u,this.cMapReaderFactory=p==null?void 0:p.cMapReaderFactory,this.standardFontDataFactory=p==null?void 0:p.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a,t=_util.AnnotationMode.ENABLE,e=null,u=!1){let p=_util.RenderingIntentFlag.DISPLAY,C=null;switch(a){case"any":p=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":p=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(t){case _util.AnnotationMode.DISABLE:p+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:p+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:p+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,C=(p&_util.RenderingIntentFlag.PRINT&&e instanceof _annotation_storage.PrintAnnotationStorage?e:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return u&&(p+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:p,cacheKey:`${p}_${_annotation_storage.AnnotationStorage.getHash(C)}`,annotationStorageMap:C}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const e of G(this,q).values())a.push(e._destroy());G(this,q).clear(),G(this,m).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return a.push(t),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),G(this,d).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:t}=this;a.on("GetReader",(e,u)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=p=>{this._lastProgress={loaded:p.loaded,total:p.total}},u.onPull=()=>{this._fullReader.read().then(function({value:p,done:C}){if(C){u.close();return}(0,_util.assert)(p instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(p),1,[p])}).catch(p=>{u.error(p)})},u.onCancel=p=>{this._fullReader.cancel(p),u.ready.catch(C=>{if(!this.destroyed)throw C})}}),a.on("ReaderHeadersReady",e=>{const u=(0,_util.createPromiseCapability)(),p=this._fullReader;return p.headersReady.then(()=>{var C;(!p.isStreamingSupported||!p.isRangeSupported)&&(this._lastProgress&&((C=t.onProgress)==null||C.call(t,this._lastProgress)),p.onProgress=L=>{var x;(x=t.onProgress)==null||x.call(t,{loaded:L.loaded,total:L.total})}),u.resolve({isStreamingSupported:p.isStreamingSupported,isRangeSupported:p.isRangeSupported,contentLength:p.contentLength})},u.reject),u.promise}),a.on("GetRangeReader",(e,u)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const p=this._networkStream.getRangeReader(e.begin,e.end);if(!p){u.close();return}u.onPull=()=>{p.read().then(function({value:C,done:L}){if(L){u.close();return}(0,_util.assert)(C instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(C),1,[C])}).catch(C=>{u.error(C)})},u.onCancel=C=>{p.cancel(C),u.ready.catch(L=>{if(!this.destroyed)throw L})}}),a.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(e,this))}),a.on("DocException",function(e){let u;switch(e.name){case"PasswordException":u=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":u=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":u=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":u=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":u=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(u)}),a.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const u=p=>{p instanceof Error?this._passwordCapability.reject(p):this._passwordCapability.resolve({password:p})};try{t.onPassword(u,e.code)}catch(p){this._passwordCapability.reject(p)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),a.on("DataLoaded",e=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),a.on("StartRenderPage",e=>{if(this.destroyed)return;G(this,q).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),a.on("commonobj",([e,u,p])=>{var C;if(!this.destroyed&&!this.commonObjs.has(e))switch(u){case"Font":const L=this._params;if("error"in p){const z=p.error;(0,_util.warn)(`Error during font loading: ${z}`),this.commonObjs.resolve(e,z);break}let x=null;L.pdfBug&&((C=globalThis.FontInspector)==null?void 0:C.enabled)&&(x={registerFont(z,Q){globalThis.FontInspector.fontAdded(z,Q)}});const g=new _font_loader.FontFaceObject(p,{isEvalSupported:L.isEvalSupported,disableFontFace:L.disableFontFace,ignoreErrors:L.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:x});this.fontLoader.bind(g).catch(z=>a.sendWithPromise("FontFallback",{id:e})).finally(()=>{!L.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(e,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(e,p);break;default:throw new Error(`Got unknown common object type ${u}`)}}),a.on("obj",([e,u,p,C])=>{var x;if(this.destroyed)return;const L=G(this,q).get(u);if(!L.objs.has(e))switch(p){case"Image":L.objs.resolve(e,C);const g=8e6;if(C){let z;if(C.bitmap){const{width:Q,height:w}=C;z=Q*w*4}else z=((x=C.data)==null?void 0:x.length)||0;z>g&&(L.cleanupAfterRender=!0)}break;case"Pattern":L.objs.resolve(e,C);break;default:throw new Error(`Got unknown object type ${p}`)}}),a.on("DocProgress",e=>{var u;this.destroyed||(u=t.onProgress)==null||u.call(t,{loaded:e.loaded,total:e.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){var t,e;this.destroyed||(e=(t=this.loadingTask).onUnsupportedFeature)==null||e.call(t,a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a,t;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(a=this._fullReader)==null?void 0:a.filename)!=null?t:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=a-1,e=G(this,m).get(t);if(e)return e;const u=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(p=>{if(this.destroyed)throw new Error("Transport destroyed");const C=new PDFPageProxy(t,p,this,this._params.ownerDocument,this._params.pdfBug);return G(this,q).set(t,C),C});return G(this,m).set(t,u),u}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:t})}getFieldObjects(){return Re(this,U,Er).call(this,"GetFieldObjects")}hasJSActions(){return Re(this,U,Er).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",t=G(this,d).get(a);if(t)return t;const e=this.messageHandler.sendWithPromise(a,null).then(u=>{var p,C,L,x;return{info:u[0],metadata:u[1]?new _metadata.Metadata(u[1]):null,contentDispositionFilename:(C=(p=this._fullReader)==null?void 0:p.filename)!=null?C:null,contentLength:(x=(L=this._fullReader)==null?void 0:L.contentLength)!=null?x:null}});return G(this,d).set(a,e),e}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){return Xt(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(const t of G(this,q).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),G(this,d).clear()}})}get loadingParams(){const{disableAutoFetch:a,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:t})}}d=new WeakMap,q=new WeakMap,m=new WeakMap,U=new WeakSet,Er=function(a,t=null){const e=G(this,d).get(a);if(e)return e;const u=this.messageHandler.sendWithPromise(a,t);return G(this,d).set(a,u),u};class PDFObjects{constructor(){T.add(this);F.set(this,Object.create(null))}get(a,t=null){if(t){const u=Re(this,T,Sr).call(this,a);return u.capability.promise.then(()=>t(u.data)),null}const e=G(this,F)[a];if(!(e==null?void 0:e.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${a}.`);return e.data}has(a){const t=G(this,F)[a];return(t==null?void 0:t.capability.settled)||!1}resolve(a,t=null){const e=Re(this,T,Sr).call(this,a);e.data=t,e.capability.resolve()}clear(){var a;for(const t in G(this,F)){const{data:e}=G(this,F)[t];(a=e==null?void 0:e.bitmap)==null||a.close()}ze(this,F,Object.create(null))}}F=new WeakMap,T=new WeakSet,Sr=function(a){const t=G(this,F)[a];return t||(G(this,F)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){f.set(this,null);ze(this,f,a),this.onContinue=null}get promise(){return G(this,f).capability.promise}cancel(a=0){G(this,f).cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=G(this,f).operatorList;if(!a)return!1;const{annotationCanvasMap:t}=G(this,f);return a.form||a.canvas&&(t==null?void 0:t.size)>0}}f=new WeakMap,exports.RenderTask=RenderTask;const s=class{constructor({callback:a,params:t,objs:e,commonObjs:u,annotationCanvasMap:p,operatorList:C,pageIndex:L,canvasFactory:x,useRequestAnimationFrame:g=!1,pdfBug:z=!1,pageColors:Q=null}){this.callback=a,this.params=t,this.objs=e,this.commonObjs=u,this.annotationCanvasMap=p,this.operatorListIdx=null,this.operatorList=C,this._pageIndex=L,this.canvasFactory=x,this._pdfBug=z,this.pageColors=Q,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:t}){var L,x;if(this.cancelled)return;if(this._canvas){if(G(s,o).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");G(s,o).add(this._canvas)}this._pdfBug&&((L=globalThis.StepperManager)==null?void 0:L.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:e,viewport:u,transform:p,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:p,viewport:u,transparency:a,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,(x=this.graphicsReadyCallback)==null||x.call(this)}cancel(a=null,t=0){var e;this.running=!1,this.cancelled=!0,(e=this.gfx)==null||e.endDrawing(),this._canvas&&G(s,o).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",t))}operatorListChanged(){var a;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(a=this.stepper)==null||a.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return Xt(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&G(s,o).delete(this._canvas),this.callback())))})}};let InternalRenderTask=s;o=new WeakMap,o.set(InternalRenderTask,new WeakSet);const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(we,c,te)=>{var q,m,U,zi,F;Object.defineProperty(c,"__esModule",{value:!0}),c.PrintAnnotationStorage=c.AnnotationStorage=void 0;var r=te(1),H=te(4),i=te(8);class k{constructor(){U.add(this);q.set(this,!1);m.set(this,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(E,f){const o=G(this,m).get(E);return o===void 0?f:Object.assign(f,o)}getRawValue(E){return G(this,m).get(E)}remove(E){if(G(this,m).delete(E),G(this,m).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const f of G(this,m).values())if(f instanceof H.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(E,f){const o=G(this,m).get(E);let s=!1;if(o!==void 0)for(const[n,a]of Object.entries(f))o[n]!==a&&(s=!0,o[n]=a);else s=!0,G(this,m).set(E,f);s&&Re(this,U,zi).call(this),f instanceof H.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(f.constructor._type)}has(E){return G(this,m).has(E)}getAll(){return G(this,m).size>0?(0,r.objectFromMap)(G(this,m)):null}setAll(E){for(const[f,o]of Object.entries(E))this.setValue(f,o)}get size(){return G(this,m).size}resetModified(){G(this,q)&&(ze(this,q,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(G(this,m).size===0)return null;const E=new Map;for(const[f,o]of G(this,m)){const s=o instanceof H.AnnotationEditor?o.serialize():o;s&&E.set(f,s)}return E}static getHash(E){if(!E)return"";const f=new i.MurmurHash3_64;for(const[o,s]of E)f.update(`${o}:${JSON.stringify(s)}`);return f.hexdigest()}}q=new WeakMap,m=new WeakMap,U=new WeakSet,zi=function(){G(this,q)||(ze(this,q,!0),typeof this.onSetModified=="function"&&this.onSetModified())},c.AnnotationStorage=k;class d extends k{constructor(E){super();F.set(this,null);ze(this,F,structuredClone(E.serializable))}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return G(this,F)}}F=new WeakMap,c.PrintAnnotationStorage=d},(we,c,te)=>{var k,d,q,m,U,W;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditor=void 0;var r=te(5),H=te(1);const F=class{constructor(E){k.set(this,this.focusin.bind(this));d.set(this,this.focusout.bind(this));q.set(this,!1);m.set(this,!1);U.set(this,!1);Dt(this,"_uiManager",null);W.set(this,F._zIndex++);this.constructor===F&&(0,H.unreachable)("Cannot initialize AnnotationEditor."),this.parent=E.parent,this.id=E.id,this.width=this.height=null,this.pageIndex=E.parent.pageIndex,this.name=E.name,this.div=null,this._uiManager=E.uiManager;const{rotation:f,rawDims:{pageWidth:o,pageHeight:s,pageX:n,pageY:a}}=this.parent.viewport;this.rotation=f,this.pageDimensions=[o,s],this.pageTranslation=[n,a];const[t,e]=this.parentDimensions;this.x=E.x/t,this.y=E.y/e,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,H.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(E){this._uiManager.addCommands(E)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=G(this,W)}setParent(E){E!==null&&(this.pageIndex=E.pageIndex,this.pageDimensions=E.pageDimensions),this.parent=E}focusin(E){G(this,q)?ze(this,q,!1):this.parent.setSelected(this)}focusout(E){var o;if(!this.isAttachedToDOM)return;const f=E.relatedTarget;(f==null?void 0:f.closest(`#${this.id}`))||(E.preventDefault(),((o=this.parent)==null?void 0:o.isMultipleSelection)||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(E){const f=this.parent.div.getBoundingClientRect();this.startX=E.clientX-f.x,this.startY=E.clientY-f.y,E.dataTransfer.setData("text/plain",this.id),E.dataTransfer.effectAllowed="move"}setAt(E,f,o,s){const[n,a]=this.parentDimensions;[o,s]=this.screenToPageTranslation(o,s),this.x=(E+o)/n,this.y=(f+s)/a,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(E,f){const[o,s]=this.parentDimensions;[E,f]=this.screenToPageTranslation(E,f),this.x+=E/o,this.y+=f/s,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(E,f){switch(this.parentRotation){case 90:return[f,-E];case 180:return[-E,-f];case 270:return[-f,E];default:return[E,f]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:E}=this._uiManager.viewParameters,[f,o]=this.pageDimensions;return[f*E,o*E]}setDims(E,f){const[o,s]=this.parentDimensions;this.div.style.width=`${100*E/o}%`,this.div.style.height=`${100*f/s}%`}fixDims(){const{style:E}=this.div,{height:f,width:o}=E,s=o.endsWith("%"),n=f.endsWith("%");if(s&&n)return;const[a,t]=this.parentDimensions;s||(E.width=`${100*parseFloat(o)/a}%`),n||(E.height=`${100*parseFloat(f)/t}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",G(this,k)),this.div.addEventListener("focusout",G(this,d));const[E,f]=this.getInitialTranslation();return this.translate(E,f),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(E){const{isMac:f}=H.FeatureTest.platform;if(E.button!==0||E.ctrlKey&&f){E.preventDefault();return}E.ctrlKey&&!f||E.shiftKey||E.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this),ze(this,q,!0)}getRect(E,f){const o=this.parentScale,[s,n]=this.pageDimensions,[a,t]=this.pageTranslation,e=E/o,u=f/o,p=this.x*s,C=this.y*n,L=this.width*s,x=this.height*n;switch(this.rotation){case 0:return[p+e+a,n-C-u-x+t,p+e+L+a,n-C-u+t];case 90:return[p+u+a,n-C+e+t,p+u+x+a,n-C+e+L+t];case 180:return[p-e-L+a,n-C+u+t,p-e+a,n-C+u+x+t];case 270:return[p-u-x+a,n-C-e-L+t,p-u+a,n-C-e+t];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(E,f){const[o,s,n,a]=E,t=n-o,e=a-s;switch(this.rotation){case 0:return[o,f-a,t,e];case 90:return[o,f-s,e,t];case 180:return[n,f-s,t,e];case 270:return[n,f-a,e,t];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ze(this,U,!0)}disableEditMode(){ze(this,U,!1)}isInEditMode(){return G(this,U)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var E;(E=this.div)==null||E.addEventListener("focusin",G(this,k))}serialize(){(0,H.unreachable)("An editor must be serializable")}static deserialize(E,f,o){const s=new this.prototype.constructor({parent:f,id:f.getNextId(),uiManager:o});s.rotation=E.rotation;const[n,a]=s.pageDimensions,[t,e,u,p]=s.getRectInCurrentCoords(E.rect,a);return s.x=t/n,s.y=e/a,s.width=u/n,s.height=p/a,s}remove(){this.div.removeEventListener("focusin",G(this,k)),this.div.removeEventListener("focusout",G(this,d)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var E;(E=this.div)==null||E.classList.add("selectedEditor")}unselect(){var E;(E=this.div)==null||E.classList.remove("selectedEditor")}updateParams(E,f){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return G(this,m)}set isEditing(E){ze(this,m,E),E?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let i=F;k=new WeakMap,d=new WeakMap,q=new WeakMap,m=new WeakMap,U=new WeakMap,W=new WeakMap,Dt(i,"_colorManager",new r.ColorManager),Dt(i,"_zIndex",1),c.AnnotationEditor=i},(we,c,te)=>{var F,T,E,f,o,s,Ui,t,e,u,p,C,L,x,g,z,Q,w,B,P,O,I,$,K,M,b,_,R,D,V,Y,Vi,fe,wr,pe,Hi,ve,Wi,N,rn,oe,Bn,l,Gi,A,qi,J,Cr,Se,jn,xe,Ar;Object.defineProperty(c,"__esModule",{value:!0}),c.KeyboardManager=c.CommandManager=c.ColorManager=c.AnnotationEditorUIManager=void 0,c.bindEvents=i,c.opacityToHex=k;var r=te(1),H=te(6);function i(je,ne,ae){for(const le of ae)ne.addEventListener(le,je[le].bind(je))}function k(je){return Math.round(Math.min(255,Math.max(1,255*je))).toString(16).padStart(2,"0")}class d{constructor(){F.set(this,0)}getId(){var ne;return`${r.AnnotationEditorPrefix}${ze(this,F,(ne=+G(this,F))+1),ne}`}}F=new WeakMap;class q{constructor(ne=128){T.set(this,[]);E.set(this,!1);f.set(this,void 0);o.set(this,-1);ze(this,f,ne)}add({cmd:ne,undo:ae,mustExec:le,type:Ae=NaN,overwriteIfSameType:Xe=!1,keepUndo:ye=!1}){if(le&&ne(),G(this,E))return;const ke={cmd:ne,undo:ae,type:Ae};if(G(this,o)===-1){G(this,T).length>0&&(G(this,T).length=0),ze(this,o,0),G(this,T).push(ke);return}if(Xe&&G(this,T)[G(this,o)].type===Ae){ye&&(ke.undo=G(this,T)[G(this,o)].undo),G(this,T)[G(this,o)]=ke;return}const Oe=G(this,o)+1;Oe===G(this,f)?G(this,T).splice(0,1):(ze(this,o,Oe),Oe<G(this,T).length&&G(this,T).splice(Oe)),G(this,T).push(ke)}undo(){G(this,o)!==-1&&(ze(this,E,!0),G(this,T)[G(this,o)].undo(),ze(this,E,!1),ze(this,o,G(this,o)-1))}redo(){G(this,o)<G(this,T).length-1&&(ze(this,o,G(this,o)+1),ze(this,E,!0),G(this,T)[G(this,o)].cmd(),ze(this,E,!1))}hasSomethingToUndo(){return G(this,o)!==-1}hasSomethingToRedo(){return G(this,o)<G(this,T).length-1}destroy(){ze(this,T,null)}}T=new WeakMap,E=new WeakMap,f=new WeakMap,o=new WeakMap,c.CommandManager=q;class m{constructor(ne){s.add(this);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ae}=r.FeatureTest.platform;for(const[le,Ae]of ne)for(const Xe of le){const ye=Xe.startsWith("mac+");ae&&ye?(this.callbacks.set(Xe.slice(4),Ae),this.allKeys.add(Xe.split("+").at(-1))):!ae&&!ye&&(this.callbacks.set(Xe,Ae),this.allKeys.add(Xe.split("+").at(-1)))}}exec(ne,ae){if(!this.allKeys.has(ae.key))return;const le=this.callbacks.get(Re(this,s,Ui).call(this,ae));!le||(le.bind(ne)(),ae.stopPropagation(),ae.preventDefault())}}s=new WeakSet,Ui=function(ne){ne.altKey&&this.buffer.push("alt"),ne.ctrlKey&&this.buffer.push("ctrl"),ne.metaKey&&this.buffer.push("meta"),ne.shiftKey&&this.buffer.push("shift"),this.buffer.push(ne.key);const ae=this.buffer.join("+");return this.buffer.length=0,ae},c.KeyboardManager=m;const a=class{get _colors(){const ne=new Map([["CanvasText",null],["Canvas",null]]);return(0,H.getColorValues)(ne),(0,r.shadow)(this,"_colors",ne)}convert(ne){const ae=(0,H.getRGB)(ne);if(!window.matchMedia("(forced-colors: active)").matches)return ae;for(const[le,Ae]of this._colors)if(Ae.every((Xe,ye)=>Xe===ae[ye]))return a._colorsMapping.get(le);return ae}getHexCode(ne){const ae=this._colors.get(ne);return ae?r.Util.makeHexColor(...ae):ne}};let U=a;Dt(U,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),c.ColorManager=U;const De=class{constructor(ne,ae,le){Y.add(this);fe.add(this);pe.add(this);ve.add(this);N.add(this);oe.add(this);l.add(this);A.add(this);J.add(this);Se.add(this);xe.add(this);t.set(this,null);e.set(this,new Map);u.set(this,new Map);p.set(this,null);C.set(this,new q);L.set(this,0);x.set(this,null);g.set(this,new Set);z.set(this,null);Q.set(this,new d);w.set(this,!1);B.set(this,r.AnnotationEditorType.NONE);P.set(this,new Set);O.set(this,this.copy.bind(this));I.set(this,this.cut.bind(this));$.set(this,this.paste.bind(this));K.set(this,this.keydown.bind(this));M.set(this,this.onEditingAction.bind(this));b.set(this,this.onPageChanging.bind(this));_.set(this,this.onScaleChanging.bind(this));R.set(this,this.onRotationChanging.bind(this));D.set(this,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});V.set(this,null);ze(this,V,ne),ze(this,z,ae),G(this,z)._on("editingaction",G(this,M)),G(this,z)._on("pagechanging",G(this,b)),G(this,z)._on("scalechanging",G(this,_)),G(this,z)._on("rotationchanging",G(this,R)),ze(this,p,le),this.viewParameters={realScale:H.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){Re(this,fe,wr).call(this),G(this,z)._off("editingaction",G(this,M)),G(this,z)._off("pagechanging",G(this,b)),G(this,z)._off("scalechanging",G(this,_)),G(this,z)._off("rotationchanging",G(this,R));for(const ne of G(this,u).values())ne.destroy();G(this,u).clear(),G(this,e).clear(),G(this,g).clear(),ze(this,t,null),G(this,P).clear(),G(this,C).destroy()}onPageChanging({pageNumber:ne}){ze(this,L,ne-1)}focusMainContainer(){G(this,V).focus()}addShouldRescale(ne){G(this,g).add(ne)}removeShouldRescale(ne){G(this,g).delete(ne)}onScaleChanging({scale:ne}){this.commitOrRemove(),this.viewParameters.realScale=ne*H.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ae of G(this,g))ae.onScaleChanging()}onRotationChanging({pagesRotation:ne}){this.commitOrRemove(),this.viewParameters.rotation=ne}addToAnnotationStorage(ne){!ne.isEmpty()&&G(this,p)&&!G(this,p).has(ne.id)&&G(this,p).setValue(ne.id,ne)}copy(ne){if(ne.preventDefault(),G(this,t)&&G(this,t).commitOrRemove(),!this.hasSelection)return;const ae=[];for(const le of G(this,P))le.isEmpty()||ae.push(le.serialize());ae.length!==0&&ne.clipboardData.setData("application/pdfjs",JSON.stringify(ae))}cut(ne){this.copy(ne),this.delete()}paste(ne){ne.preventDefault();let ae=ne.clipboardData.getData("application/pdfjs");if(!ae)return;try{ae=JSON.parse(ae)}catch(Ae){(0,r.warn)(`paste: "${Ae.message}".`);return}if(!Array.isArray(ae))return;this.unselectAll();const le=G(this,u).get(G(this,L));try{const Ae=[];for(const ke of ae){const Oe=le.deserialize(ke);if(!Oe)return;Ae.push(Oe)}const Xe=()=>{for(const ke of Ae)Re(this,J,Cr).call(this,ke);Re(this,xe,Ar).call(this,Ae)},ye=()=>{for(const ke of Ae)ke.remove()};this.addCommands({cmd:Xe,undo:ye,mustExec:!0})}catch(Ae){(0,r.warn)(`paste: "${Ae.message}".`)}}keydown(ne){var ae;((ae=this.getActive())==null?void 0:ae.shouldGetKeyboardEvents())||De._keyboardManager.exec(this,ne)}onEditingAction(ne){["undo","redo","delete","selectAll"].includes(ne.name)&&this[ne.name]()}setEditingState(ne){ne?(Re(this,Y,Vi).call(this),Re(this,pe,Hi).call(this),Re(this,N,rn).call(this,{isEditing:G(this,B)!==r.AnnotationEditorType.NONE,isEmpty:Re(this,Se,jn).call(this),hasSomethingToUndo:G(this,C).hasSomethingToUndo(),hasSomethingToRedo:G(this,C).hasSomethingToRedo(),hasSelectedEditor:!1})):(Re(this,fe,wr).call(this),Re(this,ve,Wi).call(this),Re(this,N,rn).call(this,{isEditing:!1}))}registerEditorTypes(ne){if(!G(this,x)){ze(this,x,ne);for(const ae of G(this,x))Re(this,oe,Bn).call(this,ae.defaultPropertiesToUpdate)}}getId(){return G(this,Q).getId()}get currentLayer(){return G(this,u).get(G(this,L))}get currentPageIndex(){return G(this,L)}addLayer(ne){G(this,u).set(ne.pageIndex,ne),G(this,w)?ne.enable():ne.disable()}removeLayer(ne){G(this,u).delete(ne.pageIndex)}updateMode(ne){if(ze(this,B,ne),ne===r.AnnotationEditorType.NONE)this.setEditingState(!1),Re(this,A,qi).call(this);else{this.setEditingState(!0),Re(this,l,Gi).call(this);for(const ae of G(this,u).values())ae.updateMode(ne)}}updateToolbar(ne){ne!==G(this,B)&&G(this,z).dispatch("switchannotationeditormode",{source:this,mode:ne})}updateParams(ne,ae){if(!!G(this,x)){for(const le of G(this,P))le.updateParams(ne,ae);for(const le of G(this,x))le.updateDefaultParams(ne,ae)}}getEditors(ne){const ae=[];for(const le of G(this,e).values())le.pageIndex===ne&&ae.push(le);return ae}getEditor(ne){return G(this,e).get(ne)}addEditor(ne){G(this,e).set(ne.id,ne)}removeEditor(ne){var ae;G(this,e).delete(ne.id),this.unselect(ne),(ae=G(this,p))==null||ae.remove(ne.id)}setActiveEditor(ne){G(this,t)!==ne&&(ze(this,t,ne),ne&&Re(this,oe,Bn).call(this,ne.propertiesToUpdate))}toggleSelected(ne){if(G(this,P).has(ne)){G(this,P).delete(ne),ne.unselect(),Re(this,N,rn).call(this,{hasSelectedEditor:this.hasSelection});return}G(this,P).add(ne),ne.select(),Re(this,oe,Bn).call(this,ne.propertiesToUpdate),Re(this,N,rn).call(this,{hasSelectedEditor:!0})}setSelected(ne){for(const ae of G(this,P))ae!==ne&&ae.unselect();G(this,P).clear(),G(this,P).add(ne),ne.select(),Re(this,oe,Bn).call(this,ne.propertiesToUpdate),Re(this,N,rn).call(this,{hasSelectedEditor:!0})}isSelected(ne){return G(this,P).has(ne)}unselect(ne){ne.unselect(),G(this,P).delete(ne),Re(this,N,rn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return G(this,P).size!==0}undo(){G(this,C).undo(),Re(this,N,rn).call(this,{hasSomethingToUndo:G(this,C).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Re(this,Se,jn).call(this)})}redo(){G(this,C).redo(),Re(this,N,rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:G(this,C).hasSomethingToRedo(),isEmpty:Re(this,Se,jn).call(this)})}addCommands(ne){G(this,C).add(ne),Re(this,N,rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Re(this,Se,jn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ne=[...G(this,P)],ae=()=>{for(const Ae of ne)Ae.remove()},le=()=>{for(const Ae of ne)Re(this,J,Cr).call(this,Ae)};this.addCommands({cmd:ae,undo:le,mustExec:!0})}commitOrRemove(){var ne;(ne=G(this,t))==null||ne.commitOrRemove()}selectAll(){for(const ne of G(this,P))ne.commit();Re(this,xe,Ar).call(this,G(this,e).values())}unselectAll(){if(G(this,t)){G(this,t).commitOrRemove();return}if(G(this,P).size!==0){for(const ne of G(this,P))ne.unselect();G(this,P).clear(),Re(this,N,rn).call(this,{hasSelectedEditor:!1})}}isActive(ne){return G(this,t)===ne}getActive(){return G(this,t)}getMode(){return G(this,B)}};let W=De;t=new WeakMap,e=new WeakMap,u=new WeakMap,p=new WeakMap,C=new WeakMap,L=new WeakMap,x=new WeakMap,g=new WeakMap,z=new WeakMap,Q=new WeakMap,w=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,I=new WeakMap,$=new WeakMap,K=new WeakMap,M=new WeakMap,b=new WeakMap,_=new WeakMap,R=new WeakMap,D=new WeakMap,V=new WeakMap,Y=new WeakSet,Vi=function(){G(this,V).addEventListener("keydown",G(this,K))},fe=new WeakSet,wr=function(){G(this,V).removeEventListener("keydown",G(this,K))},pe=new WeakSet,Hi=function(){document.addEventListener("copy",G(this,O)),document.addEventListener("cut",G(this,I)),document.addEventListener("paste",G(this,$))},ve=new WeakSet,Wi=function(){document.removeEventListener("copy",G(this,O)),document.removeEventListener("cut",G(this,I)),document.removeEventListener("paste",G(this,$))},N=new WeakSet,rn=function(ne){Object.entries(ne).some(([le,Ae])=>G(this,D)[le]!==Ae)&&G(this,z).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(G(this,D),ne)})},oe=new WeakSet,Bn=function(ne){G(this,z).dispatch("annotationeditorparamschanged",{source:this,details:ne})},l=new WeakSet,Gi=function(){if(!G(this,w)){ze(this,w,!0);for(const ne of G(this,u).values())ne.enable()}},A=new WeakSet,qi=function(){if(this.unselectAll(),G(this,w)){ze(this,w,!1);for(const ne of G(this,u).values())ne.disable()}},J=new WeakSet,Cr=function(ne){const ae=G(this,u).get(ne.pageIndex);ae?ae.addOrRebuild(ne):this.addEditor(ne)},Se=new WeakSet,jn=function(){if(G(this,e).size===0)return!0;if(G(this,e).size===1)for(const ne of G(this,e).values())return ne.isEmpty();return!1},xe=new WeakSet,Ar=function(ne){G(this,P).clear();for(const ae of ne)ae.isEmpty()||(G(this,P).add(ae),ae.select());Re(this,N,rn).call(this,{hasSelectedEditor:!0})},Dt(W,"_keyboardManager",new m([[["ctrl+a","mac+meta+a"],De.prototype.selectAll],[["ctrl+z","mac+meta+z"],De.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],De.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],De.prototype.delete],[["Escape","mac+Escape"],De.prototype.unselectAll]])),c.AnnotationEditorUIManager=W},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatTimer=c.RenderingCancelledException=c.PixelsPerInch=c.PageViewport=c.PDFDateString=c.DOMStandardFontDataFactory=c.DOMSVGFactory=c.DOMCanvasFactory=c.DOMCMapReaderFactory=c.AnnotationPrefix=void 0,c.deprecated=u,c.getColorValues=g,c.getCurrentTransform=z,c.getCurrentTransformInverse=Q,c.getFilenameFromUrl=s,c.getPdfFilenameFromUrl=n,c.getRGB=x,c.getXfaPageViewport=L,c.isDataScheme=f,c.isPdfFile=o,c.isValidFetchUrl=t,c.loadScript=e,c.setLayerDimensions=w;var r=te(7),H=te(1);const i="http://www.w3.org/2000/svg",k="pdfjs_internal_id_";c.AnnotationPrefix=k;const B=class{};let d=B;Dt(d,"CSS",96),Dt(d,"PDF",72),Dt(d,"PDF_TO_CSS_UNITS",B.CSS/B.PDF),c.PixelsPerInch=d;class q extends r.BaseCanvasFactory{constructor({ownerDocument:O=globalThis.document}={}){super();this._document=O}_createCanvas(O,I){const $=this._document.createElement("canvas");return $.width=O,$.height=I,$}}c.DOMCanvasFactory=q;function m(P,O=!1){return Xt(this,null,function*(){if(t(P,document.baseURI)){const I=yield fetch(P);if(!I.ok)throw new Error(I.statusText);return O?new Uint8Array(yield I.arrayBuffer()):(0,H.stringToBytes)(yield I.text())}return new Promise((I,$)=>{const K=new XMLHttpRequest;K.open("GET",P,!0),O&&(K.responseType="arraybuffer"),K.onreadystatechange=()=>{if(K.readyState===XMLHttpRequest.DONE){if(K.status===200||K.status===0){let M;if(O&&K.response?M=new Uint8Array(K.response):!O&&K.responseText&&(M=(0,H.stringToBytes)(K.responseText)),M){I(M);return}}$(new Error(K.statusText))}},K.send(null)})})}class U extends r.BaseCMapReaderFactory{_fetchData(O,I){return m(O,this.isCompressed).then($=>({cMapData:$,compressionType:I}))}}c.DOMCMapReaderFactory=U;class W extends r.BaseStandardFontDataFactory{_fetchData(O){return m(O,!0)}}c.DOMStandardFontDataFactory=W;class F extends r.BaseSVGFactory{_createSVG(O){return document.createElementNS(i,O)}}c.DOMSVGFactory=F;class T{constructor({viewBox:O,scale:I,rotation:$,offsetX:K=0,offsetY:M=0,dontFlip:b=!1}){this.viewBox=O,this.scale=I,this.rotation=$,this.offsetX=K,this.offsetY=M;const _=(O[2]+O[0])/2,R=(O[3]+O[1])/2;let D,V,Y,ee;switch($%=360,$<0&&($+=360),$){case 180:D=-1,V=0,Y=0,ee=1;break;case 90:D=0,V=1,Y=1,ee=0;break;case 270:D=0,V=-1,Y=-1,ee=0;break;case 0:D=1,V=0,Y=0,ee=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}b&&(Y=-Y,ee=-ee);let fe,de,pe,Ee;D===0?(fe=Math.abs(R-O[1])*I+K,de=Math.abs(_-O[0])*I+M,pe=(O[3]-O[1])*I,Ee=(O[2]-O[0])*I):(fe=Math.abs(_-O[0])*I+K,de=Math.abs(R-O[1])*I+M,pe=(O[2]-O[0])*I,Ee=(O[3]-O[1])*I),this.transform=[D*I,V*I,Y*I,ee*I,fe-D*I*_-Y*I*R,de-V*I*_-ee*I*R],this.width=pe,this.height=Ee}get rawDims(){const{viewBox:O}=this;return(0,H.shadow)(this,"rawDims",{pageWidth:O[2]-O[0],pageHeight:O[3]-O[1],pageX:O[0],pageY:O[1]})}clone({scale:O=this.scale,rotation:I=this.rotation,offsetX:$=this.offsetX,offsetY:K=this.offsetY,dontFlip:M=!1}={}){return new T({viewBox:this.viewBox.slice(),scale:O,rotation:I,offsetX:$,offsetY:K,dontFlip:M})}convertToViewportPoint(O,I){return H.Util.applyTransform([O,I],this.transform)}convertToViewportRectangle(O){const I=H.Util.applyTransform([O[0],O[1]],this.transform),$=H.Util.applyTransform([O[2],O[3]],this.transform);return[I[0],I[1],$[0],$[1]]}convertToPdfPoint(O,I){return H.Util.applyInverseTransform([O,I],this.transform)}}c.PageViewport=T;class E extends H.BaseException{constructor(O,I,$=0){super(O,"RenderingCancelledException");this.type=I,this.extraDelay=$}}c.RenderingCancelledException=E;function f(P){const O=P.length;let I=0;for(;I<O&&P[I].trim()==="";)I++;return P.substring(I,I+5).toLowerCase()==="data:"}function o(P){return typeof P=="string"&&/\.pdf$/i.test(P)}function s(P,O=!1){return O||([P]=P.split(/[#?]/,1)),P.substring(P.lastIndexOf("/")+1)}function n(P,O="document.pdf"){if(typeof P!="string")return O;if(f(P))return(0,H.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),O;const I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,K=I.exec(P);let M=$.exec(K[1])||$.exec(K[2])||$.exec(K[3]);if(M&&(M=M[0],M.includes("%")))try{M=$.exec(decodeURIComponent(M))[0]}catch(b){}return M||O}class a{constructor(){Dt(this,"started",Object.create(null));Dt(this,"times",[])}time(O){O in this.started&&(0,H.warn)(`Timer is already running for ${O}`),this.started[O]=Date.now()}timeEnd(O){O in this.started||(0,H.warn)(`Timer has not been started for ${O}`),this.times.push({name:O,start:this.started[O],end:Date.now()}),delete this.started[O]}toString(){const O=[];let I=0;for(const{name:$}of this.times)I=Math.max($.length,I);for(const{name:$,start:K,end:M}of this.times)O.push(`${$.padEnd(I)} ${M-K}ms
`);return O.join("")}}c.StatTimer=a;function t(P,O){try{const{protocol:I}=O?new URL(P,O):new URL(P);return I==="http:"||I==="https:"}catch(I){return!1}}function e(P,O=!1){return new Promise((I,$)=>{const K=document.createElement("script");K.src=P,K.onload=function(M){O&&K.remove(),I(M)},K.onerror=function(){$(new Error(`Cannot load script at: ${K.src}`))},(document.head||document.documentElement).append(K)})}function u(P){console.log("Deprecated API usage: "+P)}let p;class C{static toDateObject(O){if(!O||typeof O!="string")return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const I=p.exec(O);if(!I)return null;const $=parseInt(I[1],10);let K=parseInt(I[2],10);K=K>=1&&K<=12?K-1:0;let M=parseInt(I[3],10);M=M>=1&&M<=31?M:1;let b=parseInt(I[4],10);b=b>=0&&b<=23?b:0;let _=parseInt(I[5],10);_=_>=0&&_<=59?_:0;let R=parseInt(I[6],10);R=R>=0&&R<=59?R:0;const D=I[7]||"Z";let V=parseInt(I[8],10);V=V>=0&&V<=23?V:0;let Y=parseInt(I[9],10)||0;return Y=Y>=0&&Y<=59?Y:0,D==="-"?(b+=V,_+=Y):D==="+"&&(b-=V,_-=Y),new Date(Date.UTC($,K,M,b,_,R))}}c.PDFDateString=C;function L(P,{scale:O=1,rotation:I=0}){const{width:$,height:K}=P.attributes.style,M=[0,0,parseInt($),parseInt(K)];return new T({viewBox:M,scale:O,rotation:I})}function x(P){if(P.startsWith("#")){const O=parseInt(P.slice(1),16);return[(O&16711680)>>16,(O&65280)>>8,O&255]}return P.startsWith("rgb(")?P.slice(4,-1).split(",").map(O=>parseInt(O)):P.startsWith("rgba(")?P.slice(5,-1).split(",").map(O=>parseInt(O)).slice(0,3):((0,H.warn)(`Not a valid color format: "${P}"`),[0,0,0])}function g(P){const O=document.createElement("span");O.style.visibility="hidden",document.body.append(O);for(const I of P.keys()){O.style.color=I;const $=window.getComputedStyle(O).color;P.set(I,x($))}O.remove()}function z(P){const{a:O,b:I,c:$,d:K,e:M,f:b}=P.getTransform();return[O,I,$,K,M,b]}function Q(P){const{a:O,b:I,c:$,d:K,e:M,f:b}=P.getTransform().invertSelf();return[O,I,$,K,M,b]}function w(P,O,I=!1,$=!0){if(O instanceof T){const{pageWidth:K,pageHeight:M}=O.rawDims,{style:b}=P,_=`calc(var(--scale-factor) * ${K}px)`,R=`calc(var(--scale-factor) * ${M}px)`;!I||O.rotation%180==0?(b.width=_,b.height=R):(b.width=R,b.height=_)}$&&P.setAttribute("data-main-rotation",O.rotation)}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseStandardFontDataFactory=c.BaseSVGFactory=c.BaseCanvasFactory=c.BaseCMapReaderFactory=void 0;var r=te(1);class H{constructor(){this.constructor===H&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(m,U){if(m<=0||U<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(m,U);return{canvas:W,context:W.getContext("2d")}}reset(m,U,W){if(!m.canvas)throw new Error("Canvas is not specified");if(U<=0||W<=0)throw new Error("Invalid canvas size");m.canvas.width=U,m.canvas.height=W}destroy(m){if(!m.canvas)throw new Error("Canvas is not specified");m.canvas.width=0,m.canvas.height=0,m.canvas=null,m.context=null}_createCanvas(m,U){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}c.BaseCanvasFactory=H;class i{constructor({baseUrl:m=null,isCompressed:U=!0}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=m,this.isCompressed=U}fetch(U){return Xt(this,arguments,function*({name:m}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!m)throw new Error("CMap name must be specified.");const W=this.baseUrl+m+(this.isCompressed?".bcmap":""),F=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(W,F).catch(T=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${W}`)})})}_fetchData(m,U){(0,r.unreachable)("Abstract method `_fetchData` called.")}}c.BaseCMapReaderFactory=i;class k{constructor({baseUrl:m=null}){this.constructor===k&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=m}fetch(U){return Xt(this,arguments,function*({filename:m}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!m)throw new Error("Font filename must be specified.");const W=`${this.baseUrl}${m}`;return this._fetchData(W).catch(F=>{throw new Error(`Unable to load font data at: ${W}`)})})}_fetchData(m){(0,r.unreachable)("Abstract method `_fetchData` called.")}}c.BaseStandardFontDataFactory=k;class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(m,U,W=!1){if(m<=0||U<=0)throw new Error("Invalid SVG dimensions");const F=this._createSVG("svg:svg");return F.setAttribute("version","1.1"),W||(F.setAttribute("width",`${m}px`),F.setAttribute("height",`${U}px`)),F.setAttribute("preserveAspectRatio","none"),F.setAttribute("viewBox",`0 0 ${m} ${U}`),F}createElement(m){if(typeof m!="string")throw new Error("Invalid SVG element type");return this._createSVG(m)}_createSVG(m){(0,r.unreachable)("Abstract method `_createSVG` called.")}}c.BaseSVGFactory=d},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MurmurHash3_64=void 0;var r=te(1);const H=3285377520,i=4294901760,k=65535;class d{constructor(m){this.h1=m?m&4294967295:H,this.h2=m?m&4294967295:H}update(m){let U,W;if(typeof m=="string"){U=new Uint8Array(m.length*2),W=0;for(let p=0,C=m.length;p<C;p++){const L=m.charCodeAt(p);L<=255?U[W++]=L:(U[W++]=L>>>8,U[W++]=L&255)}}else if((0,r.isArrayBuffer)(m))U=m.slice(),W=U.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const F=W>>2,T=W-F*4,E=new Uint32Array(U.buffer,0,F);let f=0,o=0,s=this.h1,n=this.h2;const a=3432918353,t=461845907,e=a&k,u=t&k;for(let p=0;p<F;p++)p&1?(f=E[p],f=f*a&i|f*e&k,f=f<<15|f>>>17,f=f*t&i|f*u&k,s^=f,s=s<<13|s>>>19,s=s*5+3864292196):(o=E[p],o=o*a&i|o*e&k,o=o<<15|o>>>17,o=o*t&i|o*u&k,n^=o,n=n<<13|n>>>19,n=n*5+3864292196);switch(f=0,T){case 3:f^=U[F*4+2]<<16;case 2:f^=U[F*4+1]<<8;case 1:f^=U[F*4],f=f*a&i|f*e&k,f=f<<15|f>>>17,f=f*t&i|f*u&k,F&1?s^=f:n^=f}this.h1=s,this.h2=n}hexdigest(){let m=this.h1,U=this.h2;return m^=U>>>1,m=m*3981806797&i|m*36045&k,U=U*4283543511&i|((U<<16|m>>>16)*2950163797&i)>>>16,m^=U>>>1,m=m*444984403&i|m*60499&k,U=U*3301882366&i|((U<<16|m>>>16)*3120437893&i)>>>16,m^=U>>>1,(m>>>0).toString(16).padStart(8,"0")+(U>>>0).toString(16).padStart(8,"0")}}c.MurmurHash3_64=d},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontLoader=c.FontFaceObject=void 0;var r=te(1),H=te(10);class i{constructor({onUnsupportedFeature:q,ownerDocument:m=globalThis.document,styleElement:U=null}){this._onUnsupportedFeature=q,this._document=m,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(q){this.nativeFontFaces.push(q),this._document.fonts.add(q)}insertRule(q){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const m=this.styleElement.sheet;m.insertRule(q,m.cssRules.length)}clear(){for(const q of this.nativeFontFaces)this._document.fonts.delete(q);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(q){return Xt(this,null,function*(){if(q.attached||q.missingFile)return;if(q.attached=!0,this.isFontLoadingAPISupported){const U=q.createNativeFontFace();if(U){this.addNativeFontFace(U);try{yield U.loaded}catch(W){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${U.family}': '${W}'.`),q.disableFontFace=!0,W}}return}const m=q.createFontFaceRule();if(m){if(this.insertRule(m),this.isSyncFontLoadingSupported)return;yield new Promise(U=>{const W=this._queueLoadingCallback(U);this._prepareFontLoadEvent(q,W)})}})}get isFontLoadingAPISupported(){var m;const q=!!((m=this._document)==null?void 0:m.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",q)}get isSyncFontLoadingSupported(){let q=!1;return(H.isNodeJS||typeof navigator!="undefined"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(q=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",q)}_queueLoadingCallback(q){function m(){for((0,r.assert)(!W.done,"completeRequest() cannot be called twice."),W.done=!0;U.length>0&&U[0].done;){const F=U.shift();setTimeout(F.callback,0)}}const{loadingRequests:U}=this,W={done:!1,complete:m,callback:q};return U.push(W),W}get _loadTestFont(){const q=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",q)}_prepareFontLoadEvent(q,m){function U(g,z){return g.charCodeAt(z)<<24|g.charCodeAt(z+1)<<16|g.charCodeAt(z+2)<<8|g.charCodeAt(z+3)&255}function W(g,z,Q,w){const B=g.substring(0,z),P=g.substring(z+Q);return B+w+P}let F,T;const E=this._document.createElement("canvas");E.width=1,E.height=1;const f=E.getContext("2d");let o=0;function s(g,z){if(++o>30){(0,r.warn)("Load test font never loaded."),z();return}if(f.font="30px "+g,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(s.bind(null,g,z))}const n=`lt${Date.now()}${this.loadTestFontId++}`;let a=this._loadTestFont;a=W(a,976,n.length,n);const e=16,u=1482184792;let p=U(a,e);for(F=0,T=n.length-3;F<T;F+=4)p=p-u+U(n,F)|0;F<n.length&&(p=p-u+U(n+"XXX",F)|0),a=W(a,e,4,(0,r.string32)(p));const C=`url(data:font/opentype;base64,${btoa(a)});`,L=`@font-face {font-family:"${n}";src:${C}}`;this.insertRule(L);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const g of[q.loadedName,n]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=g,x.append(z)}this._document.body.append(x),s(n,()=>{x.remove(),m.complete()})}}c.FontLoader=i;class k{constructor(q,{isEvalSupported:m=!0,disableFontFace:U=!1,ignoreErrors:W=!1,onUnsupportedFeature:F,fontRegistry:T=null}){this.compiledGlyphs=Object.create(null);for(const E in q)this[E]=q[E];this.isEvalSupported=m!==!1,this.disableFontFace=U===!0,this.ignoreErrors=W===!0,this._onUnsupportedFeature=F,this.fontRegistry=T}createNativeFontFace(){var m;if(!this.data||this.disableFontFace)return null;let q;if(!this.cssFontInfo)q=new FontFace(this.loadedName,this.data,{});else{const U={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(U.style=`oblique ${this.cssFontInfo.italicAngle}deg`),q=new FontFace(this.cssFontInfo.fontFamily,this.data,U)}return(m=this.fontRegistry)==null||m.registerFont(this),q}createFontFaceRule(){var W;if(!this.data||this.disableFontFace)return null;const q=(0,r.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(q)});`;let U;if(!this.cssFontInfo)U=`@font-face {font-family:"${this.loadedName}";src:${m}}`;else{let F=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(F+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),U=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${F}src:${m}}`}return(W=this.fontRegistry)==null||W.registerFont(this,m),U}getPathGenerator(q,m){if(this.compiledGlyphs[m]!==void 0)return this.compiledGlyphs[m];let U;try{U=q.get(this.loadedName+"_path_"+m)}catch(W){if(!this.ignoreErrors)throw W;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${W}".`),this.compiledGlyphs[m]=function(F,T){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const W=[];for(const F of U){const T=F.args!==void 0?F.args.join(","):"";W.push("c.",F.cmd,"(",T,`);
`)}return this.compiledGlyphs[m]=new Function("c","size",W.join(""))}return this.compiledGlyphs[m]=function(W,F){for(const T of U)T.cmd==="scale"&&(T.args=[F,-F]),W[T.cmd].apply(W,T.args)}}}c.FontFaceObject=k},(we,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isNodeJS=void 0;const te=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");c.isNodeJS=te},(we,c,te)=>{var I,kr;Object.defineProperty(c,"__esModule",{value:!0}),c.CanvasGraphics=void 0;var r=te(1),H=te(6),i=te(12),k=te(13);const d=16,q=100,m=4096,U=15,W=10,F=1e3,T=16;function E(M,b){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){b.save(),this.__originalSave()},M.restore=function(){b.restore(),this.__originalRestore()},M.translate=function(R,D){b.translate(R,D),this.__originalTranslate(R,D)},M.scale=function(R,D){b.scale(R,D),this.__originalScale(R,D)},M.transform=function(R,D,V,Y,ee,fe){b.transform(R,D,V,Y,ee,fe),this.__originalTransform(R,D,V,Y,ee,fe)},M.setTransform=function(R,D,V,Y,ee,fe){b.setTransform(R,D,V,Y,ee,fe),this.__originalSetTransform(R,D,V,Y,ee,fe)},M.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},M.rotate=function(R){b.rotate(R),this.__originalRotate(R)},M.clip=function(R){b.clip(R),this.__originalClip(R)},M.moveTo=function(_,R){b.moveTo(_,R),this.__originalMoveTo(_,R)},M.lineTo=function(_,R){b.lineTo(_,R),this.__originalLineTo(_,R)},M.bezierCurveTo=function(_,R,D,V,Y,ee){b.bezierCurveTo(_,R,D,V,Y,ee),this.__originalBezierCurveTo(_,R,D,V,Y,ee)},M.rect=function(_,R,D,V){b.rect(_,R,D,V),this.__originalRect(_,R,D,V)},M.closePath=function(){b.closePath(),this.__originalClosePath()},M.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}class f{constructor(b){this.canvasFactory=b,this.cache=Object.create(null)}getCanvas(b,_,R){let D;return this.cache[b]!==void 0?(D=this.cache[b],this.canvasFactory.reset(D,_,R)):(D=this.canvasFactory.create(_,R),this.cache[b]=D),D}delete(b){delete this.cache[b]}clear(){for(const b in this.cache){const _=this.cache[b];this.canvasFactory.destroy(_),delete this.cache[b]}}}function o(M,b,_,R,D,V,Y,ee,fe,de){const[pe,Ee,ve,S,N,X]=(0,H.getCurrentTransform)(M);if(Ee===0&&ve===0){const l=Y*pe+N,h=Math.round(l),A=ee*S+X,Z=Math.round(A),J=(Y+fe)*pe+N,re=Math.abs(Math.round(J)-h)||1,Se=(ee+de)*S+X,Ce=Math.abs(Math.round(Se)-Z)||1;return M.setTransform(Math.sign(pe),0,0,Math.sign(S),h,Z),M.drawImage(b,_,R,D,V,0,0,re,Ce),M.setTransform(pe,Ee,ve,S,N,X),[re,Ce]}if(pe===0&&S===0){const l=ee*ve+N,h=Math.round(l),A=Y*Ee+X,Z=Math.round(A),J=(ee+de)*ve+N,re=Math.abs(Math.round(J)-h)||1,Se=(Y+fe)*Ee+X,Ce=Math.abs(Math.round(Se)-Z)||1;return M.setTransform(0,Math.sign(Ee),Math.sign(ve),0,h,Z),M.drawImage(b,_,R,D,V,0,0,Ce,re),M.setTransform(pe,Ee,ve,S,N,X),[Ce,re]}M.drawImage(b,_,R,D,V,Y,ee,fe,de);const oe=Math.hypot(pe,Ee),v=Math.hypot(ve,S);return[oe*fe,v*de]}function s(M){const{width:b,height:_}=M;if(b>F||_>F)return null;const R=1e3,D=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),V=b+1;let Y=new Uint8Array(V*(_+1)),ee,fe,de;const pe=b+7&~7;let Ee=new Uint8Array(pe*_),ve=0;for(const v of M.data){let l=128;for(;l>0;)Ee[ve++]=v&l?0:255,l>>=1}let S=0;for(ve=0,Ee[ve]!==0&&(Y[0]=1,++S),fe=1;fe<b;fe++)Ee[ve]!==Ee[ve+1]&&(Y[fe]=Ee[ve]?2:1,++S),ve++;for(Ee[ve]!==0&&(Y[fe]=2,++S),ee=1;ee<_;ee++){ve=ee*pe,de=ee*V,Ee[ve-pe]!==Ee[ve]&&(Y[de]=Ee[ve]?1:8,++S);let v=(Ee[ve]?4:0)+(Ee[ve-pe]?8:0);for(fe=1;fe<b;fe++)v=(v>>2)+(Ee[ve+1]?4:0)+(Ee[ve-pe+1]?8:0),D[v]&&(Y[de+fe]=D[v],++S),ve++;if(Ee[ve-pe]!==Ee[ve]&&(Y[de+fe]=Ee[ve]?2:4,++S),S>R)return null}for(ve=pe*(_-1),de=ee*V,Ee[ve]!==0&&(Y[de]=8,++S),fe=1;fe<b;fe++)Ee[ve]!==Ee[ve+1]&&(Y[de+fe]=Ee[ve]?4:8,++S),ve++;if(Ee[ve]!==0&&(Y[de+fe]=4,++S),S>R)return null;const N=new Int32Array([0,V,-1,0,-V,0,0,0,1]),X=new Path2D;for(ee=0;S&&ee<=_;ee++){let v=ee*V;const l=v+b;for(;v<l&&!Y[v];)v++;if(v===l)continue;X.moveTo(v%V,ee);const h=v;let A=Y[v];do{const Z=N[A];do v+=Z;while(!Y[v]);const J=Y[v];J!==5&&J!==10?(A=J,Y[v]=0):(A=J&51*A>>4,Y[v]&=A>>2|A<<2),X.lineTo(v%V,v/V|0),Y[v]||--S}while(h!==v);--ee}return Ee=null,Y=null,function(v){v.save(),v.scale(1/b,-1/_),v.translate(0,-_),v.fill(X),v.beginPath(),v.restore()}}class n{constructor(b,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,b,_])}clone(){const b=Object.create(this);return b.clipBox=this.clipBox.slice(),b}setCurrentPoint(b,_){this.x=b,this.y=_}updatePathMinMax(b,_,R){[_,R]=r.Util.applyTransform([_,R],b),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,R),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,R)}updateRectMinMax(b,_){const R=r.Util.applyTransform(_,b),D=r.Util.applyTransform(_.slice(2),b);this.minX=Math.min(this.minX,R[0],D[0]),this.minY=Math.min(this.minY,R[1],D[1]),this.maxX=Math.max(this.maxX,R[0],D[0]),this.maxY=Math.max(this.maxY,R[1],D[1])}updateScalingPathMinMax(b,_){r.Util.scaleMinMax(b,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(b,_,R,D,V,Y,ee,fe,de,pe){const Ee=r.Util.bezierBoundingBox(_,R,D,V,Y,ee,fe,de);if(pe){pe[0]=Math.min(pe[0],Ee[0],Ee[2]),pe[1]=Math.max(pe[1],Ee[0],Ee[2]),pe[2]=Math.min(pe[2],Ee[1],Ee[3]),pe[3]=Math.max(pe[3],Ee[1],Ee[3]);return}this.updateRectMinMax(b,Ee)}getPathBoundingBox(b=i.PathType.FILL,_=null){const R=[this.minX,this.minY,this.maxX,this.maxY];if(b===i.PathType.STROKE){_||(0,r.unreachable)("Stroke bounding box must include transform.");const D=r.Util.singularValueDecompose2dScale(_),V=D[0]*this.lineWidth/2,Y=D[1]*this.lineWidth/2;R[0]-=V,R[1]-=Y,R[2]+=V,R[3]+=Y}return R}updateClipFromPath(){const b=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(b||[0,0,0,0])}isEmptyClip(){return this.minX===Infinity}startNewPathAndClipBox(b){this.clipBox=b,this.minX=Infinity,this.minY=Infinity,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(b=i.PathType.FILL,_=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(b,_))}}function a(M,b,_=null){if(typeof ImageData!="undefined"&&b instanceof ImageData){M.putImageData(b,0,0);return}const R=b.height,D=b.width,V=R%T,Y=(R-V)/T,ee=V===0?Y:Y+1,fe=M.createImageData(D,T);let de=0,pe;const Ee=b.data,ve=fe.data;let S,N,X,oe,v,l,h,A;if(_)switch(_.length){case 1:v=_[0],l=_[0],h=_[0],A=_[0];break;case 4:v=_[0],l=_[1],h=_[2],A=_[3];break}if(b.kind===r.ImageKind.GRAYSCALE_1BPP){const Z=Ee.byteLength,J=new Uint32Array(ve.buffer,0,ve.byteLength>>2),re=J.length,Se=D+7>>3;let Ce=4294967295,xe=r.FeatureTest.isLittleEndian?4278190080:255;for(A&&A[0]===255&&A[255]===0&&([Ce,xe]=[xe,Ce]),S=0;S<ee;S++){for(X=S<Y?T:V,pe=0,N=0;N<X;N++){const He=Z-de;let De=0;const je=He>Se?D:He*8-7,ne=je&~7;let ae=0,le=0;for(;De<ne;De+=8)le=Ee[de++],J[pe++]=le&128?Ce:xe,J[pe++]=le&64?Ce:xe,J[pe++]=le&32?Ce:xe,J[pe++]=le&16?Ce:xe,J[pe++]=le&8?Ce:xe,J[pe++]=le&4?Ce:xe,J[pe++]=le&2?Ce:xe,J[pe++]=le&1?Ce:xe;for(;De<je;De++)ae===0&&(le=Ee[de++],ae=128),J[pe++]=le&ae?Ce:xe,ae>>=1}for(;pe<re;)J[pe++]=0;M.putImageData(fe,0,S*T)}}else if(b.kind===r.ImageKind.RGBA_32BPP){const Z=!!(v||l||h);for(N=0,oe=D*T*4,S=0;S<Y;S++){if(ve.set(Ee.subarray(de,de+oe)),de+=oe,Z)for(let J=0;J<oe;J+=4)v&&(ve[J+0]=v[ve[J+0]]),l&&(ve[J+1]=l[ve[J+1]]),h&&(ve[J+2]=h[ve[J+2]]);M.putImageData(fe,0,N),N+=T}if(S<ee){if(oe=D*V*4,ve.set(Ee.subarray(de,de+oe)),Z)for(let J=0;J<oe;J+=4)v&&(ve[J+0]=v[ve[J+0]]),l&&(ve[J+1]=l[ve[J+1]]),h&&(ve[J+2]=h[ve[J+2]]);M.putImageData(fe,0,N)}}else if(b.kind===r.ImageKind.RGB_24BPP){const Z=!!(v||l||h);for(X=T,oe=D*X,S=0;S<ee;S++){for(S>=Y&&(X=V,oe=D*X),pe=0,N=oe;N--;)ve[pe++]=Ee[de++],ve[pe++]=Ee[de++],ve[pe++]=Ee[de++],ve[pe++]=255;if(Z)for(let J=0;J<pe;J+=4)v&&(ve[J+0]=v[ve[J+0]]),l&&(ve[J+1]=l[ve[J+1]]),h&&(ve[J+2]=h[ve[J+2]]);M.putImageData(fe,0,S*T)}}else throw new Error(`bad image kind: ${b.kind}`)}function t(M,b){if(b.bitmap){M.drawImage(b.bitmap,0,0);return}const _=b.height,R=b.width,D=_%T,V=(_-D)/T,Y=D===0?V:V+1,ee=M.createImageData(R,T);let fe=0;const de=b.data,pe=ee.data;for(let Ee=0;Ee<Y;Ee++){const ve=Ee<V?T:D;({srcPos:fe}=(0,k.applyMaskImageData)({src:de,srcPos:fe,dest:pe,width:R,height:ve})),M.putImageData(ee,0,Ee*T)}}function e(M,b){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const R of _)M[R]!==void 0&&(b[R]=M[R]);M.setLineDash!==void 0&&(b.setLineDash(M.getLineDash()),b.lineDashOffset=M.lineDashOffset)}function u(M,b){M.strokeStyle=M.fillStyle=b||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0)}function p(M,b,_,R){const D=M.length;for(let V=3;V<D;V+=4){const Y=M[V];if(Y===0)M[V-3]=b,M[V-2]=_,M[V-1]=R;else if(Y<255){const ee=255-Y;M[V-3]=M[V-3]*Y+b*ee>>8,M[V-2]=M[V-2]*Y+_*ee>>8,M[V-1]=M[V-1]*Y+R*ee>>8}}}function C(M,b,_){const R=M.length,D=1/255;for(let V=3;V<R;V+=4){const Y=_?_[M[V]]:M[V];b[V]=b[V]*Y*D|0}}function L(M,b,_){const R=M.length;for(let D=3;D<R;D+=4){const V=M[D-3]*77+M[D-2]*152+M[D-1]*28;b[D]=_?b[D]*_[V>>8]>>8:b[D]*V>>16}}function x(M,b,_,R,D,V,Y,ee,fe,de,pe){const Ee=!!V,ve=Ee?V[0]:0,S=Ee?V[1]:0,N=Ee?V[2]:0;let X;D==="Luminosity"?X=L:X=C;const v=Math.min(R,Math.ceil(1048576/_));for(let l=0;l<R;l+=v){const h=Math.min(v,R-l),A=M.getImageData(ee-de,l+(fe-pe),_,h),Z=b.getImageData(ee,l+fe,_,h);Ee&&p(A.data,ve,S,N),X(A.data,Z.data,Y),b.putImageData(Z,ee,l+fe)}}function g(M,b,_,R){const D=R[0],V=R[1],Y=R[2]-D,ee=R[3]-V;Y===0||ee===0||(x(b.context,_,Y,ee,b.subtype,b.backdrop,b.transferMap,D,V,b.offsetX,b.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(_.canvas,0,0),M.restore())}function z(M,b){const _=r.Util.singularValueDecompose2dScale(M);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const R=Math.fround((globalThis.devicePixelRatio||1)*H.PixelsPerInch.PDF_TO_CSS_UNITS);return b!==void 0?b:_[0]<=R||_[1]<=R}const Q=["butt","round","square"],w=["miter","round","bevel"],B={},P={},K=class{constructor(b,_,R,D,{optionalContentConfig:V,markedContentStack:Y=null},ee,fe){I.add(this);this.ctx=b,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=R,this.canvasFactory=D,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Y||[],this.optionalContentConfig=V,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ee,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(fe==null?void 0:fe.background)||null,this.foregroundColor=(fe==null?void 0:fe.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(b,_=null){return typeof b=="string"?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):_}beginDrawing({transform:b,viewport:_,transparency:R=!1,background:D=null}){const V=this.ctx.canvas.width,Y=this.ctx.canvas.height,ee=D||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const fe=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const de=this.backgroundColor=this.ctx.fillStyle;let pe=!0,Ee=ee;if(this.ctx.fillStyle=ee,Ee=this.ctx.fillStyle,pe=typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee),fe==="#000000"&&de==="#ffffff"||fe===de||!pe)this.foregroundColor=this.backgroundColor=null;else{const[ve,S,N]=(0,H.getRGB)(Ee),X=v=>(v/=255,v<=.03928?v/12.92:En((v+.055)/1.055,2.4)),oe=Math.round(.2126*X(ve)+.7152*X(S)+.0722*X(N));this.selectColor=(v,l,h)=>{const A=.2126*X(v)+.7152*X(l)+.0722*X(h);return Math.round(A)===oe?de:fe}}}if(this.ctx.fillStyle=this.backgroundColor||ee,this.ctx.fillRect(0,0,V,Y),this.ctx.restore(),R){const fe=this.cachedCanvases.getCanvas("transparent",V,Y);this.compositeCtx=this.ctx,this.transparentCanvas=fe.canvas,this.ctx=fe.context,this.ctx.save(),this.ctx.transform(...(0,H.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),u(this.ctx,this.foregroundColor),b&&(this.ctx.transform(...b),this.outputScaleX=b[0],this.outputScaleY=b[0]),this.ctx.transform(..._.transform),this.viewportScale=_.scale,this.baseTransform=(0,H.getCurrentTransform)(this.ctx)}executeOperatorList(b,_,R,D){const V=b.argsArray,Y=b.fnArray;let ee=_||0;const fe=V.length;if(fe===ee)return ee;const de=fe-ee>W&&typeof R=="function",pe=de?Date.now()+U:0;let Ee=0;const ve=this.commonObjs,S=this.objs;let N;for(;;){if(D!==void 0&&ee===D.nextBreakPoint)return D.breakIt(ee,R),ee;if(N=Y[ee],N!==r.OPS.dependency)this[N].apply(this,V[ee]);else for(const X of V[ee]){const oe=X.startsWith("g_")?ve:S;if(!oe.has(X))return oe.get(X,R),ee}if(ee++,ee===fe)return ee;if(de&&++Ee>W){if(Date.now()>pe)return R(),ee;Ee=0}}}endDrawing(){Re(this,I,kr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const b of this._cachedBitmapsMap.values()){for(const _ of b.values())typeof HTMLCanvasElement!="undefined"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);b.clear()}this._cachedBitmapsMap.clear()}_scaleImage(b,_){const R=b.width,D=b.height;let V=Math.max(Math.hypot(_[0],_[1]),1),Y=Math.max(Math.hypot(_[2],_[3]),1),ee=R,fe=D,de="prescale1",pe,Ee;for(;V>2&&ee>1||Y>2&&fe>1;){let ve=ee,S=fe;V>2&&ee>1&&(ve=Math.ceil(ee/2),V/=ee/ve),Y>2&&fe>1&&(S=Math.ceil(fe/2),Y/=fe/S),pe=this.cachedCanvases.getCanvas(de,ve,S),Ee=pe.context,Ee.clearRect(0,0,ve,S),Ee.drawImage(b,0,0,ee,fe,0,0,ve,S),b=pe.canvas,ee=ve,fe=S,de=de==="prescale1"?"prescale2":"prescale1"}return{img:b,paintWidth:ee,paintHeight:fe}}_createMaskCanvas(b){const _=this.ctx,{width:R,height:D}=b,V=this.current.fillColor,Y=this.current.patternFill,ee=(0,H.getCurrentTransform)(_);let fe,de,pe,Ee;if((b.bitmap||b.data)&&b.count>1){const re=b.bitmap||b.data.buffer;de=JSON.stringify(Y?ee:[ee.slice(0,4),V]),fe=this._cachedBitmapsMap.get(re),fe||(fe=new Map,this._cachedBitmapsMap.set(re,fe));const Se=fe.get(de);if(Se&&!Y){const Ce=Math.round(Math.min(ee[0],ee[2])+ee[4]),xe=Math.round(Math.min(ee[1],ee[3])+ee[5]);return{canvas:Se,offsetX:Ce,offsetY:xe}}pe=Se}pe||(Ee=this.cachedCanvases.getCanvas("maskCanvas",R,D),t(Ee.context,b));let ve=r.Util.transform(ee,[1/R,0,0,-1/D,0,0]);ve=r.Util.transform(ve,[1,0,0,1,0,-D]);const S=r.Util.applyTransform([0,0],ve),N=r.Util.applyTransform([R,D],ve),X=r.Util.normalizeRect([S[0],S[1],N[0],N[1]]),oe=Math.round(X[2]-X[0])||1,v=Math.round(X[3]-X[1])||1,l=this.cachedCanvases.getCanvas("fillCanvas",oe,v),h=l.context,A=Math.min(S[0],N[0]),Z=Math.min(S[1],N[1]);h.translate(-A,-Z),h.transform(...ve),pe||(pe=this._scaleImage(Ee.canvas,(0,H.getCurrentTransformInverse)(h)),pe=pe.img,fe&&Y&&fe.set(de,pe)),h.imageSmoothingEnabled=z((0,H.getCurrentTransform)(h),b.interpolate),o(h,pe,0,0,pe.width,pe.height,0,0,R,D),h.globalCompositeOperation="source-in";const J=r.Util.transform((0,H.getCurrentTransformInverse)(h),[1,0,0,1,-A,-Z]);return h.fillStyle=Y?V.getPattern(_,this,J,i.PathType.FILL):V,h.fillRect(0,0,R,D),fe&&!Y&&(this.cachedCanvases.delete("fillCanvas"),fe.set(de,l.canvas)),{canvas:l.canvas,offsetX:Math.round(A),offsetY:Math.round(Z)}}setLineWidth(b){b!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=b,this.ctx.lineWidth=b}setLineCap(b){this.ctx.lineCap=Q[b]}setLineJoin(b){this.ctx.lineJoin=w[b]}setMiterLimit(b){this.ctx.miterLimit=b}setDash(b,_){const R=this.ctx;R.setLineDash!==void 0&&(R.setLineDash(b),R.lineDashOffset=_)}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[_,R]of b)switch(_){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R[0],R[1]);break;case"CA":this.current.strokeAlpha=R;break;case"ca":this.current.fillAlpha=R,this.ctx.globalAlpha=R;break;case"BM":this.ctx.globalCompositeOperation=R;break;case"SMask":this.current.activeSMask=R?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=R}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const b=this.inSMaskMode;this.current.activeSMask&&!b?this.beginSMaskMode():!this.current.activeSMask&&b&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const b=this.ctx.canvas.width,_=this.ctx.canvas.height,R="smaskGroupAt"+this.groupLevel,D=this.cachedCanvases.getCanvas(R,b,_);this.suspendedCtx=this.ctx,this.ctx=D.context;const V=this.ctx;V.setTransform(...(0,H.getCurrentTransform)(this.suspendedCtx)),e(this.suspendedCtx,V),E(V,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),e(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(b){if(!this.current.activeSMask)return;b?(b[0]=Math.floor(b[0]),b[1]=Math.floor(b[1]),b[2]=Math.ceil(b[2]),b[3]=Math.ceil(b[3])):b=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _=this.current.activeSMask,R=this.suspendedCtx;g(R,_,this.ctx,b),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(e(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const b=this.current;this.stateStack.push(b),this.current=b.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),e(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(b,_,R,D,V,Y){this.ctx.transform(b,_,R,D,V,Y),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(b,_,R){const D=this.ctx,V=this.current;let Y=V.x,ee=V.y,fe,de;const pe=(0,H.getCurrentTransform)(D),Ee=pe[0]===0&&pe[3]===0||pe[1]===0&&pe[2]===0,ve=Ee?R.slice(0):null;for(let S=0,N=0,X=b.length;S<X;S++)switch(b[S]|0){case r.OPS.rectangle:Y=_[N++],ee=_[N++];const oe=_[N++],v=_[N++],l=Y+oe,h=ee+v;D.moveTo(Y,ee),oe===0||v===0?D.lineTo(l,h):(D.lineTo(l,ee),D.lineTo(l,h),D.lineTo(Y,h)),Ee||V.updateRectMinMax(pe,[Y,ee,l,h]),D.closePath();break;case r.OPS.moveTo:Y=_[N++],ee=_[N++],D.moveTo(Y,ee),Ee||V.updatePathMinMax(pe,Y,ee);break;case r.OPS.lineTo:Y=_[N++],ee=_[N++],D.lineTo(Y,ee),Ee||V.updatePathMinMax(pe,Y,ee);break;case r.OPS.curveTo:fe=Y,de=ee,Y=_[N+4],ee=_[N+5],D.bezierCurveTo(_[N],_[N+1],_[N+2],_[N+3],Y,ee),V.updateCurvePathMinMax(pe,fe,de,_[N],_[N+1],_[N+2],_[N+3],Y,ee,ve),N+=6;break;case r.OPS.curveTo2:fe=Y,de=ee,D.bezierCurveTo(Y,ee,_[N],_[N+1],_[N+2],_[N+3]),V.updateCurvePathMinMax(pe,fe,de,Y,ee,_[N],_[N+1],_[N+2],_[N+3],ve),Y=_[N+2],ee=_[N+3],N+=4;break;case r.OPS.curveTo3:fe=Y,de=ee,Y=_[N+2],ee=_[N+3],D.bezierCurveTo(_[N],_[N+1],Y,ee,Y,ee),V.updateCurvePathMinMax(pe,fe,de,_[N],_[N+1],Y,ee,Y,ee,ve),N+=4;break;case r.OPS.closePath:D.closePath();break}Ee&&V.updateScalingPathMinMax(pe,ve),V.setCurrentPoint(Y,ee)}closePath(){this.ctx.closePath()}stroke(b=!0){const _=this.ctx,R=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof R=="object"&&(R==null?void 0:R.getPattern)?(_.save(),_.strokeStyle=R.getPattern(_,this,(0,H.getCurrentTransformInverse)(_),i.PathType.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),b&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(b=!0){const _=this.ctx,R=this.current.fillColor,D=this.current.patternFill;let V=!1;D&&(_.save(),_.fillStyle=R.getPattern(_,this,(0,H.getCurrentTransformInverse)(_),i.PathType.FILL),V=!0);const Y=this.current.getClippedPathBoundingBox();this.contentVisible&&Y!==null&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),V&&_.restore(),b&&this.consumePath(Y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=B}eoClip(){this.pendingClip=P}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const b=this.pendingTextPaths,_=this.ctx;if(b===void 0){_.beginPath();return}_.save(),_.beginPath();for(const R of b)_.setTransform(...R.transform),_.translate(R.x,R.y),R.addToPath(_,R.fontSize);_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}setCharSpacing(b){this.current.charSpacing=b}setWordSpacing(b){this.current.wordSpacing=b}setHScale(b){this.current.textHScale=b/100}setLeading(b){this.current.leading=-b}setFont(b,_){const R=this.commonObjs.get(b),D=this.current;if(!R)throw new Error(`Can't find font for ${b}`);if(D.fontMatrix=R.fontMatrix||r.FONT_IDENTITY_MATRIX,(D.fontMatrix[0]===0||D.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+b),_<0?(_=-_,D.fontDirection=-1):D.fontDirection=1,this.current.font=R,this.current.fontSize=_,R.isType3Font)return;const V=R.loadedName||"sans-serif";let Y="normal";R.black?Y="900":R.bold&&(Y="bold");const ee=R.italic?"italic":"normal",fe=`"${V}", ${R.fallbackName}`;let de=_;_<d?de=d:_>q&&(de=q),this.current.fontSizeScale=_/de,this.ctx.font=`${ee} ${Y} ${de}px ${fe}`}setTextRenderingMode(b){this.current.textRenderingMode=b}setTextRise(b){this.current.textRise=b}moveText(b,_){this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=_}setLeadingMoveText(b,_){this.setLeading(-_),this.moveText(b,_)}setTextMatrix(b,_,R,D,V,Y){this.current.textMatrix=[b,_,R,D,V,Y],this.current.textMatrixScale=Math.hypot(b,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(b,_,R,D){const V=this.ctx,Y=this.current,ee=Y.font,fe=Y.textRenderingMode,de=Y.fontSize/Y.fontSizeScale,pe=fe&r.TextRenderingMode.FILL_STROKE_MASK,Ee=!!(fe&r.TextRenderingMode.ADD_TO_PATH_FLAG),ve=Y.patternFill&&!ee.missingFile;let S;(ee.disableFontFace||Ee||ve)&&(S=ee.getPathGenerator(this.commonObjs,b)),ee.disableFontFace||ve?(V.save(),V.translate(_,R),V.beginPath(),S(V,de),D&&V.setTransform(...D),(pe===r.TextRenderingMode.FILL||pe===r.TextRenderingMode.FILL_STROKE)&&V.fill(),(pe===r.TextRenderingMode.STROKE||pe===r.TextRenderingMode.FILL_STROKE)&&V.stroke(),V.restore()):((pe===r.TextRenderingMode.FILL||pe===r.TextRenderingMode.FILL_STROKE)&&V.fillText(b,_,R),(pe===r.TextRenderingMode.STROKE||pe===r.TextRenderingMode.FILL_STROKE)&&V.strokeText(b,_,R)),Ee&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,H.getCurrentTransform)(V),x:_,y:R,fontSize:de,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:b}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);b.scale(1.5,1),b.fillText("I",0,10);const _=b.getImageData(0,0,10,10).data;let R=!1;for(let D=3;D<_.length;D+=4)if(_[D]>0&&_[D]<255){R=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",R)}showText(b){const _=this.current,R=_.font;if(R.isType3Font)return this.showType3Text(b);const D=_.fontSize;if(D===0)return;const V=this.ctx,Y=_.fontSizeScale,ee=_.charSpacing,fe=_.wordSpacing,de=_.fontDirection,pe=_.textHScale*de,Ee=b.length,ve=R.vertical,S=ve?1:-1,N=R.defaultVMetrics,X=D*_.fontMatrix[0],oe=_.textRenderingMode===r.TextRenderingMode.FILL&&!R.disableFontFace&&!_.patternFill;V.save(),V.transform(..._.textMatrix),V.translate(_.x,_.y+_.textRise),de>0?V.scale(pe,-1):V.scale(pe,1);let v;if(_.patternFill){V.save();const J=_.fillColor.getPattern(V,this,(0,H.getCurrentTransformInverse)(V),i.PathType.FILL);v=(0,H.getCurrentTransform)(V),V.restore(),V.fillStyle=J}let l=_.lineWidth;const h=_.textMatrixScale;if(h===0||l===0){const J=_.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(J===r.TextRenderingMode.STROKE||J===r.TextRenderingMode.FILL_STROKE)&&(l=this.getSinglePixelWidth())}else l/=h;if(Y!==1&&(V.scale(Y,Y),l/=Y),V.lineWidth=l,R.isInvalidPDFjsFont){const J=[];let re=0;for(const Se of b)J.push(Se.unicode),re+=Se.width;V.fillText(J.join(""),0,0),_.x+=re*X*pe,V.restore(),this.compose();return}let A=0,Z;for(Z=0;Z<Ee;++Z){const J=b[Z];if(typeof J=="number"){A+=S*J*D/1e3;continue}let re=!1;const Se=(J.isSpace?fe:0)+ee,Ce=J.fontChar,xe=J.accent;let He,De,je=J.width;if(ve){const ae=J.vmetric||N,le=-(J.vmetric?ae[1]:je*.5)*X,Ae=ae[2]*X;je=ae?-ae[0]:je,He=le/Y,De=(A+Ae)/Y}else He=A/Y,De=0;if(R.remeasure&&je>0){const ae=V.measureText(Ce).width*1e3/D*Y;if(je<ae&&this.isFontSubpixelAAEnabled){const le=je/ae;re=!0,V.save(),V.scale(le,1),He/=le}else je!==ae&&(He+=(je-ae)/2e3*D/Y)}if(this.contentVisible&&(J.isInFont||R.missingFile)){if(oe&&!xe)V.fillText(Ce,He,De);else if(this.paintChar(Ce,He,De,v),xe){const ae=He+D*xe.offset.x/Y,le=De-D*xe.offset.y/Y;this.paintChar(xe.fontChar,ae,le,v)}}let ne;ve?ne=je*X-Se*de:ne=je*X+Se*de,A+=ne,re&&V.restore()}ve?_.y-=A:_.x+=A*pe,V.restore(),this.compose()}showType3Text(b){const _=this.ctx,R=this.current,D=R.font,V=R.fontSize,Y=R.fontDirection,ee=D.vertical?1:-1,fe=R.charSpacing,de=R.wordSpacing,pe=R.textHScale*Y,Ee=R.fontMatrix||r.FONT_IDENTITY_MATRIX,ve=b.length,S=R.textRenderingMode===r.TextRenderingMode.INVISIBLE;let N,X,oe,v;if(!(S||V===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,_.save(),_.transform(...R.textMatrix),_.translate(R.x,R.y),_.scale(pe,Y),N=0;N<ve;++N){if(X=b[N],typeof X=="number"){v=ee*X*V/1e3,this.ctx.translate(v,0),R.x+=v*pe;continue}const l=(X.isSpace?de:0)+fe,h=D.charProcOperatorList[X.operatorListId];if(!h){(0,r.warn)(`Type3 character "${X.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=X,this.save(),_.scale(V,V),_.transform(...Ee),this.executeOperatorList(h),this.restore()),oe=r.Util.applyTransform([X.width,0],Ee)[0]*V+l,_.translate(oe,0),R.x+=oe*pe}_.restore(),this.processingType3=null}}setCharWidth(b,_){}setCharWidthAndBounds(b,_,R,D,V,Y){this.ctx.rect(R,D,V-R,Y-D),this.ctx.clip(),this.endPath()}getColorN_Pattern(b){let _;if(b[0]==="TilingPattern"){const R=b[1],D=this.baseTransform||(0,H.getCurrentTransform)(this.ctx),V={createCanvasGraphics:Y=>new K(Y,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_=new i.TilingPattern(b,R,this.ctx,V,D)}else _=this._getPattern(b[1],b[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(b,_,R){var V;const D=((V=this.selectColor)==null?void 0:V.call(this,b,_,R))||r.Util.makeHexColor(b,_,R);this.ctx.strokeStyle=D,this.current.strokeColor=D}setFillRGBColor(b,_,R){var V;const D=((V=this.selectColor)==null?void 0:V.call(this,b,_,R))||r.Util.makeHexColor(b,_,R);this.ctx.fillStyle=D,this.current.fillColor=D,this.current.patternFill=!1}_getPattern(b,_=null){let R;return this.cachedPatterns.has(b)?R=this.cachedPatterns.get(b):(R=(0,i.getShadingPattern)(this.objs.get(b)),this.cachedPatterns.set(b,R)),_&&(R.matrix=_),R}shadingFill(b){if(!this.contentVisible)return;const _=this.ctx;this.save();const R=this._getPattern(b);_.fillStyle=R.getPattern(_,this,(0,H.getCurrentTransformInverse)(_),i.PathType.SHADING);const D=(0,H.getCurrentTransformInverse)(_);if(D){const V=_.canvas,Y=V.width,ee=V.height,fe=r.Util.applyTransform([0,0],D),de=r.Util.applyTransform([0,ee],D),pe=r.Util.applyTransform([Y,0],D),Ee=r.Util.applyTransform([Y,ee],D),ve=Math.min(fe[0],de[0],pe[0],Ee[0]),S=Math.min(fe[1],de[1],pe[1],Ee[1]),N=Math.max(fe[0],de[0],pe[0],Ee[0]),X=Math.max(fe[1],de[1],pe[1],Ee[1]);this.ctx.fillRect(ve,S,N-ve,X-S)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(b,_){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(b)&&b.length===6&&this.transform(...b),this.baseTransform=(0,H.getCurrentTransform)(this.ctx),_)){const R=_[2]-_[0],D=_[3]-_[1];this.ctx.rect(_[0],_[1],R,D),this.current.updateRectMinMax((0,H.getCurrentTransform)(this.ctx),_),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(b){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;b.isolated||(0,r.info)("TODO: Support non-isolated groups."),b.knockout&&(0,r.warn)("Knockout groups not supported.");const R=(0,H.getCurrentTransform)(_);if(b.matrix&&_.transform(...b.matrix),!b.bbox)throw new Error("Bounding box is required.");let D=r.Util.getAxialAlignedBoundingBox(b.bbox,(0,H.getCurrentTransform)(_));const V=[0,0,_.canvas.width,_.canvas.height];D=r.Util.intersect(D,V)||[0,0,0,0];const Y=Math.floor(D[0]),ee=Math.floor(D[1]);let fe=Math.max(Math.ceil(D[2])-Y,1),de=Math.max(Math.ceil(D[3])-ee,1),pe=1,Ee=1;fe>m&&(pe=fe/m,fe=m),de>m&&(Ee=de/m,de=m),this.current.startNewPathAndClipBox([0,0,fe,de]);let ve="groupAt"+this.groupLevel;b.smask&&(ve+="_smask_"+this.smaskCounter++%2);const S=this.cachedCanvases.getCanvas(ve,fe,de),N=S.context;N.scale(1/pe,1/Ee),N.translate(-Y,-ee),N.transform(...R),b.smask?this.smaskStack.push({canvas:S.canvas,context:N,offsetX:Y,offsetY:ee,scaleX:pe,scaleY:Ee,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(Y,ee),_.scale(pe,Ee),_.save()),e(_,N),this.ctx=N,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(b){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,R=this.groupStack.pop();if(this.ctx=R,this.ctx.imageSmoothingEnabled=!1,b.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const D=(0,H.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...D);const V=r.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],D);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(V)}}beginAnnotation(b,_,R,D,V){if(Re(this,I,kr).call(this),u(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_)&&_.length===4){const Y=_[2]-_[0],ee=_[3]-_[1];if(V&&this.annotationCanvasMap){R=R.slice(),R[4]-=_[0],R[5]-=_[1],_=_.slice(),_[0]=_[1]=0,_[2]=Y,_[3]=ee;const[fe,de]=r.Util.singularValueDecompose2dScale((0,H.getCurrentTransform)(this.ctx)),{viewportScale:pe}=this,Ee=Math.ceil(Y*this.outputScaleX*pe),ve=Math.ceil(ee*this.outputScaleY*pe);this.annotationCanvas=this.canvasFactory.create(Ee,ve);const{canvas:S,context:N}=this.annotationCanvas;this.annotationCanvasMap.set(b,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=N,this.ctx.setTransform(fe,0,0,-de,0,ee*de),u(this.ctx,this.foregroundColor)}else u(this.ctx,this.foregroundColor),this.ctx.rect(_[0],_[1],Y,ee),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...R),this.transform(...D)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(b){if(!this.contentVisible)return;const _=b.count;b=this.getObject(b.data,b),b.count=_;const R=this.ctx,D=this.processingType3;if(D&&(D.compiled===void 0&&(D.compiled=s(b)),D.compiled)){D.compiled(R);return}const V=this._createMaskCanvas(b),Y=V.canvas;R.save(),R.setTransform(1,0,0,1,0,0),R.drawImage(Y,V.offsetX,V.offsetY),R.restore(),this.compose()}paintImageMaskXObjectRepeat(b,_,R=0,D=0,V,Y){if(!this.contentVisible)return;b=this.getObject(b.data,b);const ee=this.ctx;ee.save();const fe=(0,H.getCurrentTransform)(ee);ee.transform(_,R,D,V,0,0);const de=this._createMaskCanvas(b);ee.setTransform(1,0,0,1,de.offsetX-fe[4],de.offsetY-fe[5]);for(let pe=0,Ee=Y.length;pe<Ee;pe+=2){const ve=r.Util.transform(fe,[_,R,D,V,Y[pe],Y[pe+1]]),[S,N]=r.Util.applyTransform([0,0],ve);ee.drawImage(de.canvas,S,N)}ee.restore(),this.compose()}paintImageMaskXObjectGroup(b){if(!this.contentVisible)return;const _=this.ctx,R=this.current.fillColor,D=this.current.patternFill;for(const V of b){const{data:Y,width:ee,height:fe,transform:de}=V,pe=this.cachedCanvases.getCanvas("maskCanvas",ee,fe),Ee=pe.context;Ee.save();const ve=this.getObject(Y,V);t(Ee,ve),Ee.globalCompositeOperation="source-in",Ee.fillStyle=D?R.getPattern(Ee,this,(0,H.getCurrentTransformInverse)(_),i.PathType.FILL):R,Ee.fillRect(0,0,ee,fe),Ee.restore(),_.save(),_.transform(...de),_.scale(1,-1),o(_,pe.canvas,0,0,ee,fe,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(b){if(!this.contentVisible)return;const _=this.getObject(b);if(!_){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_)}paintImageXObjectRepeat(b,_,R,D){if(!this.contentVisible)return;const V=this.getObject(b);if(!V){(0,r.warn)("Dependent image isn't ready yet");return}const Y=V.width,ee=V.height,fe=[];for(let de=0,pe=D.length;de<pe;de+=2)fe.push({transform:[_,0,0,R,D[de],D[de+1]],x:0,y:0,w:Y,h:ee});this.paintInlineImageXObjectGroup(V,fe)}paintInlineImageXObject(b){if(!this.contentVisible)return;const _=b.width,R=b.height,D=this.ctx;this.save(),D.scale(1/_,-1/R);let V;if(typeof HTMLElement=="function"&&b instanceof HTMLElement||!b.data)V=b;else{const ee=this.cachedCanvases.getCanvas("inlineImage",_,R),fe=ee.context;a(fe,b,this.current.transferMaps),V=ee.canvas}const Y=this._scaleImage(V,(0,H.getCurrentTransformInverse)(D));D.imageSmoothingEnabled=z((0,H.getCurrentTransform)(D),b.interpolate),o(D,Y.img,0,0,Y.paintWidth,Y.paintHeight,0,-R,_,R),this.compose(),this.restore()}paintInlineImageXObjectGroup(b,_){if(!this.contentVisible)return;const R=this.ctx,D=b.width,V=b.height,Y=this.cachedCanvases.getCanvas("inlineImage",D,V),ee=Y.context;a(ee,b,this.current.transferMaps);for(const fe of _)R.save(),R.transform(...fe.transform),R.scale(1,-1),o(R,Y.canvas,fe.x,fe.y,fe.w,fe.h,0,-1,1,1),R.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(b){}markPointProps(b,_){}beginMarkedContent(b){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(b,_){b==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(b){const _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(b);const R=this.ctx;this.pendingClip&&(_||(this.pendingClip===P?R.clip("evenodd"):R.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),R.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const b=(0,H.getCurrentTransform)(this.ctx);if(b[1]===0&&b[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(b[0]),Math.abs(b[3]));else{const _=Math.abs(b[0]*b[3]-b[2]*b[1]),R=Math.hypot(b[0],b[2]),D=Math.hypot(b[1],b[3]);this._cachedGetSinglePixelWidth=Math.max(R,D)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:b}=this.current,_=(0,H.getCurrentTransform)(this.ctx);let R,D;if(_[1]===0&&_[2]===0){const V=Math.abs(_[0]),Y=Math.abs(_[3]);if(b===0)R=1/V,D=1/Y;else{const ee=V*b,fe=Y*b;R=ee<1?1/ee:1,D=fe<1?1/fe:1}}else{const V=Math.abs(_[0]*_[3]-_[2]*_[1]),Y=Math.hypot(_[0],_[1]),ee=Math.hypot(_[2],_[3]);if(b===0)R=ee/V,D=Y/V;else{const fe=b*V;R=ee>fe?ee/fe:1,D=Y>fe?Y/fe:1}}this._cachedScaleForStroking=[R,D]}return this._cachedScaleForStroking}rescaleAndStroke(b){const{ctx:_}=this,{lineWidth:R}=this.current,[D,V]=this.getScaleForStroking();if(_.lineWidth=R||1,D===1&&V===1){_.stroke();return}let Y,ee,fe;b&&(Y=(0,H.getCurrentTransform)(_),ee=_.getLineDash().slice(),fe=_.lineDashOffset),_.scale(D,V);const de=Math.max(D,V);_.setLineDash(_.getLineDash().map(pe=>pe/de)),_.lineDashOffset/=de,_.stroke(),b&&(_.setTransform(...Y),_.setLineDash(ee),_.lineDashOffset=fe)}isContentVisible(){for(let b=this.markedContentStack.length-1;b>=0;b--)if(!this.markedContentStack[b].visible)return!1;return!0}};let O=K;I=new WeakSet,kr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},c.CanvasGraphics=O;for(const M in r.OPS)O.prototype[M]!==void 0&&(O.prototype[r.OPS[M]]=O.prototype[M])},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TilingPattern=c.PathType=void 0,c.getShadingPattern=T;var r=te(1),H=te(6);const i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};c.PathType=i;function k(o,s){if(!s)return;const n=s[2]-s[0],a=s[3]-s[1],t=new Path2D;t.rect(s[0],s[1],n,a),o.clip(t)}class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class q extends d{constructor(s){super();this._type=s[1],this._bbox=s[2],this._colorStops=s[3],this._p0=s[4],this._p1=s[5],this._r0=s[6],this._r1=s[7],this.matrix=null}_createGradient(s){let n;this._type==="axial"?n=s.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=s.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(s,n,a,t){let e;if(t===i.STROKE||t===i.FILL){const u=n.current.getClippedPathBoundingBox(t,(0,H.getCurrentTransform)(s))||[0,0,0,0],p=Math.ceil(u[2]-u[0])||1,C=Math.ceil(u[3]-u[1])||1,L=n.cachedCanvases.getCanvas("pattern",p,C,!0),x=L.context;x.clearRect(0,0,x.canvas.width,x.canvas.height),x.beginPath(),x.rect(0,0,x.canvas.width,x.canvas.height),x.translate(-u[0],-u[1]),a=r.Util.transform(a,[1,0,0,1,u[0],u[1]]),x.transform(...n.baseTransform),this.matrix&&x.transform(...this.matrix),k(x,this._bbox),x.fillStyle=this._createGradient(x),x.fill(),e=s.createPattern(L.canvas,"no-repeat");const g=new DOMMatrix(a);e.setTransform(g)}else k(s,this._bbox),e=this._createGradient(s);return e}}function m(o,s,n,a,t,e,u,p){const C=s.coords,L=s.colors,x=o.data,g=o.width*4;let z;C[n+1]>C[a+1]&&(z=n,n=a,a=z,z=e,e=u,u=z),C[a+1]>C[t+1]&&(z=a,a=t,t=z,z=u,u=p,p=z),C[n+1]>C[a+1]&&(z=n,n=a,a=z,z=e,e=u,u=z);const Q=(C[n]+s.offsetX)*s.scaleX,w=(C[n+1]+s.offsetY)*s.scaleY,B=(C[a]+s.offsetX)*s.scaleX,P=(C[a+1]+s.offsetY)*s.scaleY,O=(C[t]+s.offsetX)*s.scaleX,I=(C[t+1]+s.offsetY)*s.scaleY;if(w>=I)return;const $=L[e],K=L[e+1],M=L[e+2],b=L[u],_=L[u+1],R=L[u+2],D=L[p],V=L[p+1],Y=L[p+2],ee=Math.round(w),fe=Math.round(I);let de,pe,Ee,ve,S,N,X,oe;for(let v=ee;v<=fe;v++){if(v<P){let J;v<w?J=0:J=(w-v)/(w-P),de=Q-(Q-B)*J,pe=$-($-b)*J,Ee=K-(K-_)*J,ve=M-(M-R)*J}else{let J;v>I?J=1:P===I?J=0:J=(P-v)/(P-I),de=B-(B-O)*J,pe=b-(b-D)*J,Ee=_-(_-V)*J,ve=R-(R-Y)*J}let l;v<w?l=0:v>I?l=1:l=(w-v)/(w-I),S=Q-(Q-O)*l,N=$-($-D)*l,X=K-(K-V)*l,oe=M-(M-Y)*l;const h=Math.round(Math.min(de,S)),A=Math.round(Math.max(de,S));let Z=g*v+h*4;for(let J=h;J<=A;J++)l=(de-J)/(de-S),l<0?l=0:l>1&&(l=1),x[Z++]=pe-(pe-N)*l|0,x[Z++]=Ee-(Ee-X)*l|0,x[Z++]=ve-(ve-oe)*l|0,x[Z++]=255}}function U(o,s,n){const a=s.coords,t=s.colors;let e,u;switch(s.type){case"lattice":const p=s.verticesPerRow,C=Math.floor(a.length/p)-1,L=p-1;for(e=0;e<C;e++){let x=e*p;for(let g=0;g<L;g++,x++)m(o,n,a[x],a[x+1],a[x+p],t[x],t[x+1],t[x+p]),m(o,n,a[x+p+1],a[x+1],a[x+p],t[x+p+1],t[x+1],t[x+p])}break;case"triangles":for(e=0,u=a.length;e<u;e+=3)m(o,n,a[e],a[e+1],a[e+2],t[e],t[e+1],t[e+2]);break;default:throw new Error("illegal figure")}}class W extends d{constructor(s){super();this._coords=s[2],this._colors=s[3],this._figures=s[4],this._bounds=s[5],this._bbox=s[7],this._background=s[8],this.matrix=null}_createMeshCanvas(s,n,a){const t=1.1,e=3e3,u=2,p=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-p,x=Math.ceil(this._bounds[3])-C,g=Math.min(Math.ceil(Math.abs(L*s[0]*t)),e),z=Math.min(Math.ceil(Math.abs(x*s[1]*t)),e),Q=L/g,w=x/z,B={coords:this._coords,colors:this._colors,offsetX:-p,offsetY:-C,scaleX:1/Q,scaleY:1/w},P=g+u*2,O=z+u*2,I=a.getCanvas("mesh",P,O,!1),$=I.context,K=$.createImageData(g,z);if(n){const b=K.data;for(let _=0,R=b.length;_<R;_+=4)b[_]=n[0],b[_+1]=n[1],b[_+2]=n[2],b[_+3]=255}for(const b of this._figures)U(K,b,B);return $.putImageData(K,u,u),{canvas:I.canvas,offsetX:p-u*Q,offsetY:C-u*w,scaleX:Q,scaleY:w}}getPattern(s,n,a,t){k(s,this._bbox);let e;if(t===i.SHADING)e=r.Util.singularValueDecompose2dScale((0,H.getCurrentTransform)(s));else if(e=r.Util.singularValueDecompose2dScale(n.baseTransform),this.matrix){const p=r.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*p[0],e[1]*p[1]]}const u=this._createMeshCanvas(e,t===i.SHADING?null:this._background,n.cachedCanvases);return t!==i.SHADING&&(s.setTransform(...n.baseTransform),this.matrix&&s.transform(...this.matrix)),s.translate(u.offsetX,u.offsetY),s.scale(u.scaleX,u.scaleY),s.createPattern(u.canvas,"no-repeat")}}class F extends d{getPattern(){return"hotpink"}}function T(o){switch(o[0]){case"RadialAxial":return new q(o);case"Mesh":return new W(o);case"Dummy":return new F}throw new Error(`Unknown IR type: ${o[0]}`)}const E={COLORED:1,UNCOLORED:2};class f{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(s,n,a,t,e){this.operatorList=s[2],this.matrix=s[3]||[1,0,0,1,0,0],this.bbox=s[4],this.xstep=s[5],this.ystep=s[6],this.paintType=s[7],this.tilingType=s[8],this.color=n,this.ctx=a,this.canvasGraphicsFactory=t,this.baseTransform=e}createPatternCanvas(s){const n=this.operatorList,a=this.bbox,t=this.xstep,e=this.ystep,u=this.paintType,p=this.tilingType,C=this.color,L=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+p);const x=a[0],g=a[1],z=a[2],Q=a[3],w=r.Util.singularValueDecompose2dScale(this.matrix),B=r.Util.singularValueDecompose2dScale(this.baseTransform),P=[w[0]*B[0],w[1]*B[1]],O=this.getSizeAndScale(t,this.ctx.canvas.width,P[0]),I=this.getSizeAndScale(e,this.ctx.canvas.height,P[1]),$=s.cachedCanvases.getCanvas("pattern",O.size,I.size,!0),K=$.context,M=L.createCanvasGraphics(K);M.groupLevel=s.groupLevel,this.setFillAndStrokeStyleToContext(M,u,C);let b=x,_=g,R=z,D=Q;return x<0&&(b=0,R+=Math.abs(x)),g<0&&(_=0,D+=Math.abs(g)),K.translate(-(O.scale*b),-(I.scale*_)),M.transform(O.scale,0,0,I.scale,0,0),K.save(),this.clipBbox(M,b,_,R,D),M.baseTransform=(0,H.getCurrentTransform)(M.ctx),M.executeOperatorList(n),M.endDrawing(),{canvas:$.canvas,scaleX:O.scale,scaleY:I.scale,offsetX:b,offsetY:_}}getSizeAndScale(s,n,a){s=Math.abs(s);const t=Math.max(f.MAX_PATTERN_SIZE,n);let e=Math.ceil(s*a);return e>=t?e=t:a=e/s,{scale:a,size:e}}clipBbox(s,n,a,t,e){const u=t-n,p=e-a;s.ctx.rect(n,a,u,p),s.current.updateRectMinMax((0,H.getCurrentTransform)(s.ctx),[n,a,t,e]),s.clip(),s.endPath()}setFillAndStrokeStyleToContext(s,n,a){const t=s.ctx,e=s.current;switch(n){case E.COLORED:const u=this.ctx;t.fillStyle=u.fillStyle,t.strokeStyle=u.strokeStyle,e.fillColor=u.fillStyle,e.strokeColor=u.strokeStyle;break;case E.UNCOLORED:const p=r.Util.makeHexColor(a[0],a[1],a[2]);t.fillStyle=p,t.strokeStyle=p,e.fillColor=p,e.strokeColor=p;break;default:throw new r.FormatError(`Unsupported paint type: ${n}`)}}getPattern(s,n,a,t){let e=a;t!==i.SHADING&&(e=r.Util.transform(e,n.baseTransform),this.matrix&&(e=r.Util.transform(e,this.matrix)));const u=this.createPatternCanvas(n);let p=new DOMMatrix(e);p=p.translate(u.offsetX,u.offsetY),p=p.scale(1/u.scaleX,1/u.scaleY);const C=s.createPattern(u.canvas,"repeat");return C.setTransform(p),C}}c.TilingPattern=f},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.applyMaskImageData=H;var r=te(1);function H({src:i,srcPos:k=0,dest:d,destPos:q=0,width:m,height:U,inverseDecode:W=!1}){const F=r.FeatureTest.isLittleEndian?4278190080:255,[T,E]=W?[0,F]:[F,0],f=m>>3,o=m&7,s=i.length;d=new Uint32Array(d.buffer);for(let n=0;n<U;n++){for(const t=k+f;k<t;k++){const e=k<s?i[k]:255;d[q++]=e&128?E:T,d[q++]=e&64?E:T,d[q++]=e&32?E:T,d[q++]=e&16?E:T,d[q++]=e&8?E:T,d[q++]=e&4?E:T,d[q++]=e&2?E:T,d[q++]=e&1?E:T}if(o===0)continue;const a=k<s?i[k++]:255;for(let t=0;t<o;t++)d[q++]=a&1<<7-t?E:T}return{srcPos:k,destPos:q}}},(we,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlobalWorkerOptions=void 0;const te=Object.create(null);c.GlobalWorkerOptions=te,te.workerPort=null,te.workerSrc=""},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MessageHandler=void 0;var r=te(1);const H={UNKNOWN:0,DATA:1,ERROR:2},i={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function k(q){switch(q instanceof Error||typeof q=="object"&&q!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),q.name){case"AbortException":return new r.AbortException(q.message);case"MissingPDFException":return new r.MissingPDFException(q.message);case"PasswordException":return new r.PasswordException(q.message,q.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(q.message,q.status);case"UnknownErrorException":return new r.UnknownErrorException(q.message,q.details);default:return new r.UnknownErrorException(q.message,q.toString())}}class d{constructor(m,U,W){this.sourceName=m,this.targetName=U,this.comObj=W,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=F=>{const T=F.data;if(T.targetName!==this.sourceName)return;if(T.stream){this._processStreamMessage(T);return}if(T.callback){const f=T.callbackId,o=this.callbackCapabilities[f];if(!o)throw new Error(`Cannot resolve callback ${f}`);if(delete this.callbackCapabilities[f],T.callback===H.DATA)o.resolve(T.data);else if(T.callback===H.ERROR)o.reject(k(T.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[T.action];if(!E)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const f=this.sourceName,o=T.sourceName;new Promise(function(s){s(E(T.data))}).then(function(s){W.postMessage({sourceName:f,targetName:o,callback:H.DATA,callbackId:T.callbackId,data:s})},function(s){W.postMessage({sourceName:f,targetName:o,callback:H.ERROR,callbackId:T.callbackId,reason:k(s)})});return}if(T.streamId){this._createStreamSink(T);return}E(T.data)},W.addEventListener("message",this._onComObjOnMessage)}on(m,U){const W=this.actionHandler;if(W[m])throw new Error(`There is already an actionName called "${m}"`);W[m]=U}send(m,U,W){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,data:U},W)}sendWithPromise(m,U,W){const F=this.callbackId++,T=(0,r.createPromiseCapability)();this.callbackCapabilities[F]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,callbackId:F,data:U},W)}catch(E){T.reject(E)}return T.promise}sendWithStream(m,U,W,F){const T=this.streamId++,E=this.sourceName,f=this.targetName,o=this.comObj;return new ReadableStream({start:s=>{const n=(0,r.createPromiseCapability)();return this.streamControllers[T]={controller:s,startCall:n,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:E,targetName:f,action:m,streamId:T,data:U,desiredSize:s.desiredSize},F),n.promise},pull:s=>{const n=(0,r.createPromiseCapability)();return this.streamControllers[T].pullCall=n,o.postMessage({sourceName:E,targetName:f,stream:i.PULL,streamId:T,desiredSize:s.desiredSize}),n.promise},cancel:s=>{(0,r.assert)(s instanceof Error,"cancel must have a valid reason");const n=(0,r.createPromiseCapability)();return this.streamControllers[T].cancelCall=n,this.streamControllers[T].isClosed=!0,o.postMessage({sourceName:E,targetName:f,stream:i.CANCEL,streamId:T,reason:k(s)}),n.promise}},W)}_createStreamSink(m){const U=m.streamId,W=this.sourceName,F=m.sourceName,T=this.comObj,E=this,f=this.actionHandler[m.action],o={enqueue(s,n=1,a){if(this.isCancelled)return;const t=this.desiredSize;this.desiredSize-=n,t>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),T.postMessage({sourceName:W,targetName:F,stream:i.ENQUEUE,streamId:U,chunk:s},a)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:W,targetName:F,stream:i.CLOSE,streamId:U}),delete E.streamSinks[U])},error(s){(0,r.assert)(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:W,targetName:F,stream:i.ERROR,streamId:U,reason:k(s)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:m.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[U]=o,new Promise(function(s){s(f(m.data,o))}).then(function(){T.postMessage({sourceName:W,targetName:F,stream:i.START_COMPLETE,streamId:U,success:!0})},function(s){T.postMessage({sourceName:W,targetName:F,stream:i.START_COMPLETE,streamId:U,reason:k(s)})})}_processStreamMessage(m){const U=m.streamId,W=this.sourceName,F=m.sourceName,T=this.comObj,E=this.streamControllers[U],f=this.streamSinks[U];switch(m.stream){case i.START_COMPLETE:m.success?E.startCall.resolve():E.startCall.reject(k(m.reason));break;case i.PULL_COMPLETE:m.success?E.pullCall.resolve():E.pullCall.reject(k(m.reason));break;case i.PULL:if(!f){T.postMessage({sourceName:W,targetName:F,stream:i.PULL_COMPLETE,streamId:U,success:!0});break}f.desiredSize<=0&&m.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=m.desiredSize,new Promise(function(o){o(f.onPull&&f.onPull())}).then(function(){T.postMessage({sourceName:W,targetName:F,stream:i.PULL_COMPLETE,streamId:U,success:!0})},function(o){T.postMessage({sourceName:W,targetName:F,stream:i.PULL_COMPLETE,streamId:U,reason:k(o)})});break;case i.ENQUEUE:if((0,r.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(m.chunk);break;case i.CLOSE:if((0,r.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),this._deleteStreamController(E,U);break;case i.ERROR:(0,r.assert)(E,"error should have stream controller"),E.controller.error(k(m.reason)),this._deleteStreamController(E,U);break;case i.CANCEL_COMPLETE:m.success?E.cancelCall.resolve():E.cancelCall.reject(k(m.reason)),this._deleteStreamController(E,U);break;case i.CANCEL:if(!f)break;new Promise(function(o){o(f.onCancel&&f.onCancel(k(m.reason)))}).then(function(){T.postMessage({sourceName:W,targetName:F,stream:i.CANCEL_COMPLETE,streamId:U,success:!0})},function(o){T.postMessage({sourceName:W,targetName:F,stream:i.CANCEL_COMPLETE,streamId:U,reason:k(o)})}),f.sinkCapability.reject(k(m.reason)),f.isCancelled=!0,delete this.streamSinks[U];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(m,U){return Xt(this,null,function*(){yield Promise.allSettled([m.startCall&&m.startCall.promise,m.pullCall&&m.pullCall.promise,m.cancelCall&&m.cancelCall.promise]),delete this.streamControllers[U]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}c.MessageHandler=d},(we,c,te)=>{var i,k;Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var r=te(1);class H{constructor({parsedData:q,rawData:m}){i.set(this,void 0);k.set(this,void 0);ze(this,i,q),ze(this,k,m)}getRaw(){return G(this,k)}get(q){var m;return(m=G(this,i).get(q))!=null?m:null}getAll(){return(0,r.objectFromMap)(G(this,i))}has(q){return G(this,i).has(q)}}i=new WeakMap,k=new WeakMap,c.Metadata=H},(we,c,te)=>{var q,m,U,W,F,T,Pr;Object.defineProperty(c,"__esModule",{value:!0}),c.OptionalContentConfig=void 0;var r=te(1),H=te(8);const i=Symbol("INTERNAL");class k{constructor(o,s){q.set(this,!0);this.name=o,this.intent=s}get visible(){return G(this,q)}_setVisible(o,s){o!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),ze(this,q,s)}}q=new WeakMap;class d{constructor(o){T.add(this);m.set(this,null);U.set(this,new Map);W.set(this,null);F.set(this,null);if(this.name=null,this.creator=null,o!==null){this.name=o.name,this.creator=o.creator,ze(this,F,o.order);for(const s of o.groups)G(this,U).set(s.id,new k(s.name,s.intent));if(o.baseState==="OFF")for(const s of G(this,U).values())s._setVisible(i,!1);for(const s of o.on)G(this,U).get(s)._setVisible(i,!0);for(const s of o.off)G(this,U).get(s)._setVisible(i,!1);ze(this,W,this.getHash())}}isVisible(o){if(G(this,U).size===0)return!0;if(!o)return(0,r.warn)("Optional content group not defined."),!0;if(o.type==="OCG")return G(this,U).has(o.id)?G(this,U).get(o.id).visible:((0,r.warn)(`Optional content group not found: ${o.id}`),!0);if(o.type==="OCMD"){if(o.expression)return Re(this,T,Pr).call(this,o.expression);if(!o.policy||o.policy==="AnyOn"){for(const s of o.ids){if(!G(this,U).has(s))return(0,r.warn)(`Optional content group not found: ${s}`),!0;if(G(this,U).get(s).visible)return!0}return!1}else if(o.policy==="AllOn"){for(const s of o.ids){if(!G(this,U).has(s))return(0,r.warn)(`Optional content group not found: ${s}`),!0;if(!G(this,U).get(s).visible)return!1}return!0}else if(o.policy==="AnyOff"){for(const s of o.ids){if(!G(this,U).has(s))return(0,r.warn)(`Optional content group not found: ${s}`),!0;if(!G(this,U).get(s).visible)return!0}return!1}else if(o.policy==="AllOff"){for(const s of o.ids){if(!G(this,U).has(s))return(0,r.warn)(`Optional content group not found: ${s}`),!0;if(G(this,U).get(s).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${o.policy}.`),!0}return(0,r.warn)(`Unknown group type ${o.type}.`),!0}setVisibility(o,s=!0){if(!G(this,U).has(o)){(0,r.warn)(`Optional content group not found: ${o}`);return}G(this,U).get(o)._setVisible(i,!!s),ze(this,m,null)}get hasInitialVisibility(){return this.getHash()===G(this,W)}getOrder(){return G(this,U).size?G(this,F)?G(this,F).slice():[...G(this,U).keys()]:null}getGroups(){return G(this,U).size>0?(0,r.objectFromMap)(G(this,U)):null}getGroup(o){return G(this,U).get(o)||null}getHash(){if(G(this,m)!==null)return G(this,m);const o=new H.MurmurHash3_64;for(const[s,n]of G(this,U))o.update(`${s}:${n.visible}`);return ze(this,m,o.hexdigest())}}m=new WeakMap,U=new WeakMap,W=new WeakMap,F=new WeakMap,T=new WeakSet,Pr=function(o){const s=o.length;if(s<2)return!0;const n=o[0];for(let a=1;a<s;a++){const t=o[a];let e;if(Array.isArray(t))e=Re(this,T,Pr).call(this,t);else if(G(this,U).has(t))e=G(this,U).get(t).visible;else return(0,r.warn)(`Optional content group not found: ${t}`),!0;switch(n){case"And":if(!e)return!1;break;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return n==="And"},c.OptionalContentConfig=d},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFDataTransportStream=void 0;var r=te(1),H=te(6);class i{constructor({length:m,initialData:U,progressiveDone:W=!1,contentDispositionFilename:F=null,disableRange:T=!1,disableStream:E=!1},f){if((0,r.assert)(f,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=W,this._contentDispositionFilename=F,(U==null?void 0:U.length)>0){const o=U instanceof Uint8Array&&U.byteLength===U.buffer.byteLength?U.buffer:new Uint8Array(U).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=f,this._isStreamingSupported=!E,this._isRangeSupported=!T,this._contentLength=m,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((o,s)=>{this._onReceiveData({begin:o,chunk:s})}),this._pdfDataRangeTransport.addProgressListener((o,s)=>{this._onProgress({loaded:o,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(o=>{this._onReceiveData({chunk:o})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:m,chunk:U}){const W=U instanceof Uint8Array&&U.byteLength===U.buffer.byteLength?U.buffer:new Uint8Array(U).buffer;if(m===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(W):this._queuedChunks.push(W);else{const F=this._rangeReaders.some(function(T){return T._begin!==m?!1:(T._enqueue(W),!0)});(0,r.assert)(F,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var m,U;return(U=(m=this._fullRequestReader)==null?void 0:m._loaded)!=null?U:0}_onProgress(m){var U,W,F,T;m.total===void 0?(W=(U=this._rangeReaders[0])==null?void 0:U.onProgress)==null||W.call(U,{loaded:m.loaded}):(T=(F=this._fullRequestReader)==null?void 0:F.onProgress)==null||T.call(F,{loaded:m.loaded,total:m.total})}_onProgressiveDone(){var m;(m=this._fullRequestReader)==null||m.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(m){const U=this._rangeReaders.indexOf(m);U>=0&&this._rangeReaders.splice(U,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const m=this._queuedChunks;return this._queuedChunks=null,new k(this,m,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(m,U){if(U<=this._progressiveDataLength)return null;const W=new d(this,m,U);return this._pdfDataRangeTransport.requestDataRange(m,U),this._rangeReaders.push(W),W}cancelAllRequests(m){var U;(U=this._fullRequestReader)==null||U.cancel(m);for(const W of this._rangeReaders.slice(0))W.cancel(m);this._pdfDataRangeTransport.abort()}}c.PDFDataTransportStream=i;class k{constructor(m,U,W=!1,F=null){this._stream=m,this._done=W||!1,this._filename=(0,H.isPdfFile)(F)?F:null,this._queuedChunks=U||[],this._loaded=0;for(const T of this._queuedChunks)this._loaded+=T.byteLength;this._requests=[],this._headersReady=Promise.resolve(),m._fullRequestReader=this,this.onProgress=null}_enqueue(m){this._done||(this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunks.push(m),this._loaded+=m.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return Xt(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const m=(0,r.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d{constructor(m,U,W){this._stream=m,this._begin=U,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(m){if(!this._done){if(this._requests.length===0)this._queuedChunk=m;else{this._requests.shift().resolve({value:m,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return Xt(this,null,function*(){if(this._queuedChunk){const U=this._queuedChunk;return this._queuedChunk=null,{value:U,done:!1}}if(this._done)return{value:void 0,done:!0};const m=(0,r.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(we,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaText=void 0;class te{static textContent(H){const i=[],k={items:i,styles:Object.create(null)};function d(q){var W;if(!q)return;let m=null;const U=q.name;if(U==="#text")m=q.value;else if(te.shouldBuildText(U))((W=q==null?void 0:q.attributes)==null?void 0:W.textContent)?m=q.attributes.textContent:q.value&&(m=q.value);else return;if(m!==null&&i.push({str:m}),!!q.children)for(const F of q.children)d(F)}return d(H),k}static shouldBuildText(H){return!(H==="textarea"||H==="input"||H==="option"||H==="select")}}c.XfaText=te},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NodeStandardFontDataFactory=c.NodeCanvasFactory=c.NodeCMapReaderFactory=void 0;var r=te(7);const H=function(q){return new Promise((m,U)=>{__webpack_require__(70172).readFile(q,(F,T)=>{if(F||!T){U(new Error(F));return}m(new Uint8Array(T))})})};class i extends r.BaseCanvasFactory{_createCanvas(m,U){return __webpack_require__(84663).createCanvas(m,U)}}c.NodeCanvasFactory=i;class k extends r.BaseCMapReaderFactory{_fetchData(m,U){return H(m).then(W=>({cMapData:W,compressionType:U}))}}c.NodeCMapReaderFactory=k;class d extends r.BaseStandardFontDataFactory{_fetchData(m){return H(m)}}c.NodeStandardFontDataFactory=d},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNodeStream=void 0;var r=te(1),H=te(22);const i=__webpack_require__(70172),k=__webpack_require__(2001),d=__webpack_require__(33779),q=__webpack_require__(66558),m=/^file:\/\/\/[a-zA-Z]:\//;function U(a){const t=q.parse(a);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(a)?q.parse(`file:///${a}`):(t.host||(t.protocol="file:"),t)}class W{constructor(t){this.source=t,this.url=U(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return(e=(t=this._fullRequestReader)==null?void 0:t._loaded)!=null?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new s(this):new f(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const u=this.isFsUrl?new n(this,t,e):new o(this,t,e);return this._rangeRequestReaders.push(u),u}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const u of this._rangeRequestReaders.slice(0))u.cancel(t)}}c.PDFNodeStream=W;class F{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Xt(this,null,function*(){var u;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,(u=this.onProgress)==null||u.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return Xt(this,null,function*(){var u;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,(u=this.onProgress)==null||u.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(a,t){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:t}}class f extends F{constructor(t){super(t);const e=u=>{if(u.statusCode===404){const x=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x,this._headersCapability.reject(x);return}this._headersCapability.resolve(),this._setReadableStream(u);const p=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:C,suggestedLength:L}=(0,H.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=L||this._contentLength,this._filename=(0,H.extractFilenameFromHeader)(p)};this._request=null,this._url.protocol==="http:"?this._request=k.request(E(this._url,t.httpHeaders),e):this._request=d.request(E(this._url,t.httpHeaders),e),this._request.on("error",u=>{this._storedError=u,this._headersCapability.reject(u)}),this._request.end()}}class o extends T{constructor(t,e,u){super(t);this._httpHeaders={};for(const C in t.httpHeaders){const L=t.httpHeaders[C];L!==void 0&&(this._httpHeaders[C]=L)}this._httpHeaders.Range=`bytes=${e}-${u-1}`;const p=C=>{if(C.statusCode===404){const L=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L;return}this._setReadableStream(C)};this._request=null,this._url.protocol==="http:"?this._request=k.request(E(this._url,this._httpHeaders),p):this._request=d.request(E(this._url,this._httpHeaders),p),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class s extends F{constructor(t){super(t);let e=decodeURIComponent(this._url.path);m.test(this._url.href)&&(e=e.replace(/^\//,"")),i.lstat(e,(u,p)=>{if(u){u.code==="ENOENT"&&(u=new r.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=u,this._headersCapability.reject(u);return}this._contentLength=p.size,this._setReadableStream(i.createReadStream(e)),this._headersCapability.resolve()})}}class n extends T{constructor(t,e,u){super(t);let p=decodeURIComponent(this._url.path);m.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(i.createReadStream(p,{start:e,end:u-1}))}}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createResponseStatusError=q,c.extractFilenameFromHeader=d,c.validateRangeRequestCapabilities=k,c.validateResponseStatus=m;var r=te(1),H=te(23),i=te(6);function k({getResponseHeader:U,isHttp:W,rangeChunkSize:F,disableRange:T}){const E={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(U("Content-Length"),10);return!Number.isInteger(f)||(E.suggestedLength=f,f<=2*F)||T||!W||U("Accept-Ranges")!=="bytes"||(U("Content-Encoding")||"identity")!=="identity"||(E.allowRangeRequests=!0),E}function d(U){const W=U("Content-Disposition");if(W){let F=(0,H.getFilenameFromContentDispositionHeader)(W);if(F.includes("%"))try{F=decodeURIComponent(F)}catch(T){}if((0,i.isPdfFile)(F))return F}return null}function q(U,W){return U===404||U===0&&W.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+W+'".'):new r.UnexpectedResponseException(`Unexpected server response (${U}) while retrieving PDF "${W}".`,U)}function m(U){return U===200||U===206}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getFilenameFromContentDispositionHeader=H;var r=te(1);function H(i){let k=!0,d=q("filename\\*","i").exec(i);if(d){d=d[1];let f=F(d);return f=unescape(f),f=T(f),f=E(f),U(f)}if(d=W(i),d){const f=E(d);return U(f)}if(d=q("filename","i").exec(i),d){d=d[1];let f=F(d);return f=E(f),U(f)}function q(f,o){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function m(f,o){if(f){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const s=new TextDecoder(f,{fatal:!0}),n=(0,r.stringToBytes)(o);o=s.decode(n),k=!1}catch(s){}}return o}function U(f){return k&&/[\x80-\xff]/.test(f)&&(f=m("utf-8",f),k&&(f=m("iso-8859-1",f))),f}function W(f){const o=[];let s;const n=q("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(s=n.exec(f))!==null;){let[,t,e,u]=s;if(t=parseInt(t,10),t in o){if(t===0)break;continue}o[t]=[e,u]}const a=[];for(let t=0;t<o.length&&t in o;++t){let[e,u]=o[t];u=F(u),e&&(u=unescape(u),t===0&&(u=T(u))),a.push(u)}return a.join("")}function F(f){if(f.startsWith('"')){const o=f.slice(1).split('\\"');for(let s=0;s<o.length;++s){const n=o[s].indexOf('"');n!==-1&&(o[s]=o[s].slice(0,n),o.length=s+1),o[s]=o[s].replace(/\\(.)/g,"$1")}f=o.join('"')}return f}function T(f){const o=f.indexOf("'");if(o===-1)return f;const s=f.slice(0,o),a=f.slice(o+1).replace(/^[^']*'/,"");return m(s,a)}function E(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,s,n,a){if(n==="q"||n==="Q")return a=a.replace(/_/g," "),a=a.replace(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}),m(s,a);try{a=atob(a)}catch(t){}return m(s,a)})}return""}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var r=te(1),H=te(22);const i=200,k=206;function d(F){const T=F.response;return typeof T!="string"?T:(0,r.stringToBytes)(T).buffer}class q{constructor(T,E={}){this.url=T,this.isHttp=/^https?:/i.test(T),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.getXhr=E.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(T,E,f){const o={begin:T,end:E};for(const s in f)o[s]=f[s];return this.request(o)}requestFull(T){return this.request(T)}request(T){const E=this.getXhr(),f=this.currXhrId++,o=this.pendingRequests[f]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const n=this.httpHeaders[s];n!==void 0&&E.setRequestHeader(s,n)}return this.isHttp&&"begin"in T&&"end"in T?(E.setRequestHeader("Range",`bytes=${T.begin}-${T.end-1}`),o.expectedStatus=k):o.expectedStatus=i,E.responseType="arraybuffer",T.onError&&(E.onerror=function(s){T.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,f),E.onprogress=this.onProgress.bind(this,f),o.onHeadersReceived=T.onHeadersReceived,o.onDone=T.onDone,o.onError=T.onError,o.onProgress=T.onProgress,E.send(null),f}onProgress(T,E){var o;const f=this.pendingRequests[T];!f||(o=f.onProgress)==null||o.call(f,E)}onStateChange(T,E){var t,e,u;const f=this.pendingRequests[T];if(!f)return;const o=f.xhr;if(o.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),o.readyState!==4||!(T in this.pendingRequests))return;if(delete this.pendingRequests[T],o.status===0&&this.isHttp){(t=f.onError)==null||t.call(f,o.status);return}const s=o.status||i;if(!(s===i&&f.expectedStatus===k)&&s!==f.expectedStatus){(e=f.onError)==null||e.call(f,o.status);return}const a=d(o);if(s===k){const p=o.getResponseHeader("Content-Range"),C=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);f.onDone({begin:parseInt(C[1],10),chunk:a})}else a?f.onDone({begin:0,chunk:a}):(u=f.onError)==null||u.call(f,o.status)}getRequestXhr(T){return this.pendingRequests[T].xhr}isPendingRequest(T){return T in this.pendingRequests}abortRequest(T){const E=this.pendingRequests[T].xhr;delete this.pendingRequests[T],E.abort()}}class m{constructor(T){this._source=T,this._manager=new q(T.url,{httpHeaders:T.httpHeaders,withCredentials:T.withCredentials}),this._rangeChunkSize=T.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(T){const E=this._rangeRequestReaders.indexOf(T);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U(this._manager,this._source),this._fullRequestReader}getRangeReader(T,E){const f=new W(this._manager,T,E);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(T){var E;(E=this._fullRequestReader)==null||E.cancel(T);for(const f of this._rangeRequestReaders.slice(0))f.cancel(T)}}c.PDFNetworkStream=m;class U{constructor(T,E){this._manager=T;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=T.requestFull(f),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const T=this._fullRequestId,E=this._manager.getRequestXhr(T),f=n=>E.getResponseHeader(n),{allowRangeRequests:o,suggestedLength:s}=(0,H.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,H.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(T),this._headersReceivedCapability.resolve()}_onDone(T){if(T&&(this._requests.length>0?this._requests.shift().resolve({value:T.chunk,done:!1}):this._cachedChunks.push(T.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(T){this._storedError=(0,H.createResponseStatusError)(T,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(T){var E;(E=this.onProgress)==null||E.call(this,{loaded:T.loaded,total:T.lengthComputable?T.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return Xt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const T=(0,r.createPromiseCapability)();return this._requests.push(T),T.promise})}cancel(T){this._done=!0,this._headersReceivedCapability.reject(T);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(T,E,f){this._manager=T;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._requestId=T.requestRange(E,f,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var T;(T=this.onClosed)==null||T.call(this,this)}_onDone(T){const E=T.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(T){this._storedError=(0,H.createResponseStatusError)(T,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(T){var E;this.isStreamingSupported||(E=this.onProgress)==null||E.call(this,{loaded:T.loaded})}get isStreamingSupported(){return!1}read(){return Xt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const T=(0,r.createPromiseCapability)();return this._requests.push(T),T.promise})}cancel(T){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFetchStream=void 0;var r=te(1),H=te(22);function i(W,F,T){return{method:"GET",headers:W,signal:T.signal,mode:"cors",credentials:F?"include":"same-origin",redirect:"follow"}}function k(W){const F=new Headers;for(const T in W){const E=W[T];E!==void 0&&F.append(T,E)}return F}function d(W){return W instanceof Uint8Array?W.buffer:W instanceof ArrayBuffer?W:((0,r.warn)(`getArrayBuffer - unexpected data format: ${W}`),new Uint8Array(W).buffer)}class q{constructor(F){this.source=F,this.isHttp=/^https?:/i.test(F.url),this.httpHeaders=this.isHttp&&F.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var F,T;return(T=(F=this._fullRequestReader)==null?void 0:F._loaded)!=null?T:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new m(this),this._fullRequestReader}getRangeReader(F,T){if(T<=this._progressiveDataLength)return null;const E=new U(this,F,T);return this._rangeRequestReaders.push(E),E}cancelAllRequests(F){var T;(T=this._fullRequestReader)==null||T.cancel(F);for(const E of this._rangeRequestReaders.slice(0))E.cancel(F)}}c.PDFFetchStream=q;class m{constructor(F){this._stream=F,this._reader=null,this._loaded=0,this._filename=null;const T=F.source;this._withCredentials=T.withCredentials||!1,this._contentLength=T.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=T.disableRange||!1,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!T.disableStream,this._isRangeSupported=!T.disableRange,this._headers=k(this._stream.httpHeaders);const E=T.url;fetch(E,i(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,H.validateResponseStatus)(f.status))throw(0,H.createResponseStatusError)(f.status,E);this._reader=f.body.getReader(),this._headersCapability.resolve();const o=a=>f.headers.get(a),{allowRangeRequests:s,suggestedLength:n}=(0,H.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=n||this._contentLength,this._filename=(0,H.extractFilenameFromHeader)(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Xt(this,null,function*(){var E;yield this._headersCapability.promise;const{value:F,done:T}=yield this._reader.read();return T?{value:F,done:T}:(this._loaded+=F.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded,total:this._contentLength}),{value:d(F),done:!1})})}cancel(F){var T;(T=this._reader)==null||T.cancel(F),this._abortController.abort()}}class U{constructor(F,T,E){this._stream=F,this._reader=null,this._loaded=0;const f=F.source;this._withCredentials=f.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=k(this._stream.httpHeaders),this._headers.append("Range",`bytes=${T}-${E-1}`);const o=f.url;fetch(o,i(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,H.validateResponseStatus)(s.status))throw(0,H.createResponseStatusError)(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return Xt(this,null,function*(){var E;yield this._readCapability.promise;const{value:F,done:T}=yield this._reader.read();return T?{value:F,done:T}:(this._loaded+=F.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded}),{value:d(F),done:!1})})}cancel(F){var T;(T=this._reader)==null||T.cancel(F),this._abortController.abort()}}},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerRenderTask=void 0,c.renderTextLayer=f,c.updateTextLayer=o;var r=te(1),H=te(6);const i=1e5,k=30,d=.8,q=new Map;function m(s,n){let a;if(n&&r.FeatureTest.isOffscreenCanvasSupported)a=new OffscreenCanvas(s,s).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=s,a=t.getContext("2d",{alpha:!1})}return a}function U(s,n){const a=q.get(s);if(a)return a;const t=m(k,n);t.font=`${k}px ${s}`;const e=t.measureText("");let u=e.fontBoundingBoxAscent,p=Math.abs(e.fontBoundingBoxDescent);if(u){const L=u/(u+p);return q.set(s,L),t.canvas.width=t.canvas.height=0,L}t.strokeStyle="red",t.clearRect(0,0,k,k),t.strokeText("g",0,0);let C=t.getImageData(0,0,k,k).data;p=0;for(let L=C.length-1-3;L>=0;L-=4)if(C[L]>0){p=Math.ceil(L/4/k);break}t.clearRect(0,0,k,k),t.strokeText("A",0,k),C=t.getImageData(0,0,k,k).data,u=0;for(let L=0,x=C.length;L<x;L+=4)if(C[L]>0){u=k-Math.floor(L/4/k);break}if(t.canvas.width=t.canvas.height=0,u){const L=u/(u+p);return q.set(s,L),L}return q.set(s,d),d}function W(s,n,a){const t=document.createElement("span"),e={angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,fontSize:0};s._textDivs.push(t);const u=r.Util.transform(s._transform,n.transform);let p=Math.atan2(u[1],u[0]);const C=a[n.fontName];C.vertical&&(p+=Math.PI/2);const L=Math.hypot(u[2],u[3]),x=L*U(C.fontFamily,s._isOffscreenCanvasSupported);let g,z;p===0?(g=u[4],z=u[5]-x):(g=u[4]+x*Math.sin(p),z=u[5]-x*Math.cos(p));const Q="calc(var(--scale-factor)*",w=t.style;s._container===s._rootContainer?(w.left=`${(100*g/s._pageWidth).toFixed(2)}%`,w.top=`${(100*z/s._pageHeight).toFixed(2)}%`):(w.left=`${Q}${g.toFixed(2)}px)`,w.top=`${Q}${z.toFixed(2)}px)`),w.fontSize=`${Q}${L.toFixed(2)}px)`,w.fontFamily=C.fontFamily,e.fontSize=L,t.setAttribute("role","presentation"),t.textContent=n.str,t.dir=n.dir,s._fontInspectorEnabled&&(t.dataset.fontName=n.fontName),p!==0&&(e.angle=p*(180/Math.PI));let B=!1;if(n.str.length>1)B=!0;else if(n.str!==" "&&n.transform[0]!==n.transform[3]){const P=Math.abs(n.transform[0]),O=Math.abs(n.transform[3]);P!==O&&Math.max(P,O)/Math.min(P,O)>1.5&&(B=!0)}B&&(e.canvasWidth=C.vertical?n.height:n.width),s._textDivProperties.set(t,e),s._isReadableStream&&s._layoutText(t)}function F(s){const{div:n,scale:a,properties:t,ctx:e,prevFontSize:u,prevFontFamily:p}=s,{style:C}=n;let L="";if(t.canvasWidth!==0&&t.hasText){const{fontFamily:x}=C,{canvasWidth:g,fontSize:z}=t;(u!==z||p!==x)&&(e.font=`${z*a}px ${x}`,s.prevFontSize=z,s.prevFontFamily=x);const{width:Q}=e.measureText(n.textContent);Q>0&&(L=`scaleX(${g*a/Q})`)}t.angle!==0&&(L=`rotate(${t.angle}deg) ${L}`),L.length>0&&(C.transform=L)}function T(s){if(s._canceled)return;const n=s._textDivs,a=s._capability;if(n.length>i){a.resolve();return}if(!s._isReadableStream)for(const e of n)s._layoutText(e);a.resolve()}class E{constructor({textContentSource:n,container:a,viewport:t,textDivs:e,textDivProperties:u,textContentItemsStr:p,isOffscreenCanvasSupported:C}){var Q;this._textContentSource=n,this._isReadableStream=n instanceof ReadableStream,this._container=this._rootContainer=a,this._textDivs=e||[],this._textContentItemsStr=p||[],this._isOffscreenCanvasSupported=C,this._fontInspectorEnabled=!!((Q=globalThis.FontInspector)==null?void 0:Q.enabled),this._reader=null,this._textDivProperties=u||new WeakMap,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:m(0,C)};const{pageWidth:L,pageHeight:x,pageX:g,pageY:z}=t.rawDims;this._transform=[1,0,0,-1,-g,z+x],this._pageWidth=L,this._pageHeight=x,(0,H.setLayerDimensions)(a,t),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(n,a){for(const t of n){if(t.str===void 0){if(t.type==="beginMarkedContentProps"||t.type==="beginMarkedContent"){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),t.id!==null&&this._container.setAttribute("id",`${t.id}`),e.append(this._container)}else t.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(t.str),W(this,t,a)}}_layoutText(n){const a=this._layoutTextParams.properties=this._textDivProperties.get(n);if(this._layoutTextParams.div=n,F(this._layoutTextParams),a.hasText&&this._container.append(n),a.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(){const n=(0,r.createPromiseCapability)();let a=Object.create(null);if(this._isReadableStream){const t=()=>{this._reader.read().then(({value:e,done:u})=>{if(u){n.resolve();return}Object.assign(a,e.styles),this._processItems(e.items,a),t()},n.reject)};this._reader=this._textContentSource.getReader(),t()}else if(this._textContentSource){const{items:t,styles:e}=this._textContentSource;this._processItems(t,e),n.resolve()}else throw new Error('No "textContentSource" parameter specified.');n.promise.then(()=>{a=null,T(this)},this._capability.reject)}}c.TextLayerRenderTask=E;function f(s){!s.textContentSource&&(s.textContent||s.textContentStream)&&((0,H.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),s.textContentSource=s.textContent||s.textContentStream);const n=new E(s);return n._render(),n}function o({container:s,viewport:n,textDivs:a,textDivProperties:t,isOffscreenCanvasSupported:e,mustRotate:u=!0,mustRescale:p=!0}){if(u&&(0,H.setLayerDimensions)(s,{rotation:n.rotation}),p){const C=m(0,e),L=n.scale*(globalThis.devicePixelRatio||1),x={prevFontSize:null,prevFontFamily:null,div:null,scale:L,properties:null,ctx:C};for(const g of a)x.properties=t.get(g),x.div=g,F(x)}}},(we,c,te)=>{var m,U,W,F,T,E,f,o,s,xr,a,Xi,e,Mr,p,Tr;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditorLayer=void 0;var r=te(1),H=te(5),i=te(28),k=te(29),d=te(6);const L=class{constructor(g){s.add(this);a.add(this);e.add(this);p.add(this);m.set(this,void 0);U.set(this,!1);W.set(this,this.pointerup.bind(this));F.set(this,this.pointerdown.bind(this));T.set(this,new Map);E.set(this,!1);f.set(this,!1);o.set(this,void 0);L._initialized||(L._initialized=!0,i.FreeTextEditor.initialize(g.l10n),k.InkEditor.initialize(g.l10n)),g.uiManager.registerEditorTypes([i.FreeTextEditor,k.InkEditor]),ze(this,o,g.uiManager),this.pageIndex=g.pageIndex,this.div=g.div,ze(this,m,g.accessibilityManager),G(this,o).addLayer(this)}get isEmpty(){return G(this,T).size===0}updateToolbar(g){G(this,o).updateToolbar(g)}updateMode(g=G(this,o).getMode()){Re(this,p,Tr).call(this),g===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),G(this,o).unselectAll(),g!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",g===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",g===r.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(g){if(!g&&G(this,o).getMode()!==r.AnnotationEditorType.INK)return;if(!g){for(const Q of G(this,T).values())if(Q.isEmpty()){Q.setInBackground();return}}Re(this,e,Mr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(g){G(this,o).setEditingState(g)}addCommands(g){G(this,o).addCommands(g)}enable(){this.div.style.pointerEvents="auto";for(const g of G(this,T).values())g.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const g of G(this,T).values())g.disableEditing();Re(this,p,Tr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(g){G(this,o).getActive()!==g&&G(this,o).setActiveEditor(g)}enableClick(){this.div.addEventListener("pointerdown",G(this,F)),this.div.addEventListener("pointerup",G(this,W))}disableClick(){this.div.removeEventListener("pointerdown",G(this,F)),this.div.removeEventListener("pointerup",G(this,W))}attach(g){G(this,T).set(g.id,g)}detach(g){var z;G(this,T).delete(g.id),(z=G(this,m))==null||z.removePointerInTextLayer(g.contentDiv)}remove(g){G(this,o).removeEditor(g),this.detach(g),g.div.style.display="none",setTimeout(()=>{g.div.style.display="",g.div.remove(),g.isAttachedToDOM=!1,document.activeElement===document.body&&G(this,o).focusMainContainer()},0),G(this,f)||this.addInkEditorIfNeeded(!1)}add(g){if(Re(this,s,xr).call(this,g),G(this,o).addEditor(g),this.attach(g),!g.isAttachedToDOM){const z=g.render();this.div.append(z),g.isAttachedToDOM=!0}this.moveEditorInDOM(g),g.onceAdded(),G(this,o).addToAnnotationStorage(g)}moveEditorInDOM(g){var z;(z=G(this,m))==null||z.moveElementInDOM(this.div,g.div,g.contentDiv,!0)}addOrRebuild(g){g.needsToBeRebuilt()?g.rebuild():this.add(g)}addANewEditor(g){const z=()=>{this.addOrRebuild(g)},Q=()=>{g.remove()};this.addCommands({cmd:z,undo:Q,mustExec:!0})}addUndoableEditor(g){const z=()=>{this.addOrRebuild(g)},Q=()=>{g.remove()};this.addCommands({cmd:z,undo:Q,mustExec:!1})}getNextId(){return G(this,o).getId()}deserialize(g){switch(g.annotationType){case r.AnnotationEditorType.FREETEXT:return i.FreeTextEditor.deserialize(g,this,G(this,o));case r.AnnotationEditorType.INK:return k.InkEditor.deserialize(g,this,G(this,o))}return null}setSelected(g){G(this,o).setSelected(g)}toggleSelected(g){G(this,o).toggleSelected(g)}isSelected(g){return G(this,o).isSelected(g)}unselect(g){G(this,o).unselect(g)}pointerup(g){const{isMac:z}=r.FeatureTest.platform;if(!(g.button!==0||g.ctrlKey&&z)&&g.target===this.div&&!!G(this,E)){if(ze(this,E,!1),!G(this,U)){ze(this,U,!0);return}Re(this,e,Mr).call(this,g)}}pointerdown(g){const{isMac:z}=r.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&z||g.target!==this.div)return;ze(this,E,!0);const Q=G(this,o).getActive();ze(this,U,!Q||Q.isEmpty())}drop(g){const z=g.dataTransfer.getData("text/plain"),Q=G(this,o).getEditor(z);if(!Q)return;g.preventDefault(),g.dataTransfer.dropEffect="move",Re(this,s,xr).call(this,Q);const w=this.div.getBoundingClientRect(),B=g.clientX-w.x,P=g.clientY-w.y;Q.translate(B-Q.startX,P-Q.startY),this.moveEditorInDOM(Q),Q.div.focus()}dragover(g){g.preventDefault()}destroy(){var g,z;((g=G(this,o).getActive())==null?void 0:g.parent)===this&&G(this,o).setActiveEditor(null);for(const Q of G(this,T).values())(z=G(this,m))==null||z.removePointerInTextLayer(Q.contentDiv),Q.setParent(null),Q.isAttachedToDOM=!1,Q.div.remove();this.div=null,G(this,T).clear(),G(this,o).removeLayer(this)}render({viewport:g}){this.viewport=g,(0,d.setLayerDimensions)(this.div,g),(0,H.bindEvents)(this,this.div,["dragover","drop"]);for(const z of G(this,o).getEditors(this.pageIndex))this.add(z);this.updateMode()}update({viewport:g}){G(this,o).commitOrRemove(),this.viewport=g,(0,d.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:g,pageHeight:z}=this.viewport.rawDims;return[g,z]}};let q=L;m=new WeakMap,U=new WeakMap,W=new WeakMap,F=new WeakMap,T=new WeakMap,E=new WeakMap,f=new WeakMap,o=new WeakMap,s=new WeakSet,xr=function(g){var z;g.parent!==this&&(this.attach(g),(z=g.parent)==null||z.detach(g),g.setParent(this),g.div&&g.isAttachedToDOM&&(g.div.remove(),this.div.append(g.div)))},a=new WeakSet,Xi=function(g){switch(G(this,o).getMode()){case r.AnnotationEditorType.FREETEXT:return new i.FreeTextEditor(g);case r.AnnotationEditorType.INK:return new k.InkEditor(g)}return null},e=new WeakSet,Mr=function(g){const z=this.getNextId(),Q=Re(this,a,Xi).call(this,{parent:this,id:z,x:g.offsetX,y:g.offsetY,uiManager:G(this,o)});return Q&&this.add(Q),Q},p=new WeakSet,Tr=function(){ze(this,f,!0);for(const g of G(this,T).values())g.isEmpty()&&g.remove();ze(this,f,!1)},Dt(q,"_initialized",!1),c.AnnotationEditorLayer=q},(we,c,te)=>{var d,q,m,U,W,F,T,E,f,o,Ki,n,$i,t,Yi,u,Rr;Object.defineProperty(c,"__esModule",{value:!0}),c.FreeTextEditor=void 0;var r=te(1),H=te(5),i=te(4);const C=class extends i.AnnotationEditor{constructor(x){super(xn(xn({},x),{name:"freeTextEditor"}));o.add(this);n.add(this);t.add(this);u.add(this);d.set(this,this.editorDivBlur.bind(this));q.set(this,this.editorDivFocus.bind(this));m.set(this,this.editorDivInput.bind(this));U.set(this,this.editorDivKeydown.bind(this));W.set(this,void 0);F.set(this,"");T.set(this,`${this.id}-editor`);E.set(this,!1);f.set(this,void 0);ze(this,W,x.color||C._defaultColor||i.AnnotationEditor._defaultLineColor),ze(this,f,x.fontSize||C._defaultFontSize)}static initialize(x){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(z=>[z,x.get(z)]));const g=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(g.getPropertyValue("--freetext-padding"))}static updateDefaultParams(x,g){switch(x){case r.AnnotationEditorParamsType.FREETEXT_SIZE:C._defaultFontSize=g;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:C._defaultColor=g;break}}updateParams(x,g){switch(x){case r.AnnotationEditorParamsType.FREETEXT_SIZE:Re(this,o,Ki).call(this,g);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:Re(this,n,$i).call(this,g);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,C._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,C._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,G(this,f)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,G(this,W)]]}getInitialTranslation(){const x=this.parentScale;return[-C._internalPadding*x,-(C._internalPadding+G(this,f))*x]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",G(this,U)),this.editorDiv.addEventListener("focus",G(this,q)),this.editorDiv.addEventListener("blur",G(this,d)),this.editorDiv.addEventListener("input",G(this,m)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",G(this,T)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",G(this,U)),this.editorDiv.removeEventListener("focus",G(this,q)),this.editorDiv.removeEventListener("blur",G(this,d)),this.editorDiv.removeEventListener("input",G(this,m)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(x){super.focusin(x),x.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){!this.isInEditMode()||(super.commit(),G(this,E)||(ze(this,E,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),ze(this,F,Re(this,t,Yi).call(this).trimEnd()),Re(this,u,Rr).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(x){this.enableEditMode(),this.editorDiv.focus()}keydown(x){x.target===this.div&&x.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(x){C._keyboardManager.exec(this,x)}editorDivFocus(x){this.isEditing=!0}editorDivBlur(x){this.isEditing=!1}editorDivInput(x){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let x,g;this.width&&(x=this.x,g=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",G(this,T)),this.enableEditing(),C._l10nPromise.get("editor_free_text2_aria_label").then(Q=>{var w;return(w=this.editorDiv)==null?void 0:w.setAttribute("aria-label",Q)}),C._l10nPromise.get("free_text2_default_content").then(Q=>{var w;return(w=this.editorDiv)==null?void 0:w.setAttribute("default-content",Q)}),this.editorDiv.contentEditable=!0;const{style:z}=this.editorDiv;if(z.fontSize=`calc(${G(this,f)}px * var(--scale-factor))`,z.color=G(this,W),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,H.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Q,w]=this.parentDimensions;this.setAt(x*Q,g*w,this.width*Q,this.height*w);for(const B of G(this,F).split(`
`)){const P=document.createElement("div");P.append(B?document.createTextNode(B):document.createElement("br")),this.editorDiv.append(P)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(x,g,z){const Q=super.deserialize(x,g,z);return ze(Q,f,x.fontSize),ze(Q,W,r.Util.makeHexColor(...x.color)),ze(Q,F,x.value),Q}serialize(){if(this.isEmpty())return null;const x=C._internalPadding*this.parentScale,g=this.getRect(x,x),z=i.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:G(this,W));return{annotationType:r.AnnotationEditorType.FREETEXT,color:z,fontSize:G(this,f),value:G(this,F),pageIndex:this.pageIndex,rect:g,rotation:this.rotation}}};let k=C;d=new WeakMap,q=new WeakMap,m=new WeakMap,U=new WeakMap,W=new WeakMap,F=new WeakMap,T=new WeakMap,E=new WeakMap,f=new WeakMap,o=new WeakSet,Ki=function(x){const g=Q=>{this.editorDiv.style.fontSize=`calc(${Q}px * var(--scale-factor))`,this.translate(0,-(Q-G(this,f))*this.parentScale),ze(this,f,Q),Re(this,u,Rr).call(this)},z=G(this,f);this.addCommands({cmd:()=>{g(x)},undo:()=>{g(z)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},n=new WeakSet,$i=function(x){const g=G(this,W);this.addCommands({cmd:()=>{ze(this,W,this.editorDiv.style.color=x)},undo:()=>{ze(this,W,this.editorDiv.style.color=g)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},t=new WeakSet,Yi=function(){const x=this.editorDiv.getElementsByTagName("div");if(x.length===0)return this.editorDiv.innerText;const g=[];for(const z of x)g.push(z.innerText.replace(/\r\n?|\n/,""));return g.join(`
`)},u=new WeakSet,Rr=function(){const[x,g]=this.parentDimensions;let z;if(this.isAttachedToDOM)z=this.div.getBoundingClientRect();else{const{currentLayer:Q,div:w}=this,B=w.style.display;w.style.display="hidden",Q.div.append(this.div),z=w.getBoundingClientRect(),w.remove(),w.style.display=B}this.width=z.width/x,this.height=z.height/g},Dt(k,"_freeTextDefaultContent",""),Dt(k,"_l10nPromise"),Dt(k,"_internalPadding",0),Dt(k,"_defaultColor",null),Dt(k,"_defaultFontSize",10),Dt(k,"_keyboardManager",new H.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],C.prototype.commitOrRemove]])),Dt(k,"_type","freetext"),c.FreeTextEditor=k},(we,c,te)=>{var U,W,F,T,E,f,o,s,n,a,t,e,u,p,C,Zi,x,Ji,z,Qi,w,ea,P,Fr,I,ta,K,na,b,ra,R,cn,V,Ir,ee,Qn,de,er,Ee,Mn,S,Lr,X,tr,v,Or,h,ia,Z,aa,re,oa,Ce,Dr,He,nr,je,Tn,ae,Nr;Object.defineProperty(c,"__esModule",{value:!0}),c.InkEditor=void 0,Object.defineProperty(c,"fitCurve",{enumerable:!0,get:function(){return i.fitCurve}});var r=te(1),H=te(4),i=te(30),k=te(5);const d=16,q=100,Ae=class extends H.AnnotationEditor{constructor(ye){super(xn(xn({},ye),{name:"inkEditor"}));C.add(this);x.add(this);z.add(this);w.add(this);P.add(this);I.add(this);K.add(this);b.add(this);R.add(this);V.add(this);ee.add(this);de.add(this);Ee.add(this);S.add(this);X.add(this);h.add(this);Z.add(this);re.add(this);Ce.add(this);He.add(this);je.add(this);ae.add(this);U.set(this,0);W.set(this,0);F.set(this,0);T.set(this,this.canvasPointermove.bind(this));E.set(this,this.canvasPointerleave.bind(this));f.set(this,this.canvasPointerup.bind(this));o.set(this,this.canvasPointerdown.bind(this));s.set(this,!1);n.set(this,!1);a.set(this,null);t.set(this,null);e.set(this,0);u.set(this,0);p.set(this,null);this.color=ye.color||null,this.thickness=ye.thickness||null,this.opacity=ye.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ye){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ke=>[ke,ye.get(ke)]))}static updateDefaultParams(ye,ke){switch(ye){case r.AnnotationEditorParamsType.INK_THICKNESS:Ae._defaultThickness=ke;break;case r.AnnotationEditorParamsType.INK_COLOR:Ae._defaultColor=ke;break;case r.AnnotationEditorParamsType.INK_OPACITY:Ae._defaultOpacity=ke/100;break}}updateParams(ye,ke){switch(ye){case r.AnnotationEditorParamsType.INK_THICKNESS:Re(this,C,Zi).call(this,ke);break;case r.AnnotationEditorParamsType.INK_COLOR:Re(this,x,Ji).call(this,ke);break;case r.AnnotationEditorParamsType.INK_OPACITY:Re(this,z,Qi).call(this,ke);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,Ae._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,Ae._defaultColor||H.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ae._defaultOpacity*100)]]}get propertiesToUpdate(){var ye;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ae._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||Ae._defaultColor||H.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((ye=this.opacity)!=null?ye:Ae._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Re(this,ee,Qn).call(this),Re(this,de,er).call(this)),this.isAttachedToDOM||(this.parent.add(this),Re(this,Ee,Mn).call(this)),Re(this,je,Tn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,G(this,t).disconnect(),ze(this,t,null),super.remove())}setParent(ye){!this.parent&&ye?this._uiManager.removeShouldRescale(this):this.parent&&ye===null&&this._uiManager.addShouldRescale(this),super.setParent(ye)}onScaleChanging(){const[ye,ke]=this.parentDimensions,Oe=this.width*ye,Be=this.height*ke;this.setDimensions(Oe,Be)}enableEditMode(){G(this,s)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",G(this,o)),this.canvas.addEventListener("pointerup",G(this,f)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",G(this,o)),this.canvas.removeEventListener("pointerup",G(this,f)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){G(this,s)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ze(this,s,!0),this.div.classList.add("disabled"),Re(this,je,Tn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(ye){super.focusin(ye),this.enableEditMode()}canvasPointerdown(ye){ye.button!==0||!this.isInEditMode()||G(this,s)||(this.setInForeground(),ye.type!=="mouse"&&this.div.focus(),ye.stopPropagation(),this.canvas.addEventListener("pointerleave",G(this,E)),this.canvas.addEventListener("pointermove",G(this,T)),Re(this,I,ta).call(this,ye.offsetX,ye.offsetY))}canvasPointermove(ye){ye.stopPropagation(),Re(this,K,na).call(this,ye.offsetX,ye.offsetY)}canvasPointerup(ye){ye.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(ye.stopPropagation(),Re(this,V,Ir).call(this,ye),this.setInBackground())}canvasPointerleave(ye){Re(this,V,Ir).call(this,ye),this.setInBackground()}render(){if(this.div)return this.div;let ye,ke;this.width&&(ye=this.x,ke=this.y),super.render(),Ae._l10nPromise.get("editor_ink2_aria_label").then(Ye=>{var rt;return(rt=this.div)==null?void 0:rt.setAttribute("aria-label",Ye)});const[Oe,Be,ht,Ve]=Re(this,w,ea).call(this);if(this.setAt(Oe,Be,0,0),this.setDims(ht,Ve),Re(this,ee,Qn).call(this),this.width){const[Ye,rt]=this.parentDimensions;this.setAt(ye*Ye,ke*rt,this.width*Ye,this.height*rt),ze(this,n,!0),Re(this,Ee,Mn).call(this),this.setDims(this.width*Ye,this.height*rt),Re(this,R,cn).call(this),Re(this,ae,Nr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Re(this,de,er).call(this),this.div}setDimensions(ye,ke){const Oe=Math.round(ye),Be=Math.round(ke);if(G(this,e)===Oe&&G(this,u)===Be)return;ze(this,e,Oe),ze(this,u,Be),this.canvas.style.visibility="hidden",G(this,U)&&Math.abs(G(this,U)-ye/ke)>.01&&(ke=Math.ceil(ye/G(this,U)),this.setDims(ye,ke));const[ht,Ve]=this.parentDimensions;this.width=ye/ht,this.height=ke/Ve,G(this,s)&&Re(this,S,Lr).call(this,ye,ke),Re(this,Ee,Mn).call(this),Re(this,R,cn).call(this),this.canvas.style.visibility="visible"}static deserialize(ye,ke,Oe){const Be=super.deserialize(ye,ke,Oe);Be.thickness=ye.thickness,Be.color=r.Util.makeHexColor(...ye.color),Be.opacity=ye.opacity;const[ht,Ve]=Be.pageDimensions,Ye=Be.width*ht,rt=Be.height*Ve,pt=Be.parentScale,it=ye.thickness/2;ze(Be,U,Ye/rt),ze(Be,s,!0),ze(Be,e,Math.round(Ye)),ze(Be,u,Math.round(rt));for(const{bezier:mt}of ye.paths){const At=[];Be.paths.push(At);let Ht=pt*(mt[0]-it),Nt=pt*(rt-mt[1]-it);for(let Mt=2,Zt=mt.length;Mt<Zt;Mt+=6){const an=pt*(mt[Mt]-it),ln=pt*(rt-mt[Mt+1]-it),un=pt*(mt[Mt+2]-it),dn=pt*(rt-mt[Mt+3]-it),vn=pt*(mt[Mt+4]-it),bn=pt*(rt-mt[Mt+5]-it);At.push([[Ht,Nt],[an,ln],[un,dn],[vn,bn]]),Ht=vn,Nt=bn}const Pt=Re(this,v,Or).call(this,At);Be.bezierPath2D.push(Pt)}const It=Re(Be,Ce,Dr).call(Be);return ze(Be,F,Math.max(d,It[2]-It[0])),ze(Be,W,Math.max(d,It[3]-It[1])),Re(Be,S,Lr).call(Be,Ye,rt),Be}serialize(){if(this.isEmpty())return null;const ye=this.getRect(0,0),ke=this.rotation%180==0?ye[3]-ye[1]:ye[2]-ye[0],Oe=H.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Oe,thickness:this.thickness,opacity:this.opacity,paths:Re(this,h,ia).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ke),pageIndex:this.pageIndex,rect:ye,rotation:this.rotation}}};let m=Ae;U=new WeakMap,W=new WeakMap,F=new WeakMap,T=new WeakMap,E=new WeakMap,f=new WeakMap,o=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,t=new WeakMap,e=new WeakMap,u=new WeakMap,p=new WeakMap,C=new WeakSet,Zi=function(ye){const ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=ye,Re(this,je,Tn).call(this)},undo:()=>{this.thickness=ke,Re(this,je,Tn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},x=new WeakSet,Ji=function(ye){const ke=this.color;this.addCommands({cmd:()=>{this.color=ye,Re(this,R,cn).call(this)},undo:()=>{this.color=ke,Re(this,R,cn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},z=new WeakSet,Qi=function(ye){ye/=100;const ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=ye,Re(this,R,cn).call(this)},undo:()=>{this.opacity=ke,Re(this,R,cn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},w=new WeakSet,ea=function(){const{parentRotation:ye,parentDimensions:[ke,Oe]}=this;switch(ye){case 90:return[0,Oe,Oe,ke];case 180:return[ke,Oe,ke,Oe];case 270:return[ke,0,Oe,ke];default:return[0,0,ke,Oe]}},P=new WeakSet,Fr=function(){const{ctx:ye,color:ke,opacity:Oe,thickness:Be,parentScale:ht,scaleFactor:Ve}=this;ye.lineWidth=Be*ht/Ve,ye.lineCap="round",ye.lineJoin="round",ye.miterLimit=10,ye.strokeStyle=`${ke}${(0,k.opacityToHex)(Oe)}`},I=new WeakSet,ta=function(ye,ke){var Oe;this.isEditing=!0,G(this,n)||(ze(this,n,!0),Re(this,Ee,Mn).call(this),this.thickness||(this.thickness=Ae._defaultThickness),this.color||(this.color=Ae._defaultColor||H.AnnotationEditor._defaultLineColor),(Oe=this.opacity)!=null||(this.opacity=Ae._defaultOpacity)),this.currentPath.push([ye,ke]),ze(this,a,null),Re(this,P,Fr).call(this),this.ctx.beginPath(),this.ctx.moveTo(ye,ke),ze(this,p,()=>{!G(this,p)||(G(this,a)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Re(this,R,cn).call(this),this.ctx.lineTo(...G(this,a)),ze(this,a,null),this.ctx.stroke()),window.requestAnimationFrame(G(this,p)))}),window.requestAnimationFrame(G(this,p))},K=new WeakSet,na=function(ye,ke){const[Oe,Be]=this.currentPath.at(-1);ye===Oe&&ke===Be||(this.currentPath.push([ye,ke]),ze(this,a,[ye,ke]))},b=new WeakSet,ra=function(ye,ke){this.ctx.closePath(),ze(this,p,null),ye=Math.min(Math.max(ye,0),this.canvas.width),ke=Math.min(Math.max(ke,0),this.canvas.height);const[Oe,Be]=this.currentPath.at(-1);(ye!==Oe||ke!==Be)&&this.currentPath.push([ye,ke]);let ht;if(this.currentPath.length!==1)ht=(0,i.fitCurve)(this.currentPath,30,null);else{const pt=[ye,ke];ht=[[pt,pt.slice(),pt.slice(),pt]]}const Ve=Re(Ae,v,Or).call(Ae,ht);this.currentPath.length=0;const Ye=()=>{this.paths.push(ht),this.bezierPath2D.push(Ve),this.rebuild()},rt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Re(this,ee,Qn).call(this),Re(this,de,er).call(this)),Re(this,je,Tn).call(this))};this.addCommands({cmd:Ye,undo:rt,mustExec:!0})},R=new WeakSet,cn=function(){if(this.isEmpty()){Re(this,X,tr).call(this);return}Re(this,P,Fr).call(this);const{canvas:ye,ctx:ke}=this;ke.setTransform(1,0,0,1,0,0),ke.clearRect(0,0,ye.width,ye.height),Re(this,X,tr).call(this);for(const Oe of this.bezierPath2D)ke.stroke(Oe)},V=new WeakSet,Ir=function(ye){Re(this,b,ra).call(this,ye.offsetX,ye.offsetY),this.canvas.removeEventListener("pointerleave",G(this,E)),this.canvas.removeEventListener("pointermove",G(this,T)),this.addToAnnotationStorage()},ee=new WeakSet,Qn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ae._l10nPromise.get("editor_ink_canvas_aria_label").then(ye=>{var ke;return(ke=this.canvas)==null?void 0:ke.setAttribute("aria-label",ye)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},de=new WeakSet,er=function(){let ye=null;ze(this,t,new ResizeObserver(ke=>{const Oe=ke[0].contentRect;Oe.width&&Oe.height&&(ye!==null&&clearTimeout(ye),ye=setTimeout(()=>{this.fixDims(),ye=null},q),this.setDimensions(Oe.width,Oe.height))})),G(this,t).observe(this.div)},Ee=new WeakSet,Mn=function(){if(!G(this,n))return;const[ye,ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ye),this.canvas.height=Math.ceil(this.height*ke),Re(this,X,tr).call(this)},S=new WeakSet,Lr=function(ye,ke){const Oe=Re(this,He,nr).call(this),Be=(ye-Oe)/G(this,F),ht=(ke-Oe)/G(this,W);this.scaleFactor=Math.min(Be,ht)},X=new WeakSet,tr=function(){const ye=Re(this,He,nr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ye,this.translationY*this.scaleFactor+ye)},v=new WeakSet,Or=function(ye){const ke=new Path2D;for(let Oe=0,Be=ye.length;Oe<Be;Oe++){const[ht,Ve,Ye,rt]=ye[Oe];Oe===0&&ke.moveTo(...ht),ke.bezierCurveTo(Ve[0],Ve[1],Ye[0],Ye[1],rt[0],rt[1])}return ke},h=new WeakSet,ia=function(ye,ke,Oe,Be){const ht=4,Ve=[],Ye=this.thickness/2;let rt,pt;for(const it of this.paths){rt=[],pt=[];for(let It=0,mt=it.length;It<mt;It++){const[At,Ht,Nt,Pt]=it[It],Mt=ye*(At[0]+ke)+Ye,Zt=Be-ye*(At[1]+Oe)-Ye,an=ye*(Ht[0]+ke)+Ye,ln=Be-ye*(Ht[1]+Oe)-Ye,un=ye*(Nt[0]+ke)+Ye,dn=Be-ye*(Nt[1]+Oe)-Ye,vn=ye*(Pt[0]+ke)+Ye,bn=Be-ye*(Pt[1]+Oe)-Ye;It===0&&(rt.push(Mt,Zt),pt.push(Mt,Zt)),rt.push(an,ln,un,dn,vn,bn),Re(this,Z,aa).call(this,Mt,Zt,an,ln,un,dn,vn,bn,ht,pt)}Ve.push({bezier:rt,points:pt})}return Ve},Z=new WeakSet,aa=function(ye,ke,Oe,Be,ht,Ve,Ye,rt,pt,it){if(Re(this,re,oa).call(this,ye,ke,Oe,Be,ht,Ve,Ye,rt)){it.push(Ye,rt);return}for(let It=1;It<pt-1;It++){const mt=It/pt,At=1-mt;let Ht=mt*ye+At*Oe,Nt=mt*ke+At*Be,Pt=mt*Oe+At*ht,Mt=mt*Be+At*Ve;const Zt=mt*ht+At*Ye,an=mt*Ve+At*rt;Ht=mt*Ht+At*Pt,Nt=mt*Nt+At*Mt,Pt=mt*Pt+At*Zt,Mt=mt*Mt+At*an,Ht=mt*Ht+At*Pt,Nt=mt*Nt+At*Mt,it.push(Ht,Nt)}it.push(Ye,rt)},re=new WeakSet,oa=function(ye,ke,Oe,Be,ht,Ve,Ye,rt){const pt=10,it=En(3*Oe-2*ye-Ye,2),It=En(3*Be-2*ke-rt,2),mt=En(3*ht-ye-2*Ye,2),At=En(3*Ve-ke-2*rt,2);return Math.max(it,mt)+Math.max(It,At)<=pt},Ce=new WeakSet,Dr=function(){let ye=Infinity,ke=-Infinity,Oe=Infinity,Be=-Infinity;for(const ht of this.paths)for(const[Ve,Ye,rt,pt]of ht){const it=r.Util.bezierBoundingBox(...Ve,...Ye,...rt,...pt);ye=Math.min(ye,it[0]),Oe=Math.min(Oe,it[1]),ke=Math.max(ke,it[2]),Be=Math.max(Be,it[3])}return[ye,Oe,ke,Be]},He=new WeakSet,nr=function(){return G(this,s)?Math.ceil(this.thickness*this.parentScale):0},je=new WeakSet,Tn=function(ye=!1){if(this.isEmpty())return;if(!G(this,s)){Re(this,R,cn).call(this);return}const ke=Re(this,Ce,Dr).call(this),Oe=Re(this,He,nr).call(this);ze(this,F,Math.max(d,ke[2]-ke[0])),ze(this,W,Math.max(d,ke[3]-ke[1]));const Be=Math.ceil(Oe+G(this,F)*this.scaleFactor),ht=Math.ceil(Oe+G(this,W)*this.scaleFactor),[Ve,Ye]=this.parentDimensions;this.width=Be/Ve,this.height=ht/Ye,ze(this,U,Be/ht),Re(this,ae,Nr).call(this);const rt=this.translationX,pt=this.translationY;this.translationX=-ke[0],this.translationY=-ke[1],Re(this,Ee,Mn).call(this),Re(this,R,cn).call(this),ze(this,e,Be),ze(this,u,ht),this.setDims(Be,ht);const it=ye?Oe/this.scaleFactor/2:0;this.translate(rt-this.translationX-it,pt-this.translationY-it)},ae=new WeakSet,Nr=function(){const{style:ye}=this.div;G(this,U)>=1?(ye.minHeight=`${d}px`,ye.minWidth=`${Math.round(G(this,U)*d)}px`):(ye.minWidth=`${d}px`,ye.minHeight=`${Math.round(d/G(this,U))}px`)},v.add(m),Dt(m,"_defaultColor",null),Dt(m,"_defaultOpacity",1),Dt(m,"_defaultThickness",1),Dt(m,"_l10nPromise"),Dt(m,"_type","ink"),c.InkEditor=m},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.fitCurve=void 0;const r=te(31);c.fitCurve=r},we=>{function c(E,f,o){if(!Array.isArray(E))throw new TypeError("First argument should be an array");if(E.forEach(t=>{if(!Array.isArray(t)||t.some(e=>typeof e!="number")||t.length!==E[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),E=E.filter((t,e)=>e===0||!t.every((u,p)=>u===E[e-1][p])),E.length<2)return[];const s=E.length,n=W(E[1],E[0]),a=W(E[s-2],E[s-1]);return te(E,n,a,f,o)}function te(E,f,o,s,n){const a=20;var t,e,u,p,C,L,x,g,z,Q,w,B,P;if(E.length===2)return B=F.vectorLen(F.subtract(E[0],E[1]))/3,t=[E[0],F.addArrays(E[0],F.mulItems(f,B)),F.addArrays(E[1],F.mulItems(o,B)),E[1]],[t];if(e=d(E),[t,p,L]=r(E,e,e,f,o,n),p===0||p<s)return[t];if(p<s*s)for(u=e,C=p,x=L,P=0;P<a;P++){if(u=i(t,E,u),[t,p,L]=r(E,e,u,f,o,n),p<s)return[t];if(L===x){let O=p/C;if(O>.9999&&O<1.0001)break}C=p,x=L}return w=[],g=F.subtract(E[L-1],E[L+1]),g.every(O=>O===0)&&(g=F.subtract(E[L-1],E[L]),[g[0],g[1]]=[-g[1],g[0]]),z=F.normalize(g),Q=F.mulItems(z,-1),w=w.concat(te(E.slice(0,L+1),f,z,s,n)),w=w.concat(te(E.slice(L),Q,o,s,n)),w}function r(E,f,o,s,n,a){var t,e,u;return t=H(E,o,s,n,a),[e,u]=q(E,t,f),a&&a({bez:t,points:E,params:f,maxErr:e,maxPoint:u}),[t,e,u]}function H(E,f,o,s){var n,a,t,e,u,p,C,L,x,g,z,Q,w,B,P,O,I,$=E[0],K=E[E.length-1];for(n=[$,null,null,K],a=F.zeros_Xx2x2(f.length),w=0,B=f.length;w<B;w++)O=f[w],I=1-O,t=a[w],t[0]=F.mulItems(o,3*O*(I*I)),t[1]=F.mulItems(s,3*I*(O*O));for(e=[[0,0],[0,0]],u=[0,0],w=0,B=E.length;w<B;w++)O=f[w],t=a[w],e[0][0]+=F.dot(t[0],t[0]),e[0][1]+=F.dot(t[0],t[1]),e[1][0]+=F.dot(t[0],t[1]),e[1][1]+=F.dot(t[1],t[1]),P=F.subtract(E[w],T.q([$,$,K,K],O)),u[0]+=F.dot(t[0],P),u[1]+=F.dot(t[1],P);return p=e[0][0]*e[1][1]-e[1][0]*e[0][1],C=e[0][0]*u[1]-e[1][0]*u[0],L=u[0]*e[1][1]-u[1]*e[0][1],x=p===0?0:L/p,g=p===0?0:C/p,Q=F.vectorLen(F.subtract($,K)),z=1e-6*Q,x<z||g<z?(n[1]=F.addArrays($,F.mulItems(o,Q/3)),n[2]=F.addArrays(K,F.mulItems(s,Q/3))):(n[1]=F.addArrays($,F.mulItems(o,x)),n[2]=F.addArrays(K,F.mulItems(s,g))),n}function i(E,f,o){return o.map((s,n)=>k(E,f[n],s))}function k(E,f,o){var s=F.subtract(T.q(E,o),f),n=T.qprime(E,o),a=F.mulMatrix(s,n),t=F.sum(F.squareItems(n))+2*F.mulMatrix(s,T.qprimeprime(E,o));return t===0?o:o-a/t}function d(E){var f=[],o,s,n;return E.forEach((a,t)=>{o=t?s+F.vectorLen(F.subtract(a,n)):0,f.push(o),s=o,n=a}),f=f.map(a=>a/s),f}function q(E,f,o){var s,n,a,t,e,u,p,C;n=0,a=Math.floor(E.length/2);const L=m(f,10);for(e=0,u=E.length;e<u;e++)p=E[e],C=U(f,o[e],L,10),t=F.subtract(T.q(f,C),p),s=t[0]*t[0]+t[1]*t[1],s>n&&(n=s,a=e);return[n,a]}var m=function(E,f){for(var o,s=[0],n=E[0],a=0,t=1;t<=f;t++)o=T.q(E,t/f),a+=F.vectorLen(F.subtract(o,n)),s.push(a),n=o;return s=s.map(e=>e/a),s};function U(E,f,o,s){if(f<0)return 0;if(f>1)return 1;for(var n,a,t,e,u,p=1;p<=s;p++)if(f<=o[p]){e=(p-1)/s,t=p/s,a=o[p-1],n=o[p],u=(f-a)/(n-a)*(t-e)+e;break}return u}function W(E,f){return F.normalize(F.subtract(E,f))}class F{static zeros_Xx2x2(f){for(var o=[];f--;)o.push([0,0]);return o}static mulItems(f,o){return f.map(s=>s*o)}static mulMatrix(f,o){return f.reduce((s,n,a)=>s+n*o[a],0)}static subtract(f,o){return f.map((s,n)=>s-o[n])}static addArrays(f,o){return f.map((s,n)=>s+o[n])}static addItems(f,o){return f.map(s=>s+o)}static sum(f){return f.reduce((o,s)=>o+s)}static dot(f,o){return F.mulMatrix(f,o)}static vectorLen(f){return Math.hypot(...f)}static divItems(f,o){return f.map(s=>s/o)}static squareItems(f){return f.map(o=>o*o)}static normalize(f){return this.divItems(f,this.vectorLen(f))}}class T{static q(f,o){var s=1-o,n=F.mulItems(f[0],s*s*s),a=F.mulItems(f[1],3*s*s*o),t=F.mulItems(f[2],3*s*o*o),e=F.mulItems(f[3],o*o*o);return F.addArrays(F.addArrays(n,a),F.addArrays(t,e))}static qprime(f,o){var s=1-o,n=F.mulItems(F.subtract(f[1],f[0]),3*s*s),a=F.mulItems(F.subtract(f[2],f[1]),6*s*o),t=F.mulItems(F.subtract(f[3],f[2]),3*o*o);return F.addArrays(F.addArrays(n,a),t)}static qprimeprime(f,o){return F.addArrays(F.mulItems(F.addArrays(F.subtract(f[2],F.mulItems(f[1],2)),f[0]),6*(1-o)),F.mulItems(F.addArrays(F.subtract(f[3],F.mulItems(f[2],2)),f[1]),6*o))}}we.exports=c,we.exports.fitCubic=te,we.exports.createTangent=W},(we,c,te)=>{var _,An,D,sa,ee,Br,de,jr;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayer=void 0;var r=te(1),H=te(6),i=te(3),k=te(33),d=te(34);const q=1e3,m=9,U=new WeakSet;function W(ve){return{width:ve[2]-ve[0],height:ve[3]-ve[1]}}class F{static create(S){switch(S.data.annotationType){case r.AnnotationType.LINK:return new E(S);case r.AnnotationType.TEXT:return new f(S);case r.AnnotationType.WIDGET:switch(S.data.fieldType){case"Tx":return new s(S);case"Btn":return S.data.radioButton?new a(S):S.data.checkBox?new n(S):new t(S);case"Ch":return new e(S)}return new o(S);case r.AnnotationType.POPUP:return new u(S);case r.AnnotationType.FREETEXT:return new C(S);case r.AnnotationType.LINE:return new L(S);case r.AnnotationType.SQUARE:return new x(S);case r.AnnotationType.CIRCLE:return new g(S);case r.AnnotationType.POLYLINE:return new z(S);case r.AnnotationType.CARET:return new w(S);case r.AnnotationType.INK:return new B(S);case r.AnnotationType.POLYGON:return new Q(S);case r.AnnotationType.HIGHLIGHT:return new P(S);case r.AnnotationType.UNDERLINE:return new O(S);case r.AnnotationType.SQUIGGLY:return new I(S);case r.AnnotationType.STRIKEOUT:return new $(S);case r.AnnotationType.STAMP:return new K(S);case r.AnnotationType.FILEATTACHMENT:return new M(S);default:return new T(S)}}}class T{constructor(S,{isRenderable:N=!1,ignoreBorder:X=!1,createQuadrilaterals:oe=!1}={}){this.isRenderable=N,this.data=S.data,this.layer=S.layer,this.page=S.page,this.viewport=S.viewport,this.linkService=S.linkService,this.downloadManager=S.downloadManager,this.imageResourcesPath=S.imageResourcesPath,this.renderForms=S.renderForms,this.svgFactory=S.svgFactory,this.annotationStorage=S.annotationStorage,this.enableScripting=S.enableScripting,this.hasJSActions=S.hasJSActions,this._fieldObjects=S.fieldObjects,N&&(this.container=this._createContainer(X)),oe&&(this.quadrilaterals=this._createQuadrilaterals(X))}_createContainer(S=!1){const{data:N,page:X,viewport:oe}=this,v=document.createElement("section");v.setAttribute("data-annotation-id",N.id);const{pageWidth:l,pageHeight:h,pageX:A,pageY:Z}=oe.rawDims,{width:J,height:re}=W(N.rect),Se=r.Util.normalizeRect([N.rect[0],X.view[3]-N.rect[1]+X.view[1],N.rect[2],X.view[3]-N.rect[3]+X.view[1]]);if(!S&&N.borderStyle.width>0){v.style.borderWidth=`${N.borderStyle.width}px`;const xe=N.borderStyle.horizontalCornerRadius,He=N.borderStyle.verticalCornerRadius;if(xe>0||He>0){const je=`calc(${xe}px * var(--scale-factor)) / calc(${He}px * var(--scale-factor))`;v.style.borderRadius=je}else if(this instanceof a){const je=`calc(${J}px * var(--scale-factor)) / calc(${re}px * var(--scale-factor))`;v.style.borderRadius=je}switch(N.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:v.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:v.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:v.style.borderBottomStyle="solid";break;default:break}const De=N.borderColor||null;De?v.style.borderColor=r.Util.makeHexColor(De[0]|0,De[1]|0,De[2]|0):v.style.borderWidth=0}v.style.left=`${100*(Se[0]-A)/l}%`,v.style.top=`${100*(Se[1]-Z)/h}%`;const{rotation:Ce}=N;return N.hasOwnCanvas||Ce===0?(v.style.width=`${100*J/l}%`,v.style.height=`${100*re/h}%`):this.setRotation(Ce,v),v}setRotation(S,N=this.container){const{pageWidth:X,pageHeight:oe}=this.viewport.rawDims,{width:v,height:l}=W(this.data.rect);let h,A;S%180==0?(h=100*v/X,A=100*l/oe):(h=100*l/X,A=100*v/oe),N.style.width=`${h}%`,N.style.height=`${A}%`,N.setAttribute("data-main-rotation",(360-S)%360)}get _commonActions(){const S=(N,X,oe)=>{const v=oe.detail[N];oe.target.style[X]=k.ColorConverters[`${v[0]}_HTML`](v.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:N=>{const X=N.detail.display%2==1;this.container.style.visibility=X?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X,print:N.detail.display===0||N.detail.display===3})},print:N=>{this.annotationStorage.setValue(this.data.id,{print:N.detail.print})},hidden:N=>{this.container.style.visibility=N.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N.detail.hidden})},focus:N=>{setTimeout(()=>N.target.focus({preventScroll:!1}),0)},userName:N=>{N.target.title=N.detail.userName},readonly:N=>{N.detail.readonly?N.target.setAttribute("readonly",""):N.target.removeAttribute("readonly")},required:N=>{this._setRequired(N.target,N.detail.required)},bgColor:N=>{S("bgColor","backgroundColor",N)},fillColor:N=>{S("fillColor","backgroundColor",N)},fgColor:N=>{S("fgColor","color",N)},textColor:N=>{S("textColor","color",N)},borderColor:N=>{S("borderColor","borderColor",N)},strokeColor:N=>{S("strokeColor","borderColor",N)},rotation:N=>{const X=N.detail.rotation;this.setRotation(X),this.annotationStorage.setValue(this.data.id,{rotation:X})}})}_dispatchEventFromSandbox(S,N){const X=this._commonActions;for(const oe of Object.keys(N.detail)){const v=S[oe]||X[oe];v==null||v(N)}}_setDefaultPropertiesFromJS(S){if(!this.enableScripting)return;const N=this.annotationStorage.getRawValue(this.data.id);if(!N)return;const X=this._commonActions;for(const[oe,v]of Object.entries(N)){const l=X[oe];if(l){const h={detail:{[oe]:v},target:S};l(h),delete N[oe]}}}_createQuadrilaterals(S=!1){if(!this.data.quadPoints)return null;const N=[],X=this.data.rect;for(const oe of this.data.quadPoints)this.data.rect=[oe[2].x,oe[2].y,oe[1].x,oe[1].y],N.push(this._createContainer(S));return this.data.rect=X,N}_createPopup(S,N){let X=this.container;this.quadrilaterals&&(S=S||this.quadrilaterals,X=this.quadrilaterals[0]),S||(S=document.createElement("div"),S.className="popupTriggerArea",X.append(S));const v=new p({container:X,trigger:S,color:N.color,titleObj:N.titleObj,modificationDate:N.modificationDate,contentsObj:N.contentsObj,richText:N.richText,hideWrapper:!0}).render();v.style.left="100%",X.append(v)}_renderQuadrilaterals(S){for(const N of this.quadrilaterals)N.className=S;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(S,N=null){const X=[];if(this._fieldObjects){const oe=this._fieldObjects[S];if(oe)for(const{page:v,id:l,exportValues:h}of oe){if(v===-1||l===N)continue;const A=typeof h=="string"?h:null,Z=document.querySelector(`[data-element-id="${l}"]`);if(Z&&!U.has(Z)){(0,r.warn)(`_getElementsByName - element not allowed: ${l}`);continue}X.push({id:l,exportValue:A,domElement:Z})}return X}for(const oe of document.getElementsByName(S)){const{exportValue:v}=oe,l=oe.getAttribute("data-element-id");l!==N&&(!U.has(oe)||X.push({id:l,exportValue:v,domElement:oe}))}return X}}class E extends T{constructor(S,N=null){super(S,{isRenderable:!0,ignoreBorder:!!(N==null?void 0:N.ignoreBorder),createQuadrilaterals:!0});_.add(this);D.add(this);this.isTooltipOnly=S.data.isTooltipOnly}render(){const{data:S,linkService:N}=this,X=document.createElement("a");X.setAttribute("data-element-id",S.id);let oe=!1;return S.url?(N.addLinkAttributes(X,S.url,S.newWindow),oe=!0):S.action?(this._bindNamedAction(X,S.action),oe=!0):S.attachment?(this._bindAttachment(X,S.attachment),oe=!0):S.setOCGState?(Re(this,D,sa).call(this,X,S.setOCGState),oe=!0):S.dest?(this._bindLink(X,S.dest),oe=!0):(S.actions&&(S.actions.Action||S.actions["Mouse Up"]||S.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(X,S),oe=!0),S.resetForm?(this._bindResetFormAction(X,S.resetForm),oe=!0):this.isTooltipOnly&&!oe&&(this._bindLink(X,""),oe=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((v,l)=>{const h=l===0?X:X.cloneNode();return v.append(h),v}):(this.container.className="linkAnnotation",oe&&this.container.append(X),this.container)}_bindLink(S,N){S.href=this.linkService.getDestinationHash(N),S.onclick=()=>(N&&this.linkService.goToDestination(N),!1),(N||N==="")&&Re(this,_,An).call(this)}_bindNamedAction(S,N){S.href=this.linkService.getAnchorUrl(""),S.onclick=()=>(this.linkService.executeNamedAction(N),!1),Re(this,_,An).call(this)}_bindAttachment(S,N){S.href=this.linkService.getAnchorUrl(""),S.onclick=()=>{var X;return(X=this.downloadManager)==null||X.openOrDownloadData(this.container,N.content,N.filename),!1},Re(this,_,An).call(this)}_bindJSAction(S,N){S.href=this.linkService.getAnchorUrl("");const X=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const oe of Object.keys(N.actions)){const v=X.get(oe);!v||(S[v]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N.id,name:oe}}),!1})}S.onclick||(S.onclick=()=>!1),Re(this,_,An).call(this)}_bindResetFormAction(S,N){const X=S.onclick;if(X||(S.href=this.linkService.getAnchorUrl("")),Re(this,_,An).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),X||(S.onclick=()=>!1);return}S.onclick=()=>{var J;X==null||X();const{fields:oe,refs:v,include:l}=N,h=[];if(oe.length!==0||v.length!==0){const re=new Set(v);for(const Se of oe){const Ce=this._fieldObjects[Se]||[];for(const{id:xe}of Ce)re.add(xe)}for(const Se of Object.values(this._fieldObjects))for(const Ce of Se)re.has(Ce.id)===l&&h.push(Ce)}else for(const re of Object.values(this._fieldObjects))h.push(...re);const A=this.annotationStorage,Z=[];for(const re of h){const{id:Se}=re;switch(Z.push(Se),re.type){case"text":{const xe=re.defaultValue||"";A.setValue(Se,{value:xe});break}case"checkbox":case"radiobutton":{const xe=re.defaultValue===re.exportValues;A.setValue(Se,{value:xe});break}case"combobox":case"listbox":{const xe=re.defaultValue||"";A.setValue(Se,{value:xe});break}default:continue}const Ce=document.querySelector(`[data-element-id="${Se}"]`);if(Ce){if(!U.has(Ce)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Se}`);continue}}else continue;Ce.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((J=this.linkService.eventBus)==null||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}})),!1}}}_=new WeakSet,An=function(){this.container.setAttribute("data-internal-link","")},D=new WeakSet,sa=function(S,N){S.href=this.linkService.getAnchorUrl(""),S.onclick=()=>(this.linkService.executeSetOCGState(N),!1),Re(this,_,An).call(this)};class f extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N})}render(){this.container.className="textAnnotation";const S=document.createElement("img");return S.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",S.alt="[{{type}} Annotation]",S.dataset.l10nId="text_annotation_type",S.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(S,this.data),this.container.append(S),this.container}}class o extends T{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(S){const{isWin:N,isMac:X}=r.FeatureTest.platform;return N&&S.ctrlKey||X&&S.metaKey}_setEventListener(S,N,X,oe){N.includes("mouse")?S.addEventListener(N,v=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:oe(v),shift:v.shiftKey,modifier:this._getKeyModifier(v)}})}):S.addEventListener(N,v=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:oe(v)}})})}_setEventListeners(S,N,X){var oe;for(const[v,l]of N)(l==="Action"||((oe=this.data.actions)==null?void 0:oe[l]))&&this._setEventListener(S,v,l,X)}_setBackgroundColor(S){const N=this.data.backgroundColor||null;S.style.backgroundColor=N===null?"transparent":r.Util.makeHexColor(N[0],N[1],N[2])}_setTextStyle(S){const N=["left","center","right"],{fontColor:X}=this.data.defaultAppearanceData,oe=this.data.defaultAppearanceData.fontSize||m,v=S.style;let l;const h=2,A=Z=>Math.round(10*Z)/10;if(this.data.multiLine){const Z=Math.abs(this.data.rect[3]-this.data.rect[1]-h),J=Math.round(Z/(r.LINE_FACTOR*oe))||1,re=Z/J;l=Math.min(oe,A(re/r.LINE_FACTOR))}else{const Z=Math.abs(this.data.rect[3]-this.data.rect[1]-h);l=Math.min(oe,A(Z/r.LINE_FACTOR))}v.fontSize=`calc(${l}px * var(--scale-factor))`,v.color=r.Util.makeHexColor(X[0],X[1],X[2]),this.data.textAlignment!==null&&(v.textAlign=N[this.data.textAlignment])}_setRequired(S,N){N?S.setAttribute("required",!0):S.removeAttribute("required"),S.setAttribute("aria-required",N)}}class s extends o{constructor(S){const N=S.renderForms||!S.data.hasAppearance&&!!S.data.fieldValue;super(S,{isRenderable:N})}setPropertyOnSiblings(S,N,X,oe){const v=this.annotationStorage;for(const l of this._getElementsByName(S.name,S.id))l.domElement&&(l.domElement[N]=X),v.setValue(l.id,{[oe]:X})}render(){var oe;const S=this.annotationStorage,N=this.data.id;this.container.className="textWidgetAnnotation";let X=null;if(this.renderForms){const v=S.getValue(N,{value:this.data.fieldValue});let l=v.formattedValue||v.value||"";const h=S.getValue(N,{charLimit:this.data.maxLen}).charLimit;h&&l.length>h&&(l=l.slice(0,h));const A={userValue:l,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(X=document.createElement("textarea"),X.textContent=l,this.data.doNotScroll&&(X.style.overflowY="hidden")):(X=document.createElement("input"),X.type="text",X.setAttribute("value",l),this.data.doNotScroll&&(X.style.overflowX="hidden")),U.add(X),X.setAttribute("data-element-id",N),X.disabled=this.data.readOnly,X.name=this.data.fieldName,X.tabIndex=q,this._setRequired(X,this.data.required),h&&(X.maxLength=h),X.addEventListener("input",J=>{S.setValue(N,{value:J.target.value}),this.setPropertyOnSiblings(X,"value",J.target.value,"value")}),X.addEventListener("resetform",J=>{var Se;const re=(Se=this.data.defaultFieldValue)!=null?Se:"";X.value=A.userValue=re,A.formattedValue=null});let Z=J=>{const{formattedValue:re}=A;re!=null&&(J.target.value=re),J.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){X.addEventListener("focus",re=>{const{target:Se}=re;A.userValue&&(Se.value=A.userValue),A.lastCommittedValue=Se.value,A.commitKey=1}),X.addEventListener("updatefromsandbox",re=>{const Se={value(Ce){var xe;A.userValue=(xe=Ce.detail.value)!=null?xe:"",S.setValue(N,{value:A.userValue.toString()}),Ce.target.value=A.userValue},formattedValue(Ce){const{formattedValue:xe}=Ce.detail;A.formattedValue=xe,xe!=null&&Ce.target!==document.activeElement&&(Ce.target.value=xe),S.setValue(N,{formattedValue:xe})},selRange(Ce){Ce.target.setSelectionRange(...Ce.detail.selRange)},charLimit:Ce=>{var je;const{charLimit:xe}=Ce.detail,{target:He}=Ce;if(xe===0){He.removeAttribute("maxLength");return}He.setAttribute("maxLength",xe);let De=A.userValue;!De||De.length<=xe||(De=De.slice(0,xe),He.value=A.userValue=De,S.setValue(N,{value:De}),(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:De,willCommit:!0,commitKey:1,selStart:He.selectionStart,selEnd:He.selectionEnd}}))}};this._dispatchEventFromSandbox(Se,re)}),X.addEventListener("keydown",re=>{var xe;A.commitKey=1;let Se=-1;if(re.key==="Escape"?Se=0:re.key==="Enter"&&!this.data.multiLine?Se=2:re.key==="Tab"&&(A.commitKey=3),Se===-1)return;const{value:Ce}=re.target;A.lastCommittedValue!==Ce&&(A.lastCommittedValue=Ce,A.userValue=Ce,(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:Ce,willCommit:!0,commitKey:Se,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}))});const J=Z;Z=null,X.addEventListener("blur",re=>{var Ce;if(!re.relatedTarget)return;const{value:Se}=re.target;A.userValue=Se,A.lastCommittedValue!==Se&&((Ce=this.linkService.eventBus)==null||Ce.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:Se,willCommit:!0,commitKey:A.commitKey,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}})),J(re)}),((oe=this.data.actions)==null?void 0:oe.Keystroke)&&X.addEventListener("beforeinput",re=>{var ae;A.lastCommittedValue=null;const{data:Se,target:Ce}=re,{value:xe,selectionStart:He,selectionEnd:De}=Ce;let je=He,ne=De;switch(re.inputType){case"deleteWordBackward":{const le=xe.substring(0,He).match(/\w*[^\w]*$/);le&&(je-=le[0].length);break}case"deleteWordForward":{const le=xe.substring(He).match(/^[^\w]*\w*/);le&&(ne+=le[0].length);break}case"deleteContentBackward":He===De&&(je-=1);break;case"deleteContentForward":He===De&&(ne+=1);break}re.preventDefault(),(ae=this.linkService.eventBus)==null||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:xe,change:Se||"",willCommit:!1,selStart:je,selEnd:ne}})}),this._setEventListeners(X,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],re=>re.target.value)}if(Z&&X.addEventListener("blur",Z),this.data.comb){const re=(this.data.rect[2]-this.data.rect[0])/h;X.classList.add("comb"),X.style.letterSpacing=`calc(${re}px * var(--scale-factor) - 1ch)`}}else X=document.createElement("div"),X.textContent=this.data.fieldValue,X.style.verticalAlign="middle",X.style.display="table-cell";return this._setTextStyle(X),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class n extends o{constructor(S){super(S,{isRenderable:S.renderForms})}render(){const S=this.annotationStorage,N=this.data,X=N.id;let oe=S.getValue(X,{value:N.exportValue===N.fieldValue}).value;typeof oe=="string"&&(oe=oe!=="Off",S.setValue(X,{value:oe})),this.container.className="buttonWidgetAnnotation checkBox";const v=document.createElement("input");return U.add(v),v.setAttribute("data-element-id",X),v.disabled=N.readOnly,this._setRequired(v,this.data.required),v.type="checkbox",v.name=N.fieldName,oe&&v.setAttribute("checked",!0),v.setAttribute("exportValue",N.exportValue),v.tabIndex=q,v.addEventListener("change",l=>{const{name:h,checked:A}=l.target;for(const Z of this._getElementsByName(h,X)){const J=A&&Z.exportValue===N.exportValue;Z.domElement&&(Z.domElement.checked=J),S.setValue(Z.id,{value:J})}S.setValue(X,{value:A})}),v.addEventListener("resetform",l=>{const h=N.defaultFieldValue||"Off";l.target.checked=h===N.exportValue}),this.enableScripting&&this.hasJSActions&&(v.addEventListener("updatefromsandbox",l=>{const h={value(A){A.target.checked=A.detail.value!=="Off",S.setValue(X,{value:A.target.checked})}};this._dispatchEventFromSandbox(h,l)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.append(v),this.container}}class a extends o{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const S=this.annotationStorage,N=this.data,X=N.id;let oe=S.getValue(X,{value:N.fieldValue===N.buttonValue}).value;typeof oe=="string"&&(oe=oe!==N.buttonValue,S.setValue(X,{value:oe}));const v=document.createElement("input");if(U.add(v),v.setAttribute("data-element-id",X),v.disabled=N.readOnly,this._setRequired(v,this.data.required),v.type="radio",v.name=N.fieldName,oe&&v.setAttribute("checked",!0),v.tabIndex=q,v.addEventListener("change",l=>{const{name:h,checked:A}=l.target;for(const Z of this._getElementsByName(h,X))S.setValue(Z.id,{value:!1});S.setValue(X,{value:A})}),v.addEventListener("resetform",l=>{const h=N.defaultFieldValue;l.target.checked=h!=null&&h===N.buttonValue}),this.enableScripting&&this.hasJSActions){const l=N.buttonValue;v.addEventListener("updatefromsandbox",h=>{const A={value:Z=>{const J=l===Z.detail.value;for(const re of this._getElementsByName(Z.target.name)){const Se=J&&re.id===X;re.domElement&&(re.domElement.checked=Se),S.setValue(re.id,{value:Se})}}};this._dispatchEventFromSandbox(A,h)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.append(v),this.container}}class t extends E{constructor(S){super(S,{ignoreBorder:S.data.hasAppearance})}render(){const S=super.render();S.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(S.title=this.data.alternativeText);const N=S.lastChild;return this.enableScripting&&this.hasJSActions&&N&&(this._setDefaultPropertiesFromJS(N),N.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({},X)})),S}}class e extends o{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const S=this.annotationStorage,N=this.data.id,X=S.getValue(N,{value:this.data.fieldValue}),oe=document.createElement("select");U.add(oe),oe.setAttribute("data-element-id",N),oe.disabled=this.data.readOnly,this._setRequired(oe,this.data.required),oe.name=this.data.fieldName,oe.tabIndex=q;let v=this.data.combo&&this.data.options.length>0;this.data.combo||(oe.size=this.data.options.length,this.data.multiSelect&&(oe.multiple=!0)),oe.addEventListener("resetform",J=>{const re=this.data.defaultFieldValue;for(const Se of oe.options)Se.selected=Se.value===re});for(const J of this.data.options){const re=document.createElement("option");re.textContent=J.displayValue,re.value=J.exportValue,X.value.includes(J.exportValue)&&(re.setAttribute("selected",!0),v=!1),oe.append(re)}let l=null;if(v){const J=document.createElement("option");J.value=" ",J.setAttribute("hidden",!0),J.setAttribute("selected",!0),oe.prepend(J),l=()=>{J.remove(),oe.removeEventListener("input",l),l=null},oe.addEventListener("input",l)}const h=J=>{const re=J?"value":"textContent",{options:Se,multiple:Ce}=oe;return Ce?Array.prototype.filter.call(Se,xe=>xe.selected).map(xe=>xe[re]):Se.selectedIndex===-1?null:Se[Se.selectedIndex][re]};let A=h(!1);const Z=J=>{const re=J.target.options;return Array.prototype.map.call(re,Se=>({displayValue:Se.textContent,exportValue:Se.value}))};return this.enableScripting&&this.hasJSActions?(oe.addEventListener("updatefromsandbox",J=>{const re={value(Se){l==null||l();const Ce=Se.detail.value,xe=new Set(Array.isArray(Ce)?Ce:[Ce]);for(const He of oe.options)He.selected=xe.has(He.value);S.setValue(N,{value:h(!0)}),A=h(!1)},multipleSelection(Se){oe.multiple=!0},remove(Se){const Ce=oe.options,xe=Se.detail.remove;Ce[xe].selected=!1,oe.remove(xe),Ce.length>0&&Array.prototype.findIndex.call(Ce,De=>De.selected)===-1&&(Ce[0].selected=!0),S.setValue(N,{value:h(!0),items:Z(Se)}),A=h(!1)},clear(Se){for(;oe.length!==0;)oe.remove(0);S.setValue(N,{value:null,items:[]}),A=h(!1)},insert(Se){const{index:Ce,displayValue:xe,exportValue:He}=Se.detail.insert,De=oe.children[Ce],je=document.createElement("option");je.textContent=xe,je.value=He,De?De.before(je):oe.append(je),S.setValue(N,{value:h(!0),items:Z(Se)}),A=h(!1)},items(Se){const{items:Ce}=Se.detail;for(;oe.length!==0;)oe.remove(0);for(const xe of Ce){const{displayValue:He,exportValue:De}=xe,je=document.createElement("option");je.textContent=He,je.value=De,oe.append(je)}oe.options.length>0&&(oe.options[0].selected=!0),S.setValue(N,{value:h(!0),items:Z(Se)}),A=h(!1)},indices(Se){const Ce=new Set(Se.detail.indices);for(const xe of Se.target.options)xe.selected=Ce.has(xe.index);S.setValue(N,{value:h(!0)}),A=h(!1)},editable(Se){Se.target.disabled=!Se.detail.editable}};this._dispatchEventFromSandbox(re,J)}),oe.addEventListener("input",J=>{var Se;const re=h(!0);S.setValue(N,{value:re}),J.preventDefault(),(Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:A,changeEx:re,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(oe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],J=>J.target.value)):oe.addEventListener("input",function(J){S.setValue(N,{value:h(!0)})}),this.data.combo&&this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}const Y=class extends T{constructor(S){var oe,v,l;const{data:N}=S,X=!Y.IGNORE_TYPES.has(N.parentType)&&!!(((oe=N.titleObj)==null?void 0:oe.str)||((v=N.contentsObj)==null?void 0:v.str)||((l=N.richText)==null?void 0:l.str));super(S,{isRenderable:X})}render(){this.container.className="popupAnnotation";const S=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(S.length===0)return this.container;const N=new p({container:this.container,trigger:Array.from(S),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),X=this.page,oe=r.Util.normalizeRect([this.data.parentRect[0],X.view[3]-this.data.parentRect[1]+X.view[1],this.data.parentRect[2],X.view[3]-this.data.parentRect[3]+X.view[1]]),v=oe[0]+this.data.parentRect[2]-this.data.parentRect[0],l=oe[1],{pageWidth:h,pageHeight:A,pageX:Z,pageY:J}=this.viewport.rawDims;return this.container.style.left=`${100*(v-Z)/h}%`,this.container.style.top=`${100*(l-J)/A}%`,this.container.append(N.render()),this.container}};let u=Y;Dt(u,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class p{constructor(S){this.container=S.container,this.trigger=S.trigger,this.color=S.color,this.titleObj=S.titleObj,this.modificationDate=S.modificationDate,this.contentsObj=S.contentsObj,this.richText=S.richText,this.hideWrapper=S.hideWrapper||!1,this.pinned=!1}render(){var h,A;const S=.7,N=document.createElement("div");N.className="popupWrapper",this.hideElement=this.hideWrapper?N:this.container,this.hideElement.hidden=!0;const X=document.createElement("div");X.className="popup";const oe=this.color;if(oe){const Z=S*(255-oe[0])+oe[0],J=S*(255-oe[1])+oe[1],re=S*(255-oe[2])+oe[2];X.style.backgroundColor=r.Util.makeHexColor(Z|0,J|0,re|0)}const v=document.createElement("h1");v.dir=this.titleObj.dir,v.textContent=this.titleObj.str,X.append(v);const l=H.PDFDateString.toDateObject(this.modificationDate);if(l){const Z=document.createElement("span");Z.className="popupDate",Z.textContent="{{date}}, {{time}}",Z.dataset.l10nId="annotation_date_string",Z.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),X.append(Z)}if(((h=this.richText)==null?void 0:h.str)&&(!((A=this.contentsObj)==null?void 0:A.str)||this.contentsObj.str===this.richText.str))d.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:X}),X.lastChild.className="richText popupContent";else{const Z=this._formatContents(this.contentsObj);X.append(Z)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Z of this.trigger)Z.addEventListener("click",this._toggle.bind(this)),Z.addEventListener("mouseover",this._show.bind(this,!1)),Z.addEventListener("mouseout",this._hide.bind(this,!1));return X.addEventListener("click",this._hide.bind(this,!0)),N.append(X),N}_formatContents({str:S,dir:N}){const X=document.createElement("p");X.className="popupContent",X.dir=N;const oe=S.split(/(?:\r\n?|\n)/);for(let v=0,l=oe.length;v<l;++v){const h=oe[v];X.append(document.createTextNode(h)),v<l-1&&X.append(document.createElement("br"))}return X}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(S=!1){S&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(S=!0){S&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class C extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0});this.textContent=S.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const S=document.createElement("div");S.className="annotationTextContent",S.setAttribute("role","comment");for(const N of this.textContent){const X=document.createElement("span");X.textContent=N,S.append(X)}this.container.append(S)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const S=this.data,{width:N,height:X}=W(S.rect),oe=this.svgFactory.create(N,X,!0),v=this.svgFactory.createElement("svg:line");return v.setAttribute("x1",S.rect[2]-S.lineCoordinates[0]),v.setAttribute("y1",S.rect[3]-S.lineCoordinates[1]),v.setAttribute("x2",S.rect[2]-S.lineCoordinates[2]),v.setAttribute("y2",S.rect[3]-S.lineCoordinates[3]),v.setAttribute("stroke-width",S.borderStyle.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),oe.append(v),this.container.append(oe),this._createPopup(v,S),this.container}}class x extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const S=this.data,{width:N,height:X}=W(S.rect),oe=this.svgFactory.create(N,X,!0),v=S.borderStyle.width,l=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",v/2),l.setAttribute("y",v/2),l.setAttribute("width",N-v),l.setAttribute("height",X-v),l.setAttribute("stroke-width",v||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),oe.append(l),this.container.append(oe),this._createPopup(l,S),this.container}}class g extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const S=this.data,{width:N,height:X}=W(S.rect),oe=this.svgFactory.create(N,X,!0),v=S.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",N/2),l.setAttribute("cy",X/2),l.setAttribute("rx",N/2-v/2),l.setAttribute("ry",X/2-v/2),l.setAttribute("stroke-width",v||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),oe.append(l),this.container.append(oe),this._createPopup(l,S),this.container}}class z extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0});this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:N,height:X}=W(S.rect),oe=this.svgFactory.create(N,X,!0);let v=[];for(const h of S.vertices){const A=h.x-S.rect[0],Z=S.rect[3]-h.y;v.push(A+","+Z)}v=v.join(" ");const l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",v),l.setAttribute("stroke-width",S.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),oe.append(l),this.container.append(oe),this._createPopup(l,S),this.container}}class Q extends z{constructor(S){super(S);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0});this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:N,height:X}=W(S.rect),oe=this.svgFactory.create(N,X,!0);for(const v of S.inkLists){let l=[];for(const A of v){const Z=A.x-S.rect[0],J=S.rect[3]-A.y;l.push(`${Z},${J}`)}l=l.join(" ");const h=this.svgFactory.createElement(this.svgElementName);h.setAttribute("points",l),h.setAttribute("stroke-width",S.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),this._createPopup(h,S),oe.append(h)}return this.container.append(oe),this.container}}class P extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class O extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class K extends T{constructor(S){var X,oe,v;const N=!!(S.data.hasPopup||((X=S.data.titleObj)==null?void 0:X.str)||((oe=S.data.contentsObj)==null?void 0:oe.str)||((v=S.data.richText)==null?void 0:v.str));super(S,{isRenderable:N,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends T{constructor(S){super(S,{isRenderable:!0});var oe;const{filename:N,content:X}=this.data.file;this.filename=(0,H.getFilenameFromUrl)(N,!0),this.content=X,(oe=this.linkService.eventBus)==null||oe.dispatch("fileattachmentannotation",{source:this,filename:N,content:X})}render(){var N,X;this.container.className="fileAttachmentAnnotation";let S;return this.data.hasAppearance?S=document.createElement("div"):(S=document.createElement("img"),S.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),S.className="popupTriggerArea",S.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((N=this.data.titleObj)==null?void 0:N.str)||((X=this.data.contentsObj)==null?void 0:X.str)||this.data.richText)&&this._createPopup(S,this.data),this.container.append(S),this.container}_download(){var S;(S=this.downloadManager)==null||S.openOrDownloadData(this.container,this.content,this.filename)}}const Ee=class{static render(S){const{annotations:N,div:X,viewport:oe,accessibilityManager:v}=S;(0,H.setLayerDimensions)(X,oe);const l={data:null,layer:X,page:S.page,viewport:oe,linkService:S.linkService,downloadManager:S.downloadManager,imageResourcesPath:S.imageResourcesPath||"",renderForms:S.renderForms!==!1,svgFactory:new H.DOMSVGFactory,annotationStorage:S.annotationStorage||new i.AnnotationStorage,enableScripting:S.enableScripting===!0,hasJSActions:S.hasJSActions,fieldObjects:S.fieldObjects};let h=0;for(const A of N){if(A.annotationType!==r.AnnotationType.POPUP){const{width:re,height:Se}=W(A.rect);if(re<=0||Se<=0)continue}l.data=A;const Z=F.create(l);if(!Z.isRenderable)continue;const J=Z.render();if(A.hidden&&(J.style.visibility="hidden"),Array.isArray(J))for(const re of J)re.style.zIndex=h++,Re(Ee,ee,Br).call(Ee,re,A.id,X,v);else J.style.zIndex=h++,Z instanceof u?X.prepend(J):Re(Ee,ee,Br).call(Ee,J,A.id,X,v)}Re(this,de,jr).call(this,X,S.annotationCanvasMap)}static update(S){const{annotationCanvasMap:N,div:X,viewport:oe}=S;(0,H.setLayerDimensions)(X,{rotation:oe.rotation}),Re(this,de,jr).call(this,X,N),X.hidden=!1}};let b=Ee;ee=new WeakSet,Br=function(S,N,X,oe){const v=S.firstChild||S;v.id=`${H.AnnotationPrefix}${N}`,X.append(S),oe==null||oe.moveElementInDOM(X,S,v,!1)},de=new WeakSet,jr=function(S,N){if(!!N){for(const[X,oe]of N){const v=S.querySelector(`[data-annotation-id="${X}"]`);if(!v)continue;const{firstChild:l}=v;l?l.nodeName==="CANVAS"?l.replaceWith(oe):l.before(oe):v.append(oe)}N.clear()}},ee.add(b),de.add(b),c.AnnotationLayer=b},(we,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorConverters=void 0;function te(H){return Math.floor(Math.max(0,Math.min(1,H))*255).toString(16).padStart(2,"0")}class r{static CMYK_G([i,k,d,q]){return["G",1-Math.min(1,.3*i+.59*d+.11*k+q)]}static G_CMYK([i]){return["CMYK",0,0,0,1-i]}static G_RGB([i]){return["RGB",i,i,i]}static G_HTML([i]){const k=te(i);return`#${k}${k}${k}`}static RGB_G([i,k,d]){return["G",.3*i+.59*k+.11*d]}static RGB_HTML([i,k,d]){const q=te(i),m=te(k),U=te(d);return`#${q}${m}${U}`}static T_HTML(){return"#00000000"}static CMYK_RGB([i,k,d,q]){return["RGB",1-Math.min(1,i+q),1-Math.min(1,d+q),1-Math.min(1,k+q)]}static CMYK_HTML(i){const k=this.CMYK_RGB(i).slice(1);return this.RGB_HTML(k)}static RGB_CMYK([i,k,d]){const q=1-i,m=1-k,U=1-d,W=Math.min(q,m,U);return["CMYK",q,m,U,W]}}c.ColorConverters=r},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayer=void 0;var r=te(19);class H{static setupStorage(k,d,q,m,U){const W=m.getValue(d,{value:null});switch(q.name){case"textarea":if(W.value!==null&&(k.textContent=W.value),U==="print")break;k.addEventListener("input",F=>{m.setValue(d,{value:F.target.value})});break;case"input":if(q.attributes.type==="radio"||q.attributes.type==="checkbox"){if(W.value===q.attributes.xfaOn?k.setAttribute("checked",!0):W.value===q.attributes.xfaOff&&k.removeAttribute("checked"),U==="print")break;k.addEventListener("change",F=>{m.setValue(d,{value:F.target.checked?F.target.getAttribute("xfaOn"):F.target.getAttribute("xfaOff")})})}else{if(W.value!==null&&k.setAttribute("value",W.value),U==="print")break;k.addEventListener("input",F=>{m.setValue(d,{value:F.target.value})})}break;case"select":if(W.value!==null)for(const F of q.children)F.attributes.value===W.value&&(F.attributes.selected=!0);k.addEventListener("input",F=>{const T=F.target.options,E=T.selectedIndex===-1?"":T[T.selectedIndex].value;m.setValue(d,{value:E})});break}}static setAttributes({html:k,element:d,storage:q=null,intent:m,linkService:U}){const{attributes:W}=d,F=k instanceof HTMLAnchorElement;W.type==="radio"&&(W.name=`${W.name}-${m}`);for(const[T,E]of Object.entries(W))if(E!=null)switch(T){case"class":E.length&&k.setAttribute(T,E.join(" "));break;case"dataId":break;case"id":k.setAttribute("data-element-id",E);break;case"style":Object.assign(k.style,E);break;case"textContent":k.textContent=E;break;default:(!F||T!=="href"&&T!=="newWindow")&&k.setAttribute(T,E)}F&&U.addLinkAttributes(k,W.href,W.newWindow),q&&W.dataId&&this.setupStorage(k,W.dataId,d,q)}static render(k){var f;const d=k.annotationStorage,q=k.linkService,m=k.xfaHtml,U=k.intent||"display",W=document.createElement(m.name);m.attributes&&this.setAttributes({html:W,element:m,intent:U,linkService:q});const F=[[m,-1,W]],T=k.div;if(T.append(W),k.viewport){const o=`matrix(${k.viewport.transform.join(",")})`;T.style.transform=o}U!=="richText"&&T.setAttribute("class","xfaLayer xfaFont");const E=[];for(;F.length>0;){const[o,s,n]=F.at(-1);if(s+1===o.children.length){F.pop();continue}const a=o.children[++F.at(-1)[1]];if(a===null)continue;const{name:t}=a;if(t==="#text"){const u=document.createTextNode(a.value);E.push(u),n.append(u);continue}let e;if(((f=a==null?void 0:a.attributes)==null?void 0:f.xmlns)?e=document.createElementNS(a.attributes.xmlns,t):e=document.createElement(t),n.append(e),a.attributes&&this.setAttributes({html:e,element:a,storage:d,intent:U,linkService:q}),a.children&&a.children.length>0)F.push([a,-1,e]);else if(a.value){const u=document.createTextNode(a.value);r.XfaText.shouldBuildText(t)&&E.push(u),e.append(u)}}for(const o of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))o.setAttribute("readOnly",!0);return{textDivs:E}}static update(k){const d=`matrix(${k.viewport.transform.join(",")})`;k.div.style.transform=d,k.div.hidden=!1}}c.XfaLayer=H},(we,c,te)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SVGGraphics=void 0;var r=te(6),H=te(1),i=te(10);let k=class{constructor(){(0,H.unreachable)("Not implemented: SVGGraphics")}};c.SVGGraphics=k;{let f=function(e){let u=[];const p=[];for(const C of e){if(C.fn==="save"){u.push({fnId:92,fn:"group",items:[]}),p.push(u),u=u.at(-1).items;continue}C.fn==="restore"?u=p.pop():u.push(C)}return u},o=function(e){if(Number.isInteger(e))return e.toString();const u=e.toFixed(10);let p=u.length-1;if(u[p]!=="0")return u;do p--;while(u[p]==="0");return u.substring(0,u[p]==="."?p:p+1)},s=function(e){if(e[4]===0&&e[5]===0){if(e[1]===0&&e[2]===0)return e[0]===1&&e[3]===1?"":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const u=Math.acos(e[0])*180/Math.PI;return`rotate(${o(u)})`}}else if(e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1)return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} ${o(e[5])})`};const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},q="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",U=["butt","round","square"],W=["miter","round","bevel"],F=function(e,u="",p=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!p)return URL.createObjectURL(new Blob([e],{type:u}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${u};base64,`;for(let x=0,g=e.length;x<g;x+=3){const z=e[x]&255,Q=e[x+1]&255,w=e[x+2]&255,B=z>>2,P=(z&3)<<4|Q>>4,O=x+1<g?(Q&15)<<2|w>>6:64,I=x+2<g?w&63:64;L+=C[B]+C[P]+C[O]+C[I]}return L},T=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),u=12,p=new Int32Array(256);for(let w=0;w<256;w++){let B=w;for(let P=0;P<8;P++)B&1?B=3988292384^B>>1&2147483647:B=B>>1&2147483647;p[w]=B}function C(w,B,P){let O=-1;for(let I=B;I<P;I++){const $=(O^w[I])&255,K=p[$];O=O>>>8^K}return O^-1}function L(w,B,P,O){let I=O;const $=B.length;P[I]=$>>24&255,P[I+1]=$>>16&255,P[I+2]=$>>8&255,P[I+3]=$&255,I+=4,P[I]=w.charCodeAt(0)&255,P[I+1]=w.charCodeAt(1)&255,P[I+2]=w.charCodeAt(2)&255,P[I+3]=w.charCodeAt(3)&255,I+=4,P.set(B,I),I+=B.length;const K=C(P,O+4,I);P[I]=K>>24&255,P[I+1]=K>>16&255,P[I+2]=K>>8&255,P[I+3]=K&255}function x(w,B,P){let O=1,I=0;for(let $=B;$<P;++$)O=(O+(w[$]&255))%65521,I=(I+O)%65521;return I<<16|O}function g(w){if(!i.isNodeJS)return z(w);try{let B;parseInt(process.versions.node)>=8?B=w:B=Buffer.from(w);const P=__webpack_require__(62216).deflateSync(B,{level:9});return P instanceof Uint8Array?P:new Uint8Array(P)}catch(B){(0,H.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return z(w)}function z(w){let B=w.length;const P=65535,O=Math.ceil(B/P),I=new Uint8Array(2+B+O*5+4);let $=0;I[$++]=120,I[$++]=156;let K=0;for(;B>P;)I[$++]=0,I[$++]=255,I[$++]=255,I[$++]=0,I[$++]=0,I.set(w.subarray(K,K+P),$),$+=P,K+=P,B-=P;I[$++]=1,I[$++]=B&255,I[$++]=B>>8&255,I[$++]=~B&65535&255,I[$++]=(~B&65535)>>8&255,I.set(w.subarray(K),$),$+=w.length-K;const M=x(w,0,w.length);return I[$++]=M>>24&255,I[$++]=M>>16&255,I[$++]=M>>8&255,I[$++]=M&255,I}function Q(w,B,P,O){const I=w.width,$=w.height;let K,M,b;const _=w.data;switch(B){case H.ImageKind.GRAYSCALE_1BPP:M=0,K=1,b=I+7>>3;break;case H.ImageKind.RGB_24BPP:M=2,K=8,b=I*3;break;case H.ImageKind.RGBA_32BPP:M=6,K=8,b=I*4;break;default:throw new Error("invalid format")}const R=new Uint8Array((1+b)*$);let D=0,V=0;for(let Ee=0;Ee<$;++Ee)R[D++]=0,R.set(_.subarray(V,V+b),D),V+=b,D+=b;if(B===H.ImageKind.GRAYSCALE_1BPP&&O){D=0;for(let Ee=0;Ee<$;Ee++){D++;for(let ve=0;ve<b;ve++)R[D++]^=255}}const Y=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,$>>24&255,$>>16&255,$>>8&255,$&255,K,M,0,0,0]),ee=g(R),fe=e.length+u*3+Y.length+ee.length,de=new Uint8Array(fe);let pe=0;return de.set(e,pe),pe+=e.length,L("IHDR",Y,de,pe),pe+=u+Y.length,L("IDATA",ee,de,pe),pe+=u+ee.length,L("IEND",new Uint8Array(0),de,pe),F(de,"image/png",P)}return function(B,P,O){const I=B.kind===void 0?H.ImageKind.GRAYSCALE_1BPP:B.kind;return Q(B,I,P,O)}}();class E{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=H.IDENTITY_MATRIX,this.fontMatrix=H.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=H.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(u,p){this.x=u,this.y=p}}let n=0,a=0,t=0;c.SVGGraphics=k=class{constructor(e,u,p=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new E,this.transformMatrix=H.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=u,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const C in H.OPS)this._operatorIdMapping[H.OPS[C]]=C}getObject(e,u=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):u}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const u=e.fnArray,p=e.argsArray;for(let C=0,L=u.length;C<L;C++)if(u[C]===H.OPS.dependency)for(const x of p[C]){const g=x.startsWith("g_")?this.commonObjs:this.objs,z=new Promise(Q=>{g.get(x,Q)});this.current.dependencies.push(z)}return Promise.all(this.current.dependencies)}transform(e,u,p,C,L,x){const g=[e,u,p,C,L,x];this.transformMatrix=H.Util.transform(this.transformMatrix,g),this.tgrp=null}getSVG(e,u){this.viewport=u;const p=this._initialize(u);return this.loadDependencies(e).then(()=>(this.transformMatrix=H.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),p))}convertOpList(e){const u=this._operatorIdMapping,p=e.argsArray,C=e.fnArray,L=[];for(let x=0,g=C.length;x<g;x++){const z=C[x];L.push({fnId:z,fn:u[z],args:p[x]})}return f(L)}executeOpTree(e){for(const u of e){const p=u.fn,C=u.fnId,L=u.args;switch(C|0){case H.OPS.beginText:this.beginText();break;case H.OPS.dependency:break;case H.OPS.setLeading:this.setLeading(L);break;case H.OPS.setLeadingMoveText:this.setLeadingMoveText(L[0],L[1]);break;case H.OPS.setFont:this.setFont(L);break;case H.OPS.showText:this.showText(L[0]);break;case H.OPS.showSpacedText:this.showText(L[0]);break;case H.OPS.endText:this.endText();break;case H.OPS.moveText:this.moveText(L[0],L[1]);break;case H.OPS.setCharSpacing:this.setCharSpacing(L[0]);break;case H.OPS.setWordSpacing:this.setWordSpacing(L[0]);break;case H.OPS.setHScale:this.setHScale(L[0]);break;case H.OPS.setTextMatrix:this.setTextMatrix(L[0],L[1],L[2],L[3],L[4],L[5]);break;case H.OPS.setTextRise:this.setTextRise(L[0]);break;case H.OPS.setTextRenderingMode:this.setTextRenderingMode(L[0]);break;case H.OPS.setLineWidth:this.setLineWidth(L[0]);break;case H.OPS.setLineJoin:this.setLineJoin(L[0]);break;case H.OPS.setLineCap:this.setLineCap(L[0]);break;case H.OPS.setMiterLimit:this.setMiterLimit(L[0]);break;case H.OPS.setFillRGBColor:this.setFillRGBColor(L[0],L[1],L[2]);break;case H.OPS.setStrokeRGBColor:this.setStrokeRGBColor(L[0],L[1],L[2]);break;case H.OPS.setStrokeColorN:this.setStrokeColorN(L);break;case H.OPS.setFillColorN:this.setFillColorN(L);break;case H.OPS.shadingFill:this.shadingFill(L[0]);break;case H.OPS.setDash:this.setDash(L[0],L[1]);break;case H.OPS.setRenderingIntent:this.setRenderingIntent(L[0]);break;case H.OPS.setFlatness:this.setFlatness(L[0]);break;case H.OPS.setGState:this.setGState(L[0]);break;case H.OPS.fill:this.fill();break;case H.OPS.eoFill:this.eoFill();break;case H.OPS.stroke:this.stroke();break;case H.OPS.fillStroke:this.fillStroke();break;case H.OPS.eoFillStroke:this.eoFillStroke();break;case H.OPS.clip:this.clip("nonzero");break;case H.OPS.eoClip:this.clip("evenodd");break;case H.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case H.OPS.paintImageXObject:this.paintImageXObject(L[0]);break;case H.OPS.paintInlineImageXObject:this.paintInlineImageXObject(L[0]);break;case H.OPS.paintImageMaskXObject:this.paintImageMaskXObject(L[0]);break;case H.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(L[0],L[1]);break;case H.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case H.OPS.closePath:this.closePath();break;case H.OPS.closeStroke:this.closeStroke();break;case H.OPS.closeFillStroke:this.closeFillStroke();break;case H.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case H.OPS.nextLine:this.nextLine();break;case H.OPS.transform:this.transform(L[0],L[1],L[2],L[3],L[4],L[5]);break;case H.OPS.constructPath:this.constructPath(L[0],L[1]);break;case H.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,H.warn)(`Unimplemented operator ${p}`);break}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,u,p,C,L,x){const g=this.current;g.textMatrix=g.lineMatrix=[e,u,p,C,L,x],g.textMatrixScale=Math.hypot(e,u),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${o(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",o(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.append(g.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=H.IDENTITY_MATRIX,e.lineMatrix=H.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,u){const p=this.current;p.x=p.lineX+=e,p.y=p.lineY+=u,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${o(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",o(-p.y))}showText(e){const u=this.current,p=u.font,C=u.fontSize;if(C===0)return;const L=u.fontSizeScale,x=u.charSpacing,g=u.wordSpacing,z=u.fontDirection,Q=u.textHScale*z,w=p.vertical,B=w?1:-1,P=p.defaultVMetrics,O=C*u.fontMatrix[0];let I=0;for(const M of e){if(M===null){I+=z*g;continue}else if(typeof M=="number"){I+=B*M*C/1e3;continue}const b=(M.isSpace?g:0)+x,_=M.fontChar;let R,D,V=M.width;if(w){let ee;const fe=M.vmetric||P;ee=M.vmetric?fe[1]:V*.5,ee=-ee*O;const de=fe[2]*O;V=fe?-fe[0]:V,R=ee/L,D=(I+de)/L}else R=I/L,D=0;(M.isInFont||p.missingFile)&&(u.xcoords.push(u.x+R),w&&u.ycoords.push(-u.y+D),u.tspan.textContent+=_);let Y;w?Y=V*O-b*z:Y=V*O+b*z,I+=Y}u.tspan.setAttributeNS(null,"x",u.xcoords.map(o).join(" ")),w?u.tspan.setAttributeNS(null,"y",u.ycoords.map(o).join(" ")):u.tspan.setAttributeNS(null,"y",o(-u.y)),w?u.y-=I:u.x+=I*Q,u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${o(u.fontSize)}px`),u.fontStyle!==d.fontStyle&&u.tspan.setAttributeNS(null,"font-style",u.fontStyle),u.fontWeight!==d.fontWeight&&u.tspan.setAttributeNS(null,"font-weight",u.fontWeight);const $=u.textRenderingMode&H.TextRenderingMode.FILL_STROKE_MASK;if($===H.TextRenderingMode.FILL||$===H.TextRenderingMode.FILL_STROKE?(u.fillColor!==d.fillColor&&u.tspan.setAttributeNS(null,"fill",u.fillColor),u.fillAlpha<1&&u.tspan.setAttributeNS(null,"fill-opacity",u.fillAlpha)):u.textRenderingMode===H.TextRenderingMode.ADD_TO_PATH?u.tspan.setAttributeNS(null,"fill","transparent"):u.tspan.setAttributeNS(null,"fill","none"),$===H.TextRenderingMode.STROKE||$===H.TextRenderingMode.FILL_STROKE){const M=1/(u.textMatrixScale||1);this._setStrokeAttributes(u.tspan,M)}let K=u.textMatrix;u.textRise!==0&&(K=K.slice(),K[5]+=u.textRise),u.txtElement.setAttributeNS(null,"transform",`${s(K)} scale(${o(Q)}, -1)`),u.txtElement.setAttributeNS(q,"xml:space","preserve"),u.txtElement.append(u.tspan),u.txtgrp.append(u.txtElement),this._ensureTransformGroup().append(u.txtElement)}setLeadingMoveText(e,u){this.setLeading(-u),this.moveText(e,u)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const u=F(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${u}); }
`}setFont(e){const u=this.current,p=this.commonObjs.get(e[0]);let C=e[1];u.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),u.fontMatrix=p.fontMatrix||H.FONT_IDENTITY_MATRIX;let L="normal";p.black?L="900":p.bold&&(L="bold");const x=p.italic?"italic":"normal";C<0?(C=-C,u.fontDirection=-1):u.fontDirection=1,u.fontSize=C,u.fontFamily=p.loadedName,u.fontWeight=L,u.fontStyle=x,u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"y",o(-u.y)),u.xcoords=[],u.ycoords=[]}endText(){var u;const e=this.current;e.textRenderingMode&H.TextRenderingMode.ADD_TO_PATH_FLAG&&((u=e.txtElement)==null?void 0:u.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=U[e]}setLineJoin(e){this.current.lineJoin=W[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,u,p){this.current.strokeColor=H.Util.makeHexColor(e,u,p)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,u,p){this.current.fillColor=H.Util.makeHexColor(e,u,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const u=this.viewport.width,p=this.viewport.height,C=H.Util.inverseTransform(this.transformMatrix),L=H.Util.applyTransform([0,0],C),x=H.Util.applyTransform([0,p],C),g=H.Util.applyTransform([u,0],C),z=H.Util.applyTransform([u,p],C),Q=Math.min(L[0],x[0],g[0],z[0]),w=Math.min(L[1],x[1],g[1],z[1]),B=Math.max(L[0],x[0],g[0],z[0]),P=Math.max(L[1],x[1],g[1],z[1]),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",Q),O.setAttributeNS(null,"y",w),O.setAttributeNS(null,"width",B-Q),O.setAttributeNS(null,"height",P-w),O.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&O.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(O)}_makeColorN_Pattern(e){return e[0]==="TilingPattern"?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const u=e[1],p=e[2],C=e[3]||H.IDENTITY_MATRIX,[L,x,g,z]=e[4],Q=e[5],w=e[6],B=e[7],P=`shading${t++}`,[O,I,$,K]=H.Util.normalizeRect([...H.Util.applyTransform([L,x],C),...H.Util.applyTransform([g,z],C)]),[M,b]=H.Util.singularValueDecompose2dScale(C),_=Q*M,R=w*b,D=this.svgFactory.createElement("svg:pattern");D.setAttributeNS(null,"id",P),D.setAttributeNS(null,"patternUnits","userSpaceOnUse"),D.setAttributeNS(null,"width",_),D.setAttributeNS(null,"height",R),D.setAttributeNS(null,"x",`${O}`),D.setAttributeNS(null,"y",`${I}`);const V=this.svg,Y=this.transformMatrix,ee=this.current.fillColor,fe=this.current.strokeColor,de=this.svgFactory.create($-O,K-I);if(this.svg=de,this.transformMatrix=C,B===2){const pe=H.Util.makeHexColor(...u);this.current.fillColor=pe,this.current.strokeColor=pe}return this.executeOpTree(this.convertOpList(p)),this.svg=V,this.transformMatrix=Y,this.current.fillColor=ee,this.current.strokeColor=fe,D.append(de.childNodes[0]),this.defs.append(D),`url(#${P})`}_makeShadingPattern(e){switch(typeof e=="string"&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const u=`shading${t++}`,p=e[3];let C;switch(e[1]){case"axial":const L=e[4],x=e[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",u),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",L[0]),C.setAttributeNS(null,"y1",L[1]),C.setAttributeNS(null,"x2",x[0]),C.setAttributeNS(null,"y2",x[1]);break;case"radial":const g=e[4],z=e[5],Q=e[6],w=e[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",u),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",z[0]),C.setAttributeNS(null,"cy",z[1]),C.setAttributeNS(null,"r",w),C.setAttributeNS(null,"fx",g[0]),C.setAttributeNS(null,"fy",g[1]),C.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const L of p){const x=this.svgFactory.createElement("svg:stop");x.setAttributeNS(null,"offset",L[0]),x.setAttributeNS(null,"stop-color",L[1]),C.append(x)}return this.defs.append(C),`url(#${u})`;case"Mesh":return(0,H.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,u){this.current.dashArray=e,this.current.dashPhase=u}constructPath(e,u){const p=this.current;let C=p.x,L=p.y,x=[],g=0;for(const z of e)switch(z|0){case H.OPS.rectangle:C=u[g++],L=u[g++];const Q=u[g++],w=u[g++],B=C+Q,P=L+w;x.push("M",o(C),o(L),"L",o(B),o(L),"L",o(B),o(P),"L",o(C),o(P),"Z");break;case H.OPS.moveTo:C=u[g++],L=u[g++],x.push("M",o(C),o(L));break;case H.OPS.lineTo:C=u[g++],L=u[g++],x.push("L",o(C),o(L));break;case H.OPS.curveTo:C=u[g+4],L=u[g+5],x.push("C",o(u[g]),o(u[g+1]),o(u[g+2]),o(u[g+3]),o(C),o(L)),g+=6;break;case H.OPS.curveTo2:x.push("C",o(C),o(L),o(u[g]),o(u[g+1]),o(u[g+2]),o(u[g+3])),C=u[g+2],L=u[g+3],g+=4;break;case H.OPS.curveTo3:C=u[g+2],L=u[g+3],x.push("C",o(u[g]),o(u[g+1]),o(C),o(L),o(C),o(L)),g+=4;break;case H.OPS.closePath:x.push("Z");break}x=x.join(" "),p.path&&e.length>0&&e[0]!==H.OPS.rectangle&&e[0]!==H.OPS.moveTo?x=p.path.getAttributeNS(null,"d")+x:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(p.path)),p.path.setAttributeNS(null,"d",x),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(C,L)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element){this.pendingClip=null;return}const u=`clippath${n++}`,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",u),p.setAttributeNS(null,"transform",s(this.transformMatrix));const C=e.element.cloneNode(!0);if(this.pendingClip==="evenodd"?C.setAttributeNS(null,"clip-rule","evenodd"):C.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,p.append(C),this.defs.append(p),e.activeClipUrl){e.clipGroup=null;for(const L of this.extraStack)L.clipGroup=null;p.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${u})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const u=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",u)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[u,p]of e)switch(u){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,H.warn)(`Unimplemented graphic state operator ${u}`);break}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,u=1){const p=this.current;let C=p.dashArray;u!==1&&C.length>0&&(C=C.map(function(L){return u*L})),e.setAttributeNS(null,"stroke",p.strokeColor),e.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",o(p.miterLimit)),e.setAttributeNS(null,"stroke-linecap",p.lineCap),e.setAttributeNS(null,"stroke-linejoin",p.lineJoin),e.setAttributeNS(null,"stroke-width",o(u*p.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",C.map(o).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",o(u*p.dashPhase)+"px")}eoFill(){var e;(e=this.current.element)==null||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var e;(e=this.current.element)==null||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const u=this.getObject(e);if(!u){(0,H.warn)(`Dependent image with object ID ${e} is not ready yet`);return}this.paintInlineImageXObject(u)}paintInlineImageXObject(e,u){const p=e.width,C=e.height,L=T(e,this.forceDataSchema,!!u),x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",o(p)),x.setAttributeNS(null,"height",o(C)),this.current.element=x,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS(m,"xlink:href",L),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",o(-C)),g.setAttributeNS(null,"width",o(p)+"px"),g.setAttributeNS(null,"height",o(C)+"px"),g.setAttributeNS(null,"transform",`scale(${o(1/p)} ${o(-1/C)})`),u?u.append(g):this._ensureTransformGroup().append(g)}paintImageMaskXObject(e){const u=this.getObject(e.data,e);if(u.bitmap){(0,H.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const p=this.current,C=u.width,L=u.height,x=p.fillColor;p.maskId=`mask${a++}`;const g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",p.maskId);const z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x","0"),z.setAttributeNS(null,"y","0"),z.setAttributeNS(null,"width",o(C)),z.setAttributeNS(null,"height",o(L)),z.setAttributeNS(null,"fill",x),z.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(g),this._ensureTransformGroup().append(z),this.paintInlineImageXObject(u,g)}paintFormXObjectBegin(e,u){if(Array.isArray(e)&&e.length===6&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),u){const p=u[2]-u[0],C=u[3]-u[1],L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",u[0]),L.setAttributeNS(null,"y",u[1]),L.setAttributeNS(null,"width",o(p)),L.setAttributeNS(null,"height",o(C)),this.current.element=L,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const u=this.svgFactory.create(e.width,e.height),p=this.svgFactory.createElement("svg:defs");u.append(p),this.defs=p;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",s(e.transform)),u.append(C),this.svg=C,u}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",s(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(we){var c=__webpack_module_cache__[we];if(c!==void 0)return c.exports;var te=__webpack_module_cache__[we]={exports:{}};return __webpack_modules__[we](te,te.exports,__w_pdfjs_require__),te.exports}var __webpack_exports__={};return(()=>{var we=__webpack_exports__;Object.defineProperty(we,"__esModule",{value:!0}),Object.defineProperty(we,"AbortException",{enumerable:!0,get:function(){return c.AbortException}}),Object.defineProperty(we,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(we,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return c.AnnotationEditorParamsType}}),Object.defineProperty(we,"AnnotationEditorType",{enumerable:!0,get:function(){return c.AnnotationEditorType}}),Object.defineProperty(we,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return k.AnnotationEditorUIManager}}),Object.defineProperty(we,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(we,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty(we,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty(we,"FeatureTest",{enumerable:!0,get:function(){return c.FeatureTest}}),Object.defineProperty(we,"GlobalWorkerOptions",{enumerable:!0,get:function(){return q.GlobalWorkerOptions}}),Object.defineProperty(we,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty(we,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty(we,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty(we,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(we,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(we,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(we,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty(we,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty(we,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(we,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(we,"SVGGraphics",{enumerable:!0,get:function(){return m.SVGGraphics}}),Object.defineProperty(we,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return c.UNSUPPORTED_FEATURES}}),Object.defineProperty(we,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty(we,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty(we,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty(we,"XfaLayer",{enumerable:!0,get:function(){return U.XfaLayer}}),Object.defineProperty(we,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(we,"createPromiseCapability",{enumerable:!0,get:function(){return c.createPromiseCapability}}),Object.defineProperty(we,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty(we,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(we,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(we,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(we,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(we,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(we,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(we,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(we,"renderTextLayer",{enumerable:!0,get:function(){return H.renderTextLayer}}),Object.defineProperty(we,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(we,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty(we,"updateTextLayer",{enumerable:!0,get:function(){return H.updateTextLayer}}),Object.defineProperty(we,"version",{enumerable:!0,get:function(){return te.version}});var c=__w_pdfjs_require__(1),te=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),H=__w_pdfjs_require__(26),i=__w_pdfjs_require__(27),k=__w_pdfjs_require__(5),d=__w_pdfjs_require__(32),q=__w_pdfjs_require__(14),m=__w_pdfjs_require__(35),U=__w_pdfjs_require__(34);const W="3.4.120",F="af6414988"})(),__webpack_exports__})())}}]);
