(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3024],{31199:function(k,C,e){"use strict";var a=e(28991),f=e(81253),O=e(85893),_=e(67294),T=e(57203),o=["fieldProps","min","proFieldProps","max"],h=function(u,p){var g=u.fieldProps,Z=u.min,i=u.proFieldProps,s=u.max,y=(0,f.Z)(u,o);return(0,O.jsx)(T.Z,(0,a.Z)({valueType:"digit",fieldProps:(0,a.Z)({min:Z,max:s},g),ref:p,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:i},y))};C.Z=_.forwardRef(h)},86615:function(k,C,e){"use strict";var a=e(88983),f=e(47933),O=e(28991),_=e(81253),T=e(85893),o=e(22270),h=e(67294),A=e(64893),u=e(57203),p=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],g=h.forwardRef(function(y,D){var n=y.fieldProps,r=y.options,M=y.radioType,d=y.layout,c=y.proFieldProps,N=y.valueEnum,K=(0,_.Z)(y,p);return(0,T.jsx)(u.Z,(0,O.Z)((0,O.Z)({valueType:M==="button"?"radioButton":"radio",ref:D,valueEnum:(0,o.h)(N,void 0)},K),{},{fieldProps:(0,O.Z)({options:r,layout:d},n),proFieldProps:c,filedConfig:{customLightMode:!0}}))}),Z=h.forwardRef(function(y,D){var n=y.fieldProps,r=y.children;return(0,T.jsx)(f.ZP,(0,O.Z)((0,O.Z)({},n),{},{ref:D,children:r}))}),i=(0,A.G)(Z,{valuePropName:"checked",ignoreWidth:!0}),s=i;s.Group=g,s.Button=f.ZP.Button,s.displayName="ProFormComponent",C.Z=s},90672:function(k,C,e){"use strict";var a=e(28991),f=e(81253),O=e(85893),_=e(67294),T=e(57203),o=["fieldProps","proFieldProps"],h=function(u,p){var g=u.fieldProps,Z=u.proFieldProps,i=(0,f.Z)(u,o);return(0,O.jsx)(T.Z,(0,a.Z)({ref:p,valueType:"textarea",fieldProps:g,proFieldProps:Z},i))};C.Z=_.forwardRef(h)},5966:function(k,C,e){"use strict";var a=e(28991),f=e(81253),O=e(85893),_=e(57203),T=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],h="text",A=function(Z){var i=Z.fieldProps,s=Z.proFieldProps,y=(0,f.Z)(Z,T);return(0,O.jsx)(_.Z,(0,a.Z)({valueType:h,fieldProps:i,filedConfig:{valueType:h},proFieldProps:s},y))},u=function(Z){var i=Z.fieldProps,s=Z.proFieldProps,y=(0,f.Z)(Z,o);return(0,O.jsx)(_.Z,(0,a.Z)({valueType:"password",fieldProps:i,proFieldProps:s,filedConfig:{valueType:h}},y))},p=A;p.Password=u,p.displayName="ProFormComponent",C.Z=p},64335:function(k,C,e){"use strict";var a=e(67294),f=(0,a.createContext)({});C.Z=f},85224:function(k,C,e){"use strict";var a=e(28991),f=e(84305),O=e(39559),_=e(81253),T=e(85893),o=e(94184),h=e.n(o),A=e(97435),u=e(67294),p=e(64335),g=e(56264),Z=e.n(g),i=["children","className","extra","style","renderContent"],s=function(D){var n=D.children,r=D.className,M=D.extra,d=D.style,c=D.renderContent,N=(0,_.Z)(D,i),K=(0,u.useContext)(O.ZP.ConfigContext),me=K.getPrefixCls,ue=D.prefixCls||me("pro"),ee="".concat(ue,"-footer-bar"),R=(0,u.useContext)(p.Z),te=(0,u.useMemo)(function(){var z=R.hasSiderMenu,t=R.isMobile,E=R.siderWidth;if(!!z)return E?t?"100%":"calc(100% - ".concat(E,"px)"):"100%"},[R.collapsed,R.hasSiderMenu,R.isMobile,R.siderWidth]),le=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"".concat(ee,"-left"),children:M}),(0,T.jsx)("div",{className:"".concat(ee,"-right"),children:n})]});return(0,u.useEffect)(function(){return!R||!(R==null?void 0:R.setHasFooterToolbar)?function(){}:(R==null||R.setHasFooterToolbar(!0),function(){var z;R==null||(z=R.setHasFooterToolbar)===null||z===void 0||z.call(R,!1)})},[]),(0,T.jsx)("div",(0,a.Z)((0,a.Z)({className:h()(r,"".concat(ee)),style:(0,a.Z)({width:te},d)},(0,A.Z)(N,["prefixCls"])),{},{children:c?c((0,a.Z)((0,a.Z)((0,a.Z)({},D),R),{},{leftWidth:te}),le):le}))};C.Z=s},92062:function(k){k.exports={wraper:"wraper___1cKnG"}},56264:function(){},28524:function(k,C,e){"use strict";var a=e(92062),f=e.n(a),O=e(85893),_="cpPz",T=function(h){return(0,O.jsx)("div",{className:f().wraper,_nk:"".concat(_,"11"),children:h.children})};C.Z=T},52346:function(k,C,e){"use strict";e.d(C,{jK:function(){return o},Vd:function(){return A},zP:function(){return u},oH:function(){return p},a7:function(){return Z},sF:function(){return s},n2:function(){return D}});var a=e(39428),f=e(3182),O=e(33700),_=e(86072),T="o8nI";function o(n){return h.apply(this,arguments)}function h(){return h=(0,f.Z)((0,a.Z)().mark(function n(r){var M;return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return M=new URLSearchParams(r).toString(),c.abrupt("return",(0,_.Z)("/system/dict/type/list?".concat(M),{data:r,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return c.stop()}},n)})),h.apply(this,arguments)}function A(n){return(0,_.Z)("/system/dict/type/".concat(n),{method:"GET"})}function u(n){return(0,_.Z)("/system/dict/data/type/".concat(n),{method:"GET"})}function p(n){return g.apply(this,arguments)}function g(){return g=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/dict/type",{method:"POST",data:r}));case 1:case"end":return d.stop()}},n)})),g.apply(this,arguments)}function Z(n){return i.apply(this,arguments)}function i(){return i=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/dict/type",{method:"PUT",data:r}));case 1:case"end":return d.stop()}},n)})),i.apply(this,arguments)}function s(n){return y.apply(this,arguments)}function y(){return y=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/dict/type/".concat(r),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return d.stop()}},n)})),y.apply(this,arguments)}function D(n){return(0,O.su)("/system/dict/type/export",{params:n},"dict_type_".concat(new Date().getTime(),".xlsx"))}},78759:function(k,C,e){"use strict";e.d(C,{Af:function(){return o},Th:function(){return u},bL:function(){return p},_8:function(){return Z},n_:function(){return s}});var a=e(39428),f=e(3182),O=e(33700),_=e(86072),T="fRH0";function o(n){return h.apply(this,arguments)}function h(){return h=(0,f.Z)((0,a.Z)().mark(function n(r){var M;return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return M=new URLSearchParams(r).toString(),c.abrupt("return",(0,_.Z)("/system/menu/list?".concat(M),{data:r,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return c.stop()}},n)})),h.apply(this,arguments)}function A(n){return request("/system/menu/".concat(n),{method:"GET"})}function u(){return(0,_.Z)("/system/menu/treeselect",{method:"GET"})}function p(n){return g.apply(this,arguments)}function g(){return g=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/menu",{method:"POST",data:r}));case 1:case"end":return d.stop()}},n)})),g.apply(this,arguments)}function Z(n){return i.apply(this,arguments)}function i(){return i=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/menu",{method:"PUT",data:r}));case 1:case"end":return d.stop()}},n)})),i.apply(this,arguments)}function s(n){return y.apply(this,arguments)}function y(){return y=(0,f.Z)((0,a.Z)().mark(function n(r){return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,_.Z)("/system/menu/".concat(r),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return d.stop()}},n)})),y.apply(this,arguments)}function D(n){return downLoadXlsx("/system/menu/export",{params:n},"menu_".concat(new Date().getTime(),".xlsx"))}},16042:function(k,C,e){"use strict";e.r(C),e.d(C,{default:function(){return Re}});var a=e(71194),f=e(50146),O=e(57663),_=e(71577),T=e(2824),o=e(39428),h=e(11849),A=e(34792),u=e(48086),p=e(3182),g=e(49101),Z=e(73171),i=e(67294),s=e(43581),y=e(85224),D=e(69193),n=e(94370),r=e(32157),M=e(7573),d=e(13062),c=e(71230),N=e(89032),K=e(15746),me=e(9715),ue=e(55843),ee=e(952),R=e(31199),te=e(5966),le=e(86615),z=e(90672),t=e(85893),E="4ot7",Pe=function(m){var x=ue.Z.useForm(),b=(0,T.Z)(x,1),v=b[0],W=m.menuTree,l=m.menuCheckedKeys,L=(0,i.useState)(),re=(0,T.Z)(L,2),oe=re[0],V=re[1],ie=m.statusOptions;(0,i.useEffect)(function(){v.resetFields(),v.setFieldsValue({roleId:m.values.roleId,roleName:m.values.roleName,roleKey:m.values.roleKey,roleSort:m.values.roleSort,dataScope:m.values.dataScope,menuCheckStrictly:m.values.menuCheckStrictly,deptCheckStrictly:m.values.deptCheckStrictly,status:m.values.status,delFlag:m.values.delFlag,createBy:m.values.createBy,createTime:m.values.createTime,updateBy:m.values.updateBy,updateTime:m.values.updateTime,remark:m.values.remark,menuIds:m.values.menuIds})},[v,m]);var $=(0,s.YB)(),H=function(){v.submit()},ne=function(){m.onCancel(),v.resetFields()},de=function(J){m.onSubmit((0,h.Z)((0,h.Z)({},J),{},{menuIds:oe}))};return(0,t.jsx)(f.Z,{width:640,title:$.formatMessage({id:"system.Role.modify_info",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),visible:m.visible,destroyOnClose:!0,onOk:H,onCancel:ne,_nk:"".concat(E,"11"),children:(0,t.jsxs)(ue.Z,{form:v,onFinish:de,initialValues:m.values,_nk:"".concat(E,"21"),children:[(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"31"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"41"),children:(0,t.jsx)(R.Z,{name:"roleId",label:$.formatMessage({id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272ID",disabled:!0,hidden:!m.values.roleId,rules:[{required:!1,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",_nk:"".concat(E,"61")})}],_nk:"".concat(E,"51")})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"32"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"42"),children:(0,t.jsx)(te.Z,{name:"roleName",label:$.formatMessage({id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",_nk:"".concat(E,"62")})}],_nk:"".concat(E,"71")})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"33"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"43"),children:(0,t.jsx)(te.Z,{name:"roleKey",label:$.formatMessage({id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",_nk:"".concat(E,"63")})}],_nk:"".concat(E,"72")})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"34"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"44"),children:(0,t.jsx)(R.Z,{name:"roleSort",label:$.formatMessage({id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",_nk:"".concat(E,"64")})}],_nk:"".concat(E,"52")})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"35"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"45"),children:(0,t.jsx)(le.Z.Group,{valueEnum:ie,name:"status",label:$.formatMessage({id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),labelCol:{span:24},width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",_nk:"".concat(E,"65")})}],_nk:"".concat(E,"81")})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"36"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"46"),children:(0,t.jsx)(ee.ZP.Item,{name:"menuIds",label:$.formatMessage({id:"system.Role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),_nk:"".concat(E,"82"),children:(0,t.jsx)(M.Z,{checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:W,defaultCheckedKeys:l,onCheck:function(J){V(J.checked)},_nk:"".concat(E,"91")})})})}),(0,t.jsx)(c.Z,{gutter:[16,16],_nk:"".concat(E,"37"),children:(0,t.jsx)(K.Z,{span:24,order:1,_nk:"".concat(E,"47"),children:(0,t.jsx)(z.Z,{name:"remark",label:$.formatMessage({id:"system.Role.remark",defaultMessage:"\u5907\u6CE8"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,t.jsx)(s._H,{id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",_nk:"".concat(E,"66")})}],_nk:"".concat(E,"a1")})})})]})})},ye=Pe,Ze=e(52346),ge=e(78759),_e=e(24480),Me=e(28524),P="y1KD",Te=function(){var S=(0,p.Z)((0,o.Z)().mark(function m(x){var b,v;return(0,o.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return b=u.default.loading("\u6B63\u5728\u6DFB\u52A0"),l.prev=1,l.next=4,(0,n._d)((0,h.Z)({},x));case 4:return v=l.sent,b(),v.code===200?u.default.success("\u6DFB\u52A0\u6210\u529F"):u.default.error(v.msg),l.abrupt("return",!0);case 10:return l.prev=10,l.t0=l.catch(1),b(),u.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),l.abrupt("return",!1);case 15:case"end":return l.stop()}},m,null,[[1,10]])}));return function(x){return S.apply(this,arguments)}}(),De=function(){var S=(0,p.Z)((0,o.Z)().mark(function m(x){var b,v;return(0,o.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return b=u.default.loading("\u6B63\u5728\u914D\u7F6E"),l.prev=1,l.next=4,(0,n.ul)(x);case 4:return v=l.sent,b(),v.code===200?u.default.success("\u914D\u7F6E\u6210\u529F"):u.default.error(v.msg),l.abrupt("return",!0);case 10:return l.prev=10,l.t0=l.catch(1),b(),u.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),l.abrupt("return",!1);case 15:case"end":return l.stop()}},m,null,[[1,10]])}));return function(x){return S.apply(this,arguments)}}(),fe=function(){var S=(0,p.Z)((0,o.Z)().mark(function m(x){var b,v;return(0,o.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(b=u.default.loading("\u6B63\u5728\u5220\u9664"),x){l.next=3;break}return l.abrupt("return",!0);case 3:return l.prev=3,l.next=6,(0,n.l5)(x.map(function(L){return L.roleId}).join(","));case 6:return v=l.sent,b(),v.code===200?u.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.default.error(v.msg),l.abrupt("return",!0);case 12:return l.prev=12,l.t0=l.catch(3),b(),u.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),l.abrupt("return",!1);case 17:case"end":return l.stop()}},m,null,[[3,12]])}));return function(x){return S.apply(this,arguments)}}(),Fe=function(){var S=(0,p.Z)((0,o.Z)().mark(function m(x){var b,v,W;return(0,o.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b=u.default.loading("\u6B63\u5728\u5220\u9664"),x){L.next=3;break}return L.abrupt("return",!0);case 3:return L.prev=3,v=[x.roleId],L.next=7,(0,n.l5)(v.join(","));case 7:return W=L.sent,b(),W.code===200?u.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.default.error(W.msg),L.abrupt("return",!0);case 13:return L.prev=13,L.t0=L.catch(3),b(),u.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),L.abrupt("return",!1);case 18:case"end":return L.stop()}},m,null,[[3,13]])}));return function(x){return S.apply(this,arguments)}}(),Ce=function(){var S=(0,p.Z)((0,o.Z)().mark(function m(){var x;return(0,o.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return x=u.default.loading("\u6B63\u5728\u5BFC\u51FA"),v.prev=1,v.next=4,(0,n.Lp)();case 4:return x(),u.default.success("\u5BFC\u51FA\u6210\u529F"),v.abrupt("return",!0);case 9:return v.prev=9,v.t0=v.catch(1),x(),u.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),v.abrupt("return",!1);case 14:case"end":return v.stop()}},m,null,[[1,9]])}));return function(){return S.apply(this,arguments)}}(),Oe=function(){var m=(0,i.useRef)(),x=(0,i.useState)(!1),b=(0,T.Z)(x,2),v=b[0],W=b[1],l=(0,i.useRef)(),L=(0,i.useState)(),re=(0,T.Z)(L,2),oe=re[0],V=re[1],ie=(0,i.useState)([]),$=(0,T.Z)(ie,2),H=$[0],ne=$[1],de=(0,i.useState)([]),X=(0,T.Z)(de,2),J=X[0],je=X[1],xe=(0,i.useState)(),pe=(0,T.Z)(xe,2),be=pe[0],he=pe[1],Be=(0,i.useState)([]),ve=(0,T.Z)(Be,2),Ie=ve[0],Ee=ve[1],Y=(0,s.md)(),Le=(0,s.YB)();(0,i.useEffect)(function(){(0,Ze.zP)("sys_normal_disable").then(function(w){if(w.code===200){var B={};w.data.forEach(function(F){B[F.dictValue]=F.dictLabel}),je(B)}})},[]);var Ue=[{title:(0,t.jsx)(s._H,{id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID",_nk:"".concat(P,"11")}),dataIndex:"roleId",valueType:"text",hideInSearch:!0},{title:(0,t.jsx)(s._H,{id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0",_nk:"".concat(P,"12")}),dataIndex:"roleName",valueType:"text"},{title:(0,t.jsx)(s._H,{id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",_nk:"".concat(P,"13")}),dataIndex:"roleKey",valueType:"text"},{title:(0,t.jsx)(s._H,{id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F",_nk:"".concat(P,"14")}),dataIndex:"roleSort",valueType:"text"},{title:(0,t.jsx)(s._H,{id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001",_nk:"".concat(P,"15")}),dataIndex:"status",valueType:"select",valueEnum:J},{title:(0,t.jsx)(s._H,{id:"system.Role.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4",_nk:"".concat(P,"16")}),dataIndex:"createTime",valueType:"dateRange",render:function(B,F){return(0,t.jsx)("span",{_nk:"".concat(P,"21"),children:F.createTime})},search:{transform:function(B){return{"params[beginTime]":B[0],"params[endTime]":B[1]}}},hideInSearch:!0},{title:(0,t.jsx)(s._H,{id:"system.Role.remark",defaultMessage:"\u5907\u6CE8",_nk:"".concat(P,"17")}),dataIndex:"remark",valueType:"textarea",hideInSearch:!0},{title:(0,t.jsx)(s._H,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C",_nk:"".concat(P,"18")}),dataIndex:"option",width:"220px",valueType:"option",render:function(B,F){return[(0,t.jsx)(_.Z,{type:"link",size:"small",hidden:!Y.hasPerms("system:role:edit"),onClick:function(){(0,n.mj)(F.roleId).then(function(U){if(U.code===200){var I=(0,_e.wC)(U.menus);he(I),Ee(U.checkedKeys),W(!0),V(F)}else u.default.warn(U.msg)})},_nk:"".concat(P,"31"),children:(0,t.jsx)(s._H,{id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91",_nk:"".concat(P,"19")})},"edit"),(0,t.jsx)(_.Z,{type:"link",size:"small",danger:!0,hidden:!Y.hasPerms("system:role:remove"),onClick:(0,p.Z)((0,o.Z)().mark(function j(){return(0,o.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:f.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var G=(0,p.Z)((0,o.Z)().mark(function ae(){var ce;return(0,o.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,Fe(F);case 2:ce=se.sent,ce&&l.current&&l.current.reload();case 4:case"end":return se.stop()}},ae)}));function Q(){return G.apply(this,arguments)}return Q}()});case 1:case"end":return I.stop()}},j)})),_nk:"".concat(P,"32"),children:(0,t.jsx)(s._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664",_nk:"".concat(P,"1a")})},"batchRemove")]}}];return(0,t.jsxs)(Me.Z,{_nk:"".concat(P,"41"),children:[(0,t.jsx)("div",{style:{width:"100%",float:"right"},_nk:"".concat(P,"51"),children:(0,t.jsx)(D.ZP,{headerTitle:Le.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:l,formRef:m,rowKey:"roleId",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(_.Z,{type:"primary",hidden:!Y.hasPerms("system:role:add"),onClick:(0,p.Z)((0,o.Z)().mark(function B(){return(0,o.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:(0,ge.Th)().then(function(U){if(U.code===200){var I=(0,_e.wC)(U.data);he(I),Ee([]),W(!0),V(void 0)}else u.default.warn(U.msg)});case 1:case"end":return j.stop()}},B)})),_nk:"".concat(P,"33"),children:[(0,t.jsx)(g.Z,{_nk:"".concat(P,"71")})," ",(0,t.jsx)(s._H,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA",_nk:"".concat(P,"1b")})]},"add"),(0,t.jsxs)(_.Z,{type:"primary",hidden:(H==null?void 0:H.length)===0||!Y.hasPerms("system:role:remove"),onClick:(0,p.Z)((0,o.Z)().mark(function B(){var F,j,U;return(0,o.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fe(H);case 2:F=G.sent,F&&(ne([]),(j=l.current)===null||j===void 0||(U=j.reloadAndRest)===null||U===void 0||U.call(j));case 4:case"end":return G.stop()}},B)})),_nk:"".concat(P,"34"),children:[(0,t.jsx)(Z.Z,{_nk:"".concat(P,"81")}),(0,t.jsx)(s._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664",_nk:"".concat(P,"1c")})]},"remove"),(0,t.jsxs)(_.Z,{type:"primary",hidden:!Y.hasPerms("system:role:export"),onClick:(0,p.Z)((0,o.Z)().mark(function B(){return(0,o.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:Ce();case 1:case"end":return j.stop()}},B)})),_nk:"".concat(P,"35"),children:[(0,t.jsx)(g.Z,{_nk:"".concat(P,"72")}),(0,t.jsx)(s._H,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(P,"1d")})]},"export")]},request:function(B){return(0,n.JV)((0,h.Z)({},B)).then(function(F){return{data:F.rows,total:F.total,success:!0}})},columns:Ue,rowSelection:{onChange:function(B,F){ne(F)}},_nk:"".concat(P,"61")},"roleList")}),(H==null?void 0:H.length)>0&&(0,t.jsx)(y.Z,{extra:(0,t.jsxs)("div",{_nk:"".concat(P,"52"),children:[(0,t.jsx)(s._H,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(P,"1e")}),(0,t.jsx)("a",{style:{fontWeight:600},_nk:"".concat(P,"a1"),children:H.length}),(0,t.jsx)(s._H,{id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(P,"1f")})]}),_nk:"".concat(P,"91"),children:(0,t.jsx)(_.Z,{hidden:!Y.hasPerms("system:role:remove"),onClick:(0,p.Z)((0,o.Z)().mark(function w(){return(0,o.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:f.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var j=(0,p.Z)((0,o.Z)().mark(function I(){var G,Q,ae;return(0,o.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,fe(H);case 2:G=q.sent,G&&(ne([]),(Q=l.current)===null||Q===void 0||(ae=Q.reloadAndRest)===null||ae===void 0||ae.call(Q));case 4:case"end":return q.stop()}},I)}));function U(){return j.apply(this,arguments)}return U}()});case 1:case"end":return F.stop()}},w)})),_nk:"".concat(P,"36"),children:(0,t.jsx)(s._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(P,"1g")})},"remove")}),(0,t.jsx)(ye,{onSubmit:function(){var w=(0,p.Z)((0,o.Z)().mark(function B(F){var j;return(0,o.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(j=!1,!F.roleId){I.next=7;break}return I.next=4,De((0,h.Z)({},F));case 4:j=I.sent,I.next=10;break;case 7:return I.next=9,Te((0,h.Z)({},F));case 9:j=I.sent;case 10:j&&(W(!1),V(void 0),l.current&&l.current.reload());case 11:case"end":return I.stop()}},B)}));return function(B){return w.apply(this,arguments)}}(),onCancel:function(){W(!1),V(void 0)},visible:v,values:oe||{},menuTree:be||[],menuCheckedKeys:Ie||[],statusOptions:J,_nk:"".concat(P,"b1")})]})},Re=Oe},94370:function(k,C,e){"use strict";e.d(C,{JV:function(){return o},_d:function(){return u},ul:function(){return g},l5:function(){return i},Lp:function(){return y},mj:function(){return n}});var a=e(39428),f=e(3182),O=e(33700),_=e(86072),T="RBx3";function o(r){return h.apply(this,arguments)}function h(){return h=(0,f.Z)((0,a.Z)().mark(function r(M){var d;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return d=new URLSearchParams(M).toString(),N.abrupt("return",(0,_.Z)("/system/role/list?".concat(d),{data:M,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return N.stop()}},r)})),h.apply(this,arguments)}function A(r){return request("/system/role/".concat(r),{method:"GET"})}function u(r){return p.apply(this,arguments)}function p(){return p=(0,f.Z)((0,a.Z)().mark(function r(M){return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,_.Z)("/system/role",{method:"POST",data:M}));case 1:case"end":return c.stop()}},r)})),p.apply(this,arguments)}function g(r){return Z.apply(this,arguments)}function Z(){return Z=(0,f.Z)((0,a.Z)().mark(function r(M){return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,_.Z)("/system/role",{method:"PUT",data:M}));case 1:case"end":return c.stop()}},r)})),Z.apply(this,arguments)}function i(r){return s.apply(this,arguments)}function s(){return s=(0,f.Z)((0,a.Z)().mark(function r(M){return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,_.Z)("/system/role/".concat(M),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return c.stop()}},r)})),s.apply(this,arguments)}function y(r){return D.apply(this,arguments)}function D(){return D=(0,f.Z)((0,a.Z)().mark(function r(M){return(0,a.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,O.su)("/system/role/export",{params:M},"role_".concat(new Date().getTime(),".xlsx")));case 1:case"end":return c.stop()}},r)})),D.apply(this,arguments)}function n(r){return(0,_.Z)("/system/menu/roleMenuTreeselect/".concat(r),{method:"get"})}},33700:function(k,C,e){"use strict";e.d(C,{su:function(){return u}});var a=e(39428),f=e(11849),O=e(3182),_=e(86072),T="BUC8",o={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function h(g){request(g,{method:"GET",responseType:"blob",getResponse:!0}).then(function(Z){A(Z,o.zip)})}function A(g,Z){var i=document.createElement("a"),s=new Blob([g.data],{type:Z}),y=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),D=decodeURI(g.response.headers.get("content-disposition")),n=y.exec(D),r=n?n[1]:"file";r=r.replace(/"/g,""),i.style.display="none",i.href=URL.createObjectURL(s),i.setAttribute("download",r),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}function u(g,Z,i){return p.apply(this,arguments)}function p(){return p=(0,O.Z)((0,a.Z)().mark(function g(Z,i,s){return(0,a.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,_.Z)(Z,(0,f.Z)((0,f.Z)({},i),{},{method:"POST",responseType:"blob"})).then(function(n){var r=document.createElement("a"),M=n;r.style.display="none",r.href=URL.createObjectURL(M),r.setAttribute("download",s),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}));case 1:case"end":return D.stop()}},g)})),p.apply(this,arguments)}}}]);
