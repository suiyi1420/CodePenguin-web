(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5916],{92062:function(p){p.exports={wraper:"wraper___1cKnG"}},28524:function(p,h,e){"use strict";var g=e(92062),k=e.n(g),x=e(85893),C="cpPz",T=function(F){return(0,x.jsx)("div",{className:k().wraper,_nk:"".concat(C,"11"),children:F.children})};h.Z=T},78861:function(p,h,e){"use strict";e.r(h),e.d(h,{default:function(){return S}});var g=e(11849),k=e(57663),x=e(71577),C=e(71194),T=e(50146),r=e(39428),F=e(34792),y=e(48086),m=e(3182),O=e(67294),s=e(43581),R=e(69193),U=e(86072),$="1yAr";function L(o){return Z.apply(this,arguments)}function Z(){return Z=(0,m.Z)((0,r.Z)().mark(function o(l){var i;return(0,r.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=new URLSearchParams(l).toString(),c.abrupt("return",(0,U.Z)("/monitor/online/list?".concat(i),{data:l,method:"GET"}));case 2:case"end":return c.stop()}},o)})),Z.apply(this,arguments)}function B(o){return I.apply(this,arguments)}function I(){return I=(0,m.Z)((0,r.Z)().mark(function o(l){return(0,r.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,U.Z)("/monitor/online/".concat(l),{method:"DELETE"}));case 1:case"end":return u.stop()}},o)})),I.apply(this,arguments)}var P=e(28524),n=e(85893),t="gIcv",w=function(){var o=(0,m.Z)((0,r.Z)().mark(function l(i){var u;return(0,r.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=y.default.loading("\u6B63\u5728\u5F3A\u5236\u4E0B\u7EBF"),a.prev=1,a.next=4,B(i.tokenId);case 4:return u(),y.default.success("\u5F3A\u5236\u4E0B\u7EBF\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),u(),y.default.error("\u5F3A\u5236\u4E0B\u7EBF\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},l,null,[[1,9]])}));return function(i){return o.apply(this,arguments)}}(),H=function(){var l=(0,O.useRef)(),i=(0,O.useRef)(),u=(0,s.md)(),c=(0,s.YB)();(0,O.useEffect)(function(){},[]);var a=[{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.token_id",defaultMessage:"\u4F1A\u8BDD\u7F16\u53F7",_nk:"".concat(t,"11")}),dataIndex:"tokenId",valueType:"text"},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.user_name",defaultMessage:"\u7528\u6237\u8D26\u53F7",_nk:"".concat(t,"12")}),dataIndex:"userName",valueType:"text"},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.dept_name",defaultMessage:"\u90E8\u95E8\u540D\u79F0",_nk:"".concat(t,"13")}),dataIndex:"deptName",valueType:"text"},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.ipaddr",defaultMessage:"\u767B\u5F55IP\u5730\u5740",_nk:"".concat(t,"14")}),dataIndex:"ipaddr",valueType:"text"},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.login_location",defaultMessage:"\u767B\u5F55\u5730\u70B9",_nk:"".concat(t,"15")}),dataIndex:"loginLocation",valueType:"text",hideInSearch:!0},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.browser",defaultMessage:"\u6D4F\u89C8\u5668\u7C7B\u578B",_nk:"".concat(t,"16")}),dataIndex:"browser",valueType:"text",hideInSearch:!0},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.os",defaultMessage:"\u64CD\u4F5C\u7CFB\u7EDF",_nk:"".concat(t,"17")}),dataIndex:"os",valueType:"text",hideInSearch:!0},{title:(0,n.jsx)(s._H,{id:"monitor.OnlineUser.login_time",defaultMessage:"\u767B\u5F55\u65F6\u95F4",_nk:"".concat(t,"18")}),dataIndex:"loginTime",valueType:"dateRange",render:function(d,f){return(0,n.jsx)("span",{_nk:"".concat(t,"21"),children:f.loginTime})},search:{transform:function(d){return{"params[beginTime]":d[0],"params[endTime]":d[1]}}}},{title:(0,n.jsx)(s._H,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C",_nk:"".concat(t,"19")}),dataIndex:"option",width:"220px",valueType:"option",render:function(d,f){return[(0,n.jsx)(x.Z,{type:"link",size:"small",danger:!0,hidden:!u.hasPerms("system:user:remove"),onClick:(0,m.Z)((0,r.Z)().mark(function E(){return(0,r.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:T.Z.confirm({title:"\u5F3A\u8E22",content:"\u786E\u5B9A\u5F3A\u5236\u5C06\u8BE5\u7528\u6237\u8E22\u4E0B\u7EBF\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var W=(0,m.Z)((0,r.Z)().mark(function K(){var D;return(0,r.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,w(f);case 2:D=v.sent,D&&i.current&&i.current.reload();case 4:case"end":return v.stop()}},K)}));function A(){return W.apply(this,arguments)}return A}()});case 1:case"end":return M.stop()}},E)})),_nk:"".concat(t,"31"),children:"\u5F3A\u9000"},"batchRemove")]}}];return(0,n.jsx)(P.Z,{_nk:"".concat(t,"41"),children:(0,n.jsx)("div",{style:{width:"100%",float:"right"},_nk:"".concat(t,"51"),children:(0,n.jsx)(R.ZP,{headerTitle:c.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:i,formRef:l,rowKey:"infoId",search:{labelWidth:120},request:function(d){return L((0,g.Z)({},d)).then(function(f){var E={data:f.rows,total:f.total,success:!0};return E})},columns:a,_nk:"".concat(t,"61")},"logininforList")})})},S=H}}]);
