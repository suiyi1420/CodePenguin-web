(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[456],{23826:function(X){X.exports={tabItem:"tabItem___1vS9f",closeIcon:"closeIcon___2J7aW",active:"active___3rWkl"}},76125:function(X){X.exports={tabs:"tabs___2O5Eo",tabList:"tabList___Xo1dv",linkTabs:"linkTabs___2hVoG",tabLeftMenu:"tabLeftMenu___3bQ1n",tabMore:"tabMore___2ymdg",boxShadow:"boxShadow___2NrHz"}},99768:function(X,w,n){"use strict";n.r(w),n.d(w,{default:function(){return st}});var Tt=n(48736),P=n(27049),bt=n(59250),K=n(16114),pt=n(30887),E=n(28682),D=n(11849),M=n(67294),z=n(64140),Q=n(92977),V=n(57254),v=n(43581),U=n(54549),Y=n(43934),$=n(23826),W=n.n($),t=n(85893),O="tB8e",q=function(p){var m=(0,Y.k6)(),f=p.value,r=p.tabIndex,a=(0,v.tT)("system"),s=a.active,c=a.dispatch,T=a.tabWidth,C=a.tarnslateX,x=a.showTabs,H=a.tabsWidth,j=a.tabList,g=(0,v.j9)(),I=g.dropScope,F=j.length>1;return(0,t.jsxs)("div",{className:"".concat(W().tabItem," link-tab ").concat(r===s?W().active:""),title:f.title,onClick:function(){var S=Math.floor(C/T),k=C-S*T;if(r-S<=0){c({type:"CHANGESTATE",payload:{active:r,tarnslateX:C-k}}),m.push((0,D.Z)({},f));return}if(r-S+1===x){var N=(r+1)*T-(H-100);c({type:"CHANGESTATE",payload:{active:r,tarnslateX:N}}),m.push((0,D.Z)({},f));return}c({type:"CHANGESTATE",payload:{active:r}}),m.push((0,D.Z)({},f))},_nk:"".concat(O,"11"),children:[f.title,F&&(0,t.jsx)("div",{className:W().closeIcon,onClick:function(S){S.stopPropagation();var k=f.keepAliveName,N=JSON.parse(JSON.stringify(j));N.splice(r,1);var y=0;if(r<s)y=s-1,I(k);else if(r===s){if(s>0){y=s-1;var l=setTimeout(function(){clearTimeout(l),m.push(j[y])},10)}else{y=0;var e=setTimeout(function(){clearTimeout(e),m.push(N[y])},10)}var d=m.listen(function(){d();var i=setTimeout(function(){clearTimeout(i),I(k)},10)})}else y=s,I(k);c({type:"CHANGESTATE",payload:{tabList:N,active:y,tarnslateX:0}})},_nk:"".concat(O,"12"),children:(0,t.jsx)(U.Z,{_nk:"".concat(O,"21")})})]})},_=(0,z.W8)(q),tt=n(76125),A=n.n(tt),o="RfRm",at=(0,z.JN)(function(){var G=(0,M.useRef)(),p=(0,v.tT)("system"),m=p.tabList,f=p.tarnslateX;return(0,t.jsx)("div",{className:"".concat(A().tabList),ref:G,_nk:"".concat(o,"11"),children:(0,t.jsx)("div",{className:A().linkTabs,style:{transform:"translateX(-".concat(f,"px)")},_nk:"".concat(o,"12"),children:m.map(function(r,a){return(0,t.jsx)(_,{index:a,value:r,tabIndex:a,_nk:"iAr".concat(o,"21")},"item-".concat(a))})})})}),et=function(){var p=(0,v.tT)("@@initialState"),m=p.initialState,f=m.collapsed,r=(0,v.tT)("system"),a=r.tabList,s=r.dispatch,c=r.active,T=r.showTabs,C=r.tabsWidth,x=r.tabWidth,H=r.tarnslateX,j=(0,v.j9)(),g=j.dropScope,I=j.clear,F=function(e){var d=e.oldIndex,i=e.newIndex,b=JSON.parse(JSON.stringify(a)),Z=b[c];b.splice(i,0,b.splice(d,1)[0]);var B=b.findIndex(function(J){return J===Z});s({type:"CHANGESTATE",payload:{tabList:b,active:B}})},L=[];if(a.length>T){var S=Math.floor(H/x),k=Math.floor(H/x)+T;a.forEach(function(l,e){e<S&&L.push(l),e>=k&&L.push(l)})}var N=(0,t.jsx)(E.Z,{onClick:function(e){var d=T*x-C+100,i=a==null?void 0:a.findIndex(function(B){return B.pathname===e.key}),b=T-1;if(i>b){var Z=(i-b)*x+d;s({type:"CHANGESTATE",payload:{tarnslateX:Z,active:i}})}else s({type:"CHANGESTATE",payload:{tarnslateX:x*i,active:i}});v.m8.push((0,D.Z)({},a[i]))},_nk:"".concat(o,"31"),children:L.map(function(l){return(0,t.jsxs)(E.Z.Item,{_nk:"iAr".concat(o,"41"),children:[" ",l.title]},l.pathname)})}),y=(0,t.jsxs)(E.Z,{onClick:function(e){var d=0,i=JSON.parse(JSON.stringify(a));switch(e.key){case"closeCurrent":{var b=i[c].keepAliveName;if(c>0){d=c-1;var Z=setTimeout(function(){clearTimeout(Z),v.m8.push(a[d])},10)}else{d=0;var B=setTimeout(function(){clearTimeout(B),v.m8.push(i[d])},10)}var J=v.m8.listen(function(){J();var u=setTimeout(function(){clearTimeout(u),g(b)},10)});i.splice(c,1),s({type:"CHANGESTATE",payload:{tabList:i,active:d,tarnslateX:0}});break}case"closeOther":{var ct=i.filter(function(u,h){return h!==c}),lt=i.filter(function(u,h){return h===c});ct.forEach(function(u){return g(u.keepAliveName)}),s({type:"CHANGESTATE",payload:{tabList:lt,active:0,tarnslateX:0}});break}case"closeAll":{var ut=v.m8.listen(function(){ut();var u=setTimeout(function(){clearTimeout(u),I()},10)}),dt=setTimeout(function(){clearTimeout(dt),v.m8.push("/")},10);s({type:"CHANGESTATE",payload:{tabList:[],active:0,tarnslateX:0}});break}case"closeLeft":{var vt=i.filter(function(u,h){return h<c}),mt=i.filter(function(u,h){return h>=c});vt.forEach(function(u){return g(u.keepAliveName)}),s({type:"CHANGESTATE",payload:{tabList:mt,active:0,tarnslateX:0}});break}case"closeRight":{var ft=i.filter(function(u,h){return h>c}),ht=i.filter(function(u,h){return h<=c});ft.forEach(function(u){return g(u.keepAliveName)}),s({type:"CHANGESTATE",payload:{tabList:ht,tarnslateX:0}});break}}},_nk:"".concat(o,"32"),children:[(0,t.jsx)(E.Z.Item,{_nk:"".concat(o,"42"),children:"\u5173\u95ED\u5F53\u524D\u6807\u7B7E"},"closeCurrent"),(0,t.jsx)(E.Z.Item,{_nk:"".concat(o,"43"),children:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E"},"closeOther"),(0,t.jsx)(E.Z.Item,{_nk:"".concat(o,"44"),children:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E"},"closeAll"),(0,t.jsx)(E.Z.Item,{disabled:c===0,_nk:"".concat(o,"45"),children:"\u5173\u95ED\u5F53\u524D\u5DE6\u8FB9\u6807\u7B7E"},"closeLeft"),(0,t.jsx)(E.Z.Item,{disabled:c===a.length-1,_nk:"".concat(o,"46"),children:"\u5173\u95ED\u5F53\u524D\u53F3\u8FB9\u6807\u7B7E"},"closeRight")]});return(0,M.useEffect)(function(){window.onresize=function(){var e=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;s({type:"CHANGESTATE",payload:{tabsWidth:e,tarnslateX:0}})};var l=setTimeout(function(){var e=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;s({type:"CHANGESTATE",payload:{tabsWidth:e}})},100);return function(){clearTimeout(l)}},[f]),(0,M.useEffect)(function(){var l=setTimeout(function(){var e=document.getElementsByClassName("link-tab")[0]?document.getElementsByClassName("link-tab")[0].getBoundingClientRect().width:120,d=Math.ceil((C-100)/e);e>0&&x>0&&s({type:"CHANGESTATE",payload:{showTabs:d,tabWidth:e}})},100);return function(){clearTimeout(l)}},[C]),(0,t.jsxs)("div",{className:A().tabs,id:"contentContainer",_nk:"".concat(o,"13"),children:[a.length>0&&(0,t.jsx)(at,{onSortEnd:F,axis:"x",distance:1,_nk:"".concat(o,"51")}),(0,t.jsxs)("div",{className:"".concat(A().tabLeftMenu,"  ").concat(a.length>=T&&A().boxShadow),_nk:"".concat(o,"14"),children:[a.length>T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.Z,{overlay:N,className:A().tabMore,_nk:"".concat(o,"61"),children:(0,t.jsx)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},_nk:"".concat(o,"71"),children:(0,t.jsx)(Q.Z,{_nk:"".concat(o,"81")})})}),(0,t.jsx)(P.Z,{type:"vertical",_nk:"".concat(o,"91")})]}),a.length>1&&(0,t.jsx)(K.Z,{overlay:y,className:A().menuRight,_nk:"".concat(o,"62"),children:(0,t.jsxs)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},_nk:"".concat(o,"72"),children:["\u64CD\u4F5C ",(0,t.jsx)(V.Z,{_nk:"".concat(o,"a1")})]})})]})]})},nt=et,ot=n(60923),R="fotZ",it=ot.Z.tabsLayout,rt=function(p){var m=function(){return it?(0,t.jsx)(nt,{_nk:"".concat(R,"11")}):null};return(0,t.jsxs)("div",{_nk:"".concat(R,"21"),children:[m(),(0,t.jsx)("div",{_nk:"".concat(R,"22"),children:p.children})]})},st=rt}}]);
