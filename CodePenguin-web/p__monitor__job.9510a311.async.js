(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3362],{31199:function(ae,w,n){"use strict";var S=n(28991),I=n(81253),M=n(85893),y=n(67294),L=n(57203),B=["fieldProps","min","proFieldProps","max"],A=function(F,t){var O=F.fieldProps,C=F.min,m=F.proFieldProps,d=F.max,b=(0,I.Z)(F,B);return(0,M.jsx)(L.Z,(0,S.Z)({valueType:"digit",fieldProps:(0,S.Z)({min:C,max:d},O),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:m},b))};w.Z=y.forwardRef(A)},86615:function(ae,w,n){"use strict";var S=n(88983),I=n(47933),M=n(28991),y=n(81253),L=n(85893),B=n(22270),A=n(67294),k=n(64893),F=n(57203),t=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],O=A.forwardRef(function(b,N){var z=b.fieldProps,Y=b.options,T=b.radioType,i=b.layout,re=b.proFieldProps,te=b.valueEnum,ue=(0,y.Z)(b,t);return(0,L.jsx)(F.Z,(0,M.Z)((0,M.Z)({valueType:T==="button"?"radioButton":"radio",ref:N,valueEnum:(0,B.h)(te,void 0)},ue),{},{fieldProps:(0,M.Z)({options:Y,layout:i},z),proFieldProps:re,filedConfig:{customLightMode:!0}}))}),C=A.forwardRef(function(b,N){var z=b.fieldProps,Y=b.children;return(0,L.jsx)(I.ZP,(0,M.Z)((0,M.Z)({},z),{},{ref:N,children:Y}))}),m=(0,k.G)(C,{valuePropName:"checked",ignoreWidth:!0}),d=m;d.Group=O,d.Button=I.ZP.Button,d.displayName="ProFormComponent",w.Z=d},90672:function(ae,w,n){"use strict";var S=n(28991),I=n(81253),M=n(85893),y=n(67294),L=n(57203),B=["fieldProps","proFieldProps"],A=function(F,t){var O=F.fieldProps,C=F.proFieldProps,m=(0,I.Z)(F,B);return(0,M.jsx)(L.Z,(0,S.Z)({ref:t,valueType:"textarea",fieldProps:O,proFieldProps:C},m))};w.Z=y.forwardRef(A)},5966:function(ae,w,n){"use strict";var S=n(28991),I=n(81253),M=n(85893),y=n(57203),L=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],A="text",k=function(C){var m=C.fieldProps,d=C.proFieldProps,b=(0,I.Z)(C,L);return(0,M.jsx)(y.Z,(0,S.Z)({valueType:A,fieldProps:m,filedConfig:{valueType:A},proFieldProps:d},b))},F=function(C){var m=C.fieldProps,d=C.proFieldProps,b=(0,I.Z)(C,B);return(0,M.jsx)(y.Z,(0,S.Z)({valueType:"password",fieldProps:m,proFieldProps:d,filedConfig:{valueType:A}},b))},t=k;t.Password=F,t.displayName="ProFormComponent",w.Z=t},38012:function(ae,w,n){"use strict";n.r(w),n.d(w,{default:function(){return He}});var S=n(59250),I=n(16114),M=n(30887),y=n(28682),L=n(71194),B=n(50146),A=n(57663),k=n(71577),F=n(2824),t=n(39428),O=n(11849),C=n(34792),m=n(48086),d=n(3182),b=n(57254),N=n(49101),z=n(57119),Y=n(73171),T=n(67294),i=n(43581),re=n(85224),te=n(69193),ue=n(33700),Q=n(86072),Qe="4d0l";function ke(f){return se.apply(this,arguments)}function se(){return se=(0,d.Z)((0,t.Z)().mark(function f(a){var s;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=new URLSearchParams(a).toString(),l.abrupt("return",(0,Q.Z)("/monitor/job/list?".concat(s),{data:a,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return l.stop()}},f)})),se.apply(this,arguments)}function Xe(f){return request("/monitor/job/".concat(f),{method:"GET"})}function xe(f){return oe.apply(this,arguments)}function oe(){return oe=(0,d.Z)((0,t.Z)().mark(function f(a){return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,Q.Z)("/monitor/job",{method:"POST",data:a}));case 1:case"end":return o.stop()}},f)})),oe.apply(this,arguments)}function Be(f){return le.apply(this,arguments)}function le(){return le=(0,d.Z)((0,t.Z)().mark(function f(a){return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,Q.Z)("/monitor/job",{method:"PUT",data:a}));case 1:case"end":return o.stop()}},f)})),le.apply(this,arguments)}function ve(f){return ie.apply(this,arguments)}function ie(){return ie=(0,d.Z)((0,t.Z)().mark(function f(a){return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,Q.Z)("/monitor/job/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},f)})),ie.apply(this,arguments)}function Ce(f){return(0,ue.su)("/monitor/job/export",{params:f},"job_".concat(new Date().getTime(),".xlsx"))}function Me(f,a){return ce.apply(this,arguments)}function ce(){return ce=(0,d.Z)((0,t.Z)().mark(function f(a,s){var o;return(0,t.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return o={jobId:a,jobGroup:s},E.abrupt("return",(0,Q.Z)("/monitor/job/run",{method:"PUT",data:o}));case 2:case"end":return E.stop()}},f)})),ce.apply(this,arguments)}var qe=n(13062),$=n(71230),en=n(89032),K=n(15746),nn=n(9715),he=n(55843),ye=n(31199),X=n(5966),Te=n(90672),_e=n(86615),e=n(85893),c="bwLz",Oe=function(a){var s=he.Z.useForm(),o=(0,F.Z)(s,1),l=o[0],E=a.statusOptions;(0,T.useEffect)(function(){l.resetFields(),l.setFieldsValue({jobId:a.values.jobId,jobName:a.values.jobName,jobGroup:a.values.jobGroup,invokeTarget:a.values.invokeTarget,cronExpression:a.values.cronExpression,misfirePolicy:a.values.misfirePolicy,concurrent:a.values.concurrent,status:a.values.status,createBy:a.values.createBy,createTime:a.values.createTime,updateBy:a.values.updateBy,updateTime:a.values.updateTime,remark:a.values.remark})},[l,a]);var r=(0,i.YB)(),j=function(){l.submit()},de=function(){a.onCancel(),l.resetFields()},q=function(fe){a.onSubmit(fe)};return(0,e.jsx)(B.Z,{width:640,title:r.formatMessage({id:"monitor.Job.modify",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),visible:a.visible,destroyOnClose:!0,onOk:j,onCancel:de,_nk:"".concat(c,"11"),children:(0,e.jsxs)(he.Z,{form:l,onFinish:q,initialValues:a.values,_nk:"".concat(c,"21"),children:[(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"31"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"41"),children:(0,e.jsx)(ye.Z,{name:"jobId",label:r.formatMessage({id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID",disabled:!0,hidden:!a.values.jobId,rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",_nk:"".concat(c,"61")})}],_nk:"".concat(c,"51")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"32"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"42"),children:(0,e.jsx)(X.Z,{name:"jobName",label:r.formatMessage({id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",_nk:"".concat(c,"62")})}],_nk:"".concat(c,"71")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"33"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"43"),children:(0,e.jsx)(X.Z,{name:"jobGroup",label:r.formatMessage({id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",_nk:"".concat(c,"63")})}],_nk:"".concat(c,"72")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"34"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"44"),children:(0,e.jsx)(Te.Z,{name:"invokeTarget",label:r.formatMessage({id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",_nk:"".concat(c,"64")})}],_nk:"".concat(c,"81")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"35"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"45"),children:(0,e.jsx)(X.Z,{name:"cronExpression",label:r.formatMessage({id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",_nk:"".concat(c,"65")})}],_nk:"".concat(c,"73")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"36"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"46"),children:(0,e.jsx)(X.Z,{name:"misfirePolicy",label:r.formatMessage({id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",_nk:"".concat(c,"66")})}],_nk:"".concat(c,"74")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"37"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"47"),children:(0,e.jsx)(X.Z,{name:"concurrent",label:r.formatMessage({id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",_nk:"".concat(c,"67")})}],_nk:"".concat(c,"75")})})}),(0,e.jsx)($.Z,{gutter:[16,16],_nk:"".concat(c,"38"),children:(0,e.jsx)(K.Z,{span:24,order:1,_nk:"".concat(c,"48"),children:(0,e.jsx)(_e.Z.Group,{valueEnum:E,name:"status",label:r.formatMessage({id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",_nk:"".concat(c,"68")})}],_nk:"".concat(c,"91")})})})]})})},De=Oe,an=n(98858),R=n(4914),h="Nkod",Ie=function(a){var s=a.values,o=a.statusOptions;(0,T.useEffect)(function(){},[a]);var l=(0,i.YB)(),E={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},r=function(){a.onCancel()};return(0,e.jsx)(B.Z,{width:800,title:l.formatMessage({id:"monitor.Operlog.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),visible:a.visible,destroyOnClose:!0,onCancel:r,footer:[(0,e.jsx)(k.Z,{onClick:r,_nk:"".concat(h,"21"),children:"\u5173\u95ED"},"back")],_nk:"".concat(h,"11"),children:(0,e.jsxs)(R.Z,{column:24,_nk:"".concat(h,"31"),children:[(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7",_nk:"".concat(h,"51")}),_nk:"".concat(h,"41"),children:s.jobId}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0",_nk:"".concat(h,"52")}),_nk:"".concat(h,"42"),children:s.jobName}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D",_nk:"".concat(h,"53")}),_nk:"".concat(h,"43"),children:s.jobGroup}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C",_nk:"".concat(h,"54")}),_nk:"".concat(h,"44"),children:s.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",_nk:"".concat(h,"55")}),_nk:"".concat(h,"45"),children:E[s.misfirePolicy?s.misfirePolicy:"0"]}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4",_nk:"".concat(h,"56")}),_nk:"".concat(h,"46"),children:s.createTime}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001",_nk:"".concat(h,"57")}),_nk:"".concat(h,"47"),children:o[s.status?s.status:0]}),(0,e.jsx)(R.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4",_nk:"".concat(h,"58")}),_nk:"".concat(h,"48"),children:s.nextValidTime}),(0,e.jsx)(R.Z.Item,{span:24,label:(0,e.jsx)(i._H,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F",_nk:"".concat(h,"59")}),_nk:"".concat(h,"49"),children:s.cronExpression}),(0,e.jsx)(R.Z.Item,{span:24,label:(0,e.jsx)(i._H,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",_nk:"".concat(h,"5a")}),_nk:"".concat(h,"4a"),children:s.invokeTarget})]})})},Ae=Ie,Fe=n(52346),Re=n(28524),u="HGL2",we=function(){var f=(0,d.Z)((0,t.Z)().mark(function a(s){var o,l;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=m.default.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,xe((0,O.Z)({},s));case 4:return l=r.sent,o(),l.code===200?m.default.success("\u6DFB\u52A0\u6210\u529F"):m.default.error(l.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),o(),m.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},a,null,[[1,10]])}));return function(s){return f.apply(this,arguments)}}(),Je=function(){var f=(0,d.Z)((0,t.Z)().mark(function a(s){var o,l;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=m.default.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,Be(s);case 4:return l=r.sent,o(),l.code===200?m.default.success("\u914D\u7F6E\u6210\u529F"):m.default.error(l.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),o(),m.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},a,null,[[1,10]])}));return function(s){return f.apply(this,arguments)}}(),je=function(){var f=(0,d.Z)((0,t.Z)().mark(function a(s){var o,l;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=m.default.loading("\u6B63\u5728\u5220\u9664"),s){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,ve(s.map(function(j){return j.jobId}).join(","));case 6:return l=r.sent,o(),l.code===200?m.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):m.default.error(l.msg),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),o(),m.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 17:case"end":return r.stop()}},a,null,[[3,12]])}));return function(s){return f.apply(this,arguments)}}(),Se=function(){var f=(0,d.Z)((0,t.Z)().mark(function a(s){var o,l,E;return(0,t.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(o=m.default.loading("\u6B63\u5728\u5220\u9664"),s){j.next=3;break}return j.abrupt("return",!0);case 3:return j.prev=3,l=[s.jobId],j.next=7,ve(l.join(","));case 7:return E=j.sent,o(),E.code===200?m.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):m.default.error(E.msg),j.abrupt("return",!0);case 13:return j.prev=13,j.t0=j.catch(3),o(),m.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),j.abrupt("return",!1);case 18:case"end":return j.stop()}},a,null,[[3,13]])}));return function(s){return f.apply(this,arguments)}}(),Le=function(){var f=(0,d.Z)((0,t.Z)().mark(function a(){var s;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=m.default.loading("\u6B63\u5728\u5BFC\u51FA"),l.prev=1,l.next=4,Ce();case 4:return s(),m.default.success("\u5BFC\u51FA\u6210\u529F"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),s(),m.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),l.abrupt("return",!1);case 14:case"end":return l.stop()}},a,null,[[1,9]])}));return function(){return f.apply(this,arguments)}}(),We=function(){var a=(0,T.useRef)(),s=(0,T.useState)(!1),o=(0,F.Z)(s,2),l=o[0],E=o[1],r=(0,T.useState)(!1),j=(0,F.Z)(r,2),de=j[0],q=j[1],J=(0,T.useRef)(),fe=(0,T.useState)(),Ze=(0,F.Z)(fe,2),Ee=Ze[0],G=Ze[1],Ue=(0,T.useState)([]),ge=(0,F.Z)(Ue,2),W=ge[0],me=ge[1],$e=(0,T.useState)([]),be=(0,F.Z)($e,2),pe=be[0],Ke=be[1],Ge=(0,T.useState)([]),Pe=(0,F.Z)(Ge,2),Ne=Pe[0],Ve=Pe[1],V=(0,i.md)(),ze=(0,i.YB)();(0,T.useEffect)(function(){(0,Fe.zP)("sys_normal_disable").then(function(x){if(x.code===200){var Z={};x.data.forEach(function(p){Z[p.dictValue]=p.dictLabel}),Ke(Z)}}),(0,Fe.zP)("sys_job_group").then(function(x){if(x.code===200){var Z={};x.data.forEach(function(p){Z[p.dictValue]=p.dictLabel}),Ve(Z)}})},[]);var Ye=[{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID",_nk:"".concat(u,"11")}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0",_nk:"".concat(u,"12")}),dataIndex:"jobName",valueType:"text",render:function(Z,p){return(0,e.jsx)("a",{onClick:function(){q(!0),G(p)},_nk:"".concat(u,"21"),children:Z})}},{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D",_nk:"".concat(u,"13")}),dataIndex:"jobGroup",valueType:"text",valueEnum:Ne},{title:(0,e.jsx)(i._H,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",_nk:"".concat(u,"14")}),dataIndex:"invokeTarget",valueType:"textarea",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F",_nk:"".concat(u,"15")}),dataIndex:"cronExpression",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001",_nk:"".concat(u,"16")}),dataIndex:"status",valueType:"select",valueEnum:pe},{title:(0,e.jsx)(i._H,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C",_nk:"".concat(u,"17")}),dataIndex:"option",width:"220px",valueType:"option",render:function(Z,p){return[(0,e.jsx)(k.Z,{type:"link",size:"small",hidden:!V.hasPerms("monitor:job:edit"),onClick:function(){E(!0),G(p)},_nk:"".concat(u,"31"),children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(k.Z,{type:"link",size:"small",danger:!0,hidden:!V.hasPerms("monitor:job:remove"),onClick:(0,d.Z)((0,t.Z)().mark(function v(){return(0,t.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:B.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var U=(0,d.Z)((0,t.Z)().mark(function D(){var ee;return(0,t.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,Se(p);case 2:ee=ne.sent,ee&&J.current&&J.current.reload();case 4:case"end":return ne.stop()}},D)}));function _(){return U.apply(this,arguments)}return _}()});case 1:case"end":return g.stop()}},v)})),_nk:"".concat(u,"32"),children:"\u5220\u9664"},"batchRemove"),(0,e.jsx)(I.Z,{overlay:function(){return(0,e.jsxs)(y.Z,{_nk:"".concat(u,"51"),children:[(0,e.jsx)(y.Z.Item,{_nk:"".concat(u,"61"),children:(0,e.jsx)(k.Z,{type:"link",size:"small",onClick:function(){B.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var g=(0,d.Z)((0,t.Z)().mark(function _(){var D;return(0,t.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,Me(p.jobId,p.jobGroup);case 2:D=P.sent,D&&m.default.success("\u6267\u884C\u6210\u529F");case 4:case"end":return P.stop()}},_)}));function U(){return g.apply(this,arguments)}return U}()})},_nk:"".concat(u,"33"),children:"\u6267\u884C\u4E00\u6B21"},"runOnce")},"0"),(0,e.jsx)(y.Z.Item,{_nk:"".concat(u,"62"),children:(0,e.jsx)(k.Z,{type:"link",size:"small",onClick:function(){q(!0),G(p)},_nk:"".concat(u,"34"),children:"\u4EFB\u52A1\u8BE6\u60C5"},"runOnce")},"1"),(0,e.jsx)(y.Z.Item,{_nk:"".concat(u,"63"),children:(0,e.jsx)(k.Z,{type:"link",size:"small",onClick:function(){i.m8.push("/monitor/job-log/index?jobId=".concat(p.jobId))},_nk:"".concat(u,"35"),children:"\u8C03\u5EA6\u65E5\u5FD7"},"history")},"2")]})},_nk:"".concat(u,"41"),children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(H){return H.preventDefault()},_nk:"".concat(u,"22"),children:["\u66F4\u591A",(0,e.jsx)(b.Z,{_nk:"".concat(u,"71")})]})},"toolbar")]}}];return(0,e.jsxs)(Re.Z,{_nk:"".concat(u,"81"),children:[(0,e.jsx)("div",{style:{width:"100%",float:"right"},_nk:"".concat(u,"91"),children:(0,e.jsx)(te.ZP,{headerTitle:ze.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:J,formRef:a,rowKey:"jobId",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(k.Z,{type:"primary",hidden:!V.hasPerms("monitor:job:add"),onClick:(0,d.Z)((0,t.Z)().mark(function Z(){return(0,t.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:G(void 0),E(!0);case 2:case"end":return v.stop()}},Z)})),_nk:"".concat(u,"36"),children:[(0,e.jsx)(N.Z,{_nk:"".concat(u,"b1")})," ",(0,e.jsx)(i._H,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA",_nk:"".concat(u,"18")})]},"add"),(0,e.jsxs)(k.Z,{type:"primary",hidden:(W==null?void 0:W.length)===0||!V.hasPerms("monitor:job:remove"),onClick:(0,d.Z)((0,t.Z)().mark(function Z(){return(0,t.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:B.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,e.jsx)(z.Z,{_nk:"".concat(u,"c1")}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,d.Z)((0,t.Z)().mark(function g(){var U,_,D;return(0,t.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,je(W);case 2:U=P.sent,U&&(me([]),(_=J.current)===null||_===void 0||(D=_.reloadAndRest)===null||D===void 0||D.call(_));case 4:case"end":return P.stop()}},g)}))()}});case 1:case"end":return v.stop()}},Z)})),_nk:"".concat(u,"37"),children:[(0,e.jsx)(Y.Z,{_nk:"".concat(u,"d1")}),(0,e.jsx)(i._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664",_nk:"".concat(u,"19")})]},"remove"),(0,e.jsxs)(k.Z,{type:"primary",hidden:!V.hasPerms("monitor:job:export"),onClick:(0,d.Z)((0,t.Z)().mark(function Z(){return(0,t.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:Le();case 1:case"end":return v.stop()}},Z)})),_nk:"".concat(u,"38"),children:[(0,e.jsx)(N.Z,{_nk:"".concat(u,"b2")}),(0,e.jsx)(i._H,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(u,"1a")})]},"export")]},request:function(Z){return ke((0,O.Z)({},Z)).then(function(p){var v={data:p.rows,total:p.total,success:!0};return v})},columns:Ye,rowSelection:{onChange:function(Z,p){me(p)}},_nk:"".concat(u,"a1")},"jobList")}),(W==null?void 0:W.length)>0&&(0,e.jsx)(re.Z,{extra:(0,e.jsxs)("div",{_nk:"".concat(u,"92"),children:[(0,e.jsx)(i._H,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(u,"1b")}),(0,e.jsx)("a",{style:{fontWeight:600},_nk:"".concat(u,"23"),children:W.length}),(0,e.jsx)(i._H,{id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(u,"1c")})]}),_nk:"".concat(u,"e1"),children:(0,e.jsx)(k.Z,{hidden:!V.hasPerms("monitor:job:remove"),onClick:(0,d.Z)((0,t.Z)().mark(function x(){return(0,t.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:B.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var v=(0,d.Z)((0,t.Z)().mark(function g(){var U,_,D;return(0,t.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,je(W);case 2:U=P.sent,U&&(me([]),(_=J.current)===null||_===void 0||(D=_.reloadAndRest)===null||D===void 0||D.call(_));case 4:case"end":return P.stop()}},g)}));function H(){return v.apply(this,arguments)}return H}()});case 1:case"end":return p.stop()}},x)})),_nk:"".concat(u,"39"),children:(0,e.jsx)(i._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(u,"1d")})},"remove")}),(0,e.jsx)(De,{onSubmit:function(){var x=(0,d.Z)((0,t.Z)().mark(function Z(p){var v;return(0,t.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(v=!1,!p.jobId){g.next=7;break}return g.next=4,Je((0,O.Z)({},p));case 4:v=g.sent,g.next=10;break;case 7:return g.next=9,we((0,O.Z)({},p));case 9:v=g.sent;case 10:v&&(E(!1),G(void 0),J.current&&J.current.reload());case 11:case"end":return g.stop()}},Z)}));return function(Z){return x.apply(this,arguments)}}(),onCancel:function(){E(!1),G(void 0)},visible:l,values:Ee||{},statusOptions:pe,_nk:"".concat(u,"f1")}),(0,e.jsx)(Ae,{onCancel:function(){q(!1),G(void 0)},visible:de,values:Ee||{},statusOptions:pe,_nk:"".concat(u,"g1")})]})},He=We}}]);
